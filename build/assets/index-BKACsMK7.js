var Fh=Object.defineProperty;var Ph=(n,r,s)=>r in n?Fh(n,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[r]=s;var Qe=(n,r,s)=>Ph(n,typeof r!="symbol"?r+"":r,s);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function Go(){return Go=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)({}).hasOwnProperty.call(s,t)&&(n[t]=s[t])}return n},Go.apply(null,arguments)}var Cc={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Lh(n,r){if(Vo(n,r))return n[r];throw typeof n[r]=="function"&&Ih(n,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function Rh(n,r,s){if(Vo(n,r))return n[r]=s,s;throw new Error('No access to property "'+r+'"')}function Vo(n,r){return!Bh(n)&&!Array.isArray(n)?!1:Wo(Nh,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Ih(n,r){return n==null||typeof n[r]!="function"||Wo(n,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(n)?!1:Wo(Uh,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Bh(n){return typeof n=="object"&&n&&n.constructor===Object}var Nh={length:!0,name:!0},Uh={toString:!0,valueOf:!0,toLocaleString:!0};class zh{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return Lh(this.wrappedObject,r)}set(r,s){return Rh(this.wrappedObject,r,s),this}has(r){return Vo(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return Gh(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var s of this.keys())r(this.get(s),s,this)}delete(r){Vo(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function Gh(n,r){return{next:()=>{var s=n.next();return s.done?s:{value:r(s.value),done:!1}}}}function Bt(n){return typeof n=="number"}function Sr(n){return!n||typeof n!="object"||typeof n.constructor!="function"?!1:n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0}function Vh(n){return typeof n=="bigint"}function Mc(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function Ac(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function Tc(n){return n&&n.constructor.prototype.isUnit===!0||!1}function rn(n){return typeof n=="string"}var ir=Array.isArray;function yr(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function Ho(n){return Array.isArray(n)||yr(n)}function Hh(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Wh(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function qh(n){return n&&n.constructor.prototype.isRange===!0||!1}function ya(n){return n&&n.constructor.prototype.isIndex===!0||!1}function Xh(n){return typeof n=="boolean"}function Yh(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function $h(n){return n&&n.constructor.prototype.isHelp===!0||!1}function Zh(n){return typeof n=="function"}function Kh(n){return n instanceof Date}function Qh(n){return n instanceof RegExp}function va(n){return!!(n&&typeof n=="object"&&n.constructor===Object&&!Mc(n)&&!Ac(n))}function Jh(n){return n?n instanceof Map||n instanceof zh||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function":!1}function ef(n){return n===null}function tf(n){return n===void 0}function rf(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function nf(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function sf(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function of(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function af(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function lf(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function uf(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function cf(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function df(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function hf(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function ff(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function pf(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function mf(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function gf(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function yf(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function vf(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function bf(n){return n&&n.constructor.prototype.isChain===!0||!1}function $n(n){var r=typeof n;return r==="object"?n===null?"null":Sr(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":r}function mr(n){var r=typeof n;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||n===null||n===void 0)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(s){return mr(s)});if(n instanceof Date)return new Date(n.valueOf());if(Sr(n))return n;if(va(n))return _f(n,mr);if(r==="function")return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function _f(n,r){var s={};for(var t in n)Wo(n,t)&&(s[t]=r(n[t]));return s}function fs(n,r){var s,t,a;if(Array.isArray(n)){if(!Array.isArray(r)||n.length!==r.length)return!1;for(t=0,a=n.length;t<a;t++)if(!fs(n[t],r[t]))return!1;return!0}else{if(typeof n=="function")return n===r;if(n instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(s in n)if(!(s in r)||!fs(n[s],r[s]))return!1;for(s in r)if(!(s in n))return!1;return!0}else return n===r}}function Wo(n,r){return n&&Object.hasOwnProperty.call(n,r)}function xf(n,r){for(var s={},t=0;t<r.length;t++){var a=r[t],l=n[a];l!==void 0&&(s[a]=l)}return s}var wf=["Matrix","Array"],jf=["number","BigNumber","Fraction"],Zs=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Cc)};Go(Zs,Cc,{MATRIX_OPTIONS:wf,NUMBER_OPTIONS:jf});function Sl(){return!0}function Ir(){return!1}function is(){}const Dl="Argument is not a typed-function.";function kc(){function n(ae){return typeof ae=="object"&&ae!==null&&ae.constructor===Object}const r=[{name:"number",test:function(ae){return typeof ae=="number"}},{name:"string",test:function(ae){return typeof ae=="string"}},{name:"boolean",test:function(ae){return typeof ae=="boolean"}},{name:"Function",test:function(ae){return typeof ae=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ae){return ae instanceof Date}},{name:"RegExp",test:function(ae){return ae instanceof RegExp}},{name:"Object",test:n},{name:"null",test:function(ae){return ae===null}},{name:"undefined",test:function(ae){return ae===void 0}}],s={name:"any",test:Sl,isAny:!0};let t,a,l=0,o={createCount:0};function u(ae){const ge=t.get(ae);if(ge)return ge;let we='Unknown type "'+ae+'"';const Me=ae.toLowerCase();let ke;for(ke of a)if(ke.toLowerCase()===Me){we+='. Did you mean "'+ke+'" ?';break}throw new TypeError(we)}function i(ae){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const we=ge?u(ge).index:a.length,Me=[];for(let ce=0;ce<ae.length;++ce){if(!ae[ce]||typeof ae[ce].name!="string"||typeof ae[ce].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Ce=ae[ce].name;if(t.has(Ce))throw new TypeError('Duplicate type name "'+Ce+'"');Me.push(Ce),t.set(Ce,{name:Ce,test:ae[ce].test,isAny:ae[ce].isAny,index:we+ce,conversionsTo:[]})}const ke=a.slice(we);a=a.slice(0,we).concat(Me).concat(ke);for(let ce=we+Me.length;ce<a.length;++ce)t.get(a[ce]).index=ce}function d(){t=new Map,a=[],l=0,i([s],!1)}d(),i(r);function p(){let ae;for(ae of a)t.get(ae).conversionsTo=[];l=0}function m(ae){const ge=a.filter(we=>{const Me=t.get(we);return!Me.isAny&&Me.test(ae)});return ge.length?ge:["any"]}function c(ae){return ae&&typeof ae=="function"&&"_typedFunctionData"in ae}function h(ae,ge,we){if(!c(ae))throw new TypeError(Dl);const Me=we&&we.exact,ke=Array.isArray(ge)?ge.join(","):ge,ce=_(ke),Ce=y(ce);if(!Me||Ce in ae.signatures){const $=ae._typedFunctionData.signatureMap.get(Ce);if($)return $}const me=ce.length;let Z;if(Me){Z=[];let $;for($ in ae.signatures)Z.push(ae._typedFunctionData.signatureMap.get($))}else Z=ae._typedFunctionData.signatures;for(let $=0;$<me;++$){const ne=ce[$],be=[];let Ee;for(Ee of Z){const Re=E(Ee.params,$);if(!(!Re||ne.restParam&&!Re.restParam)){if(!Re.hasAny){const Ve=x(Re);if(ne.types.some(Xe=>!Ve.has(Xe.name)))continue}be.push(Ee)}}if(Z=be,Z.length===0)break}let Q;for(Q of Z)if(Q.params.length<=me)return Q;throw new TypeError("Signature not found (signature: "+(ae.name||"unnamed")+"("+y(ce,", ")+"))")}function v(ae,ge,we){return h(ae,ge,we).implementation}function f(ae,ge){const we=u(ge);if(we.test(ae))return ae;const Me=we.conversionsTo;if(Me.length===0)throw new Error("There are no conversions to "+ge+" defined.");for(let ke=0;ke<Me.length;ke++)if(u(Me[ke].from).test(ae))return Me[ke].convert(ae);throw new Error("Cannot convert "+ae+" to "+ge)}function y(ae){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return ae.map(we=>we.name).join(ge)}function g(ae){const ge=ae.indexOf("...")===0,Me=(ge?ae.length>3?ae.slice(3):"any":ae).split("|").map(me=>u(me.trim()));let ke=!1,ce=ge?"...":"";return{types:Me.map(function(me){return ke=me.isAny||ke,ce+=me.name+"|",{name:me.name,typeIndex:me.index,test:me.test,isAny:me.isAny,conversion:null,conversionIndex:-1}}),name:ce.slice(0,-1),hasAny:ke,hasConversion:!1,restParam:ge}}function b(ae){const ge=ae.types.map(Ce=>Ce.name),we=H(ge);let Me=ae.hasAny,ke=ae.name;const ce=we.map(function(Ce){const me=u(Ce.from);return Me=me.isAny||Me,ke+="|"+Ce.from,{name:Ce.from,typeIndex:me.index,test:me.test,isAny:me.isAny,conversion:Ce,conversionIndex:Ce.index}});return{types:ae.types.concat(ce),name:ke,hasAny:Me,hasConversion:ce.length>0,restParam:ae.restParam}}function x(ae){return ae.typeSet||(ae.typeSet=new Set,ae.types.forEach(ge=>ae.typeSet.add(ge.name))),ae.typeSet}function _(ae){const ge=[];if(typeof ae!="string")throw new TypeError("Signatures must be strings");const we=ae.trim();if(we==="")return ge;const Me=we.split(",");for(let ke=0;ke<Me.length;++ke){const ce=g(Me[ke].trim());if(ce.restParam&&ke!==Me.length-1)throw new SyntaxError('Unexpected rest parameter "'+Me[ke]+'": only allowed for the last parameter');if(ce.types.length===0)return null;ge.push(ce)}return ge}function j(ae){const ge=ie(ae);return ge?ge.restParam:!1}function S(ae){if(!ae||ae.types.length===0)return Sl;if(ae.types.length===1)return u(ae.types[0].name).test;if(ae.types.length===2){const ge=u(ae.types[0].name).test,we=u(ae.types[1].name).test;return function(ke){return ge(ke)||we(ke)}}else{const ge=ae.types.map(function(we){return u(we.name).test});return function(Me){for(let ke=0;ke<ge.length;ke++)if(ge[ke](Me))return!0;return!1}}}function D(ae){let ge,we,Me;if(j(ae)){ge=te(ae).map(S);const ke=ge.length,ce=S(ie(ae)),Ce=function(me){for(let Z=ke;Z<me.length;Z++)if(!ce(me[Z]))return!1;return!0};return function(Z){for(let Q=0;Q<ge.length;Q++)if(!ge[Q](Z[Q]))return!1;return Ce(Z)&&Z.length>=ke+1}}else return ae.length===0?function(ce){return ce.length===0}:ae.length===1?(we=S(ae[0]),function(ce){return we(ce[0])&&ce.length===1}):ae.length===2?(we=S(ae[0]),Me=S(ae[1]),function(ce){return we(ce[0])&&Me(ce[1])&&ce.length===2}):(ge=ae.map(S),function(ce){for(let Ce=0;Ce<ge.length;Ce++)if(!ge[Ce](ce[Ce]))return!1;return ce.length===ge.length})}function E(ae,ge){return ge<ae.length?ae[ge]:j(ae)?ie(ae):null}function T(ae,ge){const we=E(ae,ge);return we?x(we):new Set}function F(ae){return ae.conversion===null||ae.conversion===void 0}function A(ae,ge){const we=new Set;return ae.forEach(Me=>{const ke=T(Me.params,ge);let ce;for(ce of ke)we.add(ce)}),we.has("any")?["any"]:Array.from(we)}function L(ae,ge,we){let Me,ke;const ce=ae||"unnamed";let Ce=we,me;for(me=0;me<ge.length;me++){const ne=[];if(Ce.forEach(be=>{const Ee=E(be.params,me),Re=S(Ee);(me<be.params.length||j(be.params))&&Re(ge[me])&&ne.push(be)}),ne.length===0){if(ke=A(Ce,me),ke.length>0){const be=m(ge[me]);return Me=new TypeError("Unexpected type of argument in function "+ce+" (expected: "+ke.join(" or ")+", actual: "+be.join(" | ")+", index: "+me+")"),Me.data={category:"wrongType",fn:ce,index:me,actual:be,expected:ke},Me}}else Ce=ne}const Z=Ce.map(function(ne){return j(ne.params)?1/0:ne.params.length});if(ge.length<Math.min.apply(null,Z))return ke=A(Ce,me),Me=new TypeError("Too few arguments in function "+ce+" (expected: "+ke.join(" or ")+", index: "+ge.length+")"),Me.data={category:"tooFewArgs",fn:ce,index:ge.length,expected:ke},Me;const Q=Math.max.apply(null,Z);if(ge.length>Q)return Me=new TypeError("Too many arguments in function "+ce+" (expected: "+Q+", actual: "+ge.length+")"),Me.data={category:"tooManyArgs",fn:ce,index:ge.length,expectedLength:Q},Me;const $=[];for(let ne=0;ne<ge.length;++ne)$.push(m(ge[ne]).join("|"));return Me=new TypeError('Arguments of type "'+$.join(", ")+'" do not match any of the defined signatures of function '+ce+"."),Me.data={category:"mismatch",actual:$},Me}function O(ae){let ge=a.length+1;for(let we=0;we<ae.types.length;we++)F(ae.types[we])&&(ge=Math.min(ge,ae.types[we].typeIndex));return ge}function B(ae){let ge=l+1;for(let we=0;we<ae.types.length;we++)F(ae.types[we])||(ge=Math.min(ge,ae.types[we].conversionIndex));return ge}function I(ae,ge){if(ae.hasAny){if(!ge.hasAny)return 1}else if(ge.hasAny)return-1;if(ae.restParam){if(!ge.restParam)return 1}else if(ge.restParam)return-1;if(ae.hasConversion){if(!ge.hasConversion)return 1}else if(ge.hasConversion)return-1;const we=O(ae)-O(ge);if(we<0)return-1;if(we>0)return 1;const Me=B(ae)-B(ge);return Me<0?-1:Me>0?1:0}function N(ae,ge){const we=ae.params,Me=ge.params,ke=ie(we),ce=ie(Me),Ce=j(we),me=j(Me);if(Ce&&ke.hasAny){if(!me||!ce.hasAny)return 1}else if(me&&ce.hasAny)return-1;let Z=0,Q=0,$;for($ of we)$.hasAny&&++Z,$.hasConversion&&++Q;let ne=0,be=0;for($ of Me)$.hasAny&&++ne,$.hasConversion&&++be;if(Z!==ne)return Z-ne;if(Ce&&ke.hasConversion){if(!me||!ce.hasConversion)return 1}else if(me&&ce.hasConversion)return-1;if(Q!==be)return Q-be;if(Ce){if(!me)return 1}else if(me)return-1;const Ee=(we.length-Me.length)*(Ce?-1:1);if(Ee!==0)return Ee;const Re=[];let Ve=0;for(let Ye=0;Ye<we.length;++Ye){const Ke=I(we[Ye],Me[Ye]);Re.push(Ke),Ve+=Ke}if(Ve!==0)return Ve;let Xe;for(Xe of Re)if(Xe!==0)return Xe;return 0}function H(ae){if(ae.length===0)return[];const ge=ae.map(u);ae.length>1&&ge.sort((ke,ce)=>ke.index-ce.index);let we=ge[0].conversionsTo;if(ae.length===1)return we;we=we.concat([]);const Me=new Set(ae);for(let ke=1;ke<ge.length;++ke){let ce;for(ce of ge[ke].conversionsTo)Me.has(ce.from)||(we.push(ce),Me.add(ce.from))}return we}function V(ae,ge){let we=ge;if(ae.some(ke=>ke.hasConversion)){const ke=j(ae),ce=ae.map(G);we=function(){const me=[],Z=ke?arguments.length-1:arguments.length;for(let Q=0;Q<Z;Q++)me[Q]=ce[Q](arguments[Q]);return ke&&(me[Z]=arguments[Z].map(ce[Z])),ge.apply(this,me)}}let Me=we;if(j(ae)){const ke=ae.length-1;Me=function(){return we.apply(this,de(arguments,0,ke).concat([de(arguments,ke)]))}}return Me}function G(ae){let ge,we,Me,ke;const ce=[],Ce=[];switch(ae.types.forEach(function(me){me.conversion&&(ce.push(u(me.conversion.from).test),Ce.push(me.conversion.convert))}),Ce.length){case 0:return function(Z){return Z};case 1:return ge=ce[0],Me=Ce[0],function(Z){return ge(Z)?Me(Z):Z};case 2:return ge=ce[0],we=ce[1],Me=Ce[0],ke=Ce[1],function(Z){return ge(Z)?Me(Z):we(Z)?ke(Z):Z};default:return function(Z){for(let Q=0;Q<Ce.length;Q++)if(ce[Q](Z))return Ce[Q](Z);return Z}}}function Y(ae){function ge(we,Me,ke){if(Me<we.length){const ce=we[Me];let Ce=[];if(ce.restParam){const me=ce.types.filter(F);me.length<ce.types.length&&Ce.push({types:me,name:"..."+me.map(Z=>Z.name).join("|"),hasAny:me.some(Z=>Z.isAny),hasConversion:!1,restParam:!0}),Ce.push(ce)}else Ce=ce.types.map(function(me){return{types:[me],name:me.name,hasAny:me.isAny,hasConversion:me.conversion,restParam:!1}});return he(Ce,function(me){return ge(we,Me+1,ke.concat([me]))})}else return[ke]}return ge(ae,0,[])}function K(ae,ge){const we=Math.max(ae.length,ge.length);for(let me=0;me<we;me++){const Z=T(ae,me),Q=T(ge,me);let $=!1,ne;for(ne of Q)if(Z.has(ne)){$=!0;break}if(!$)return!1}const Me=ae.length,ke=ge.length,ce=j(ae),Ce=j(ge);return ce?Ce?Me===ke:ke>=Me:Ce?Me>=ke:Me===ke}function se(ae){return ae.map(ge=>De(ge)?pe(ge.referToSelf.callback):_e(ge)?ee(ge.referTo.references,ge.referTo.callback):ge)}function M(ae,ge,we){const Me=[];let ke;for(ke of ae){let ce=we[ke];if(typeof ce!="number")throw new TypeError('No definition for referenced signature "'+ke+'"');if(ce=ge[ce],typeof ce!="function")return!1;Me.push(ce)}return Me}function R(ae,ge,we){const Me=se(ae),ke=new Array(Me.length).fill(!1);let ce=!0;for(;ce;){ce=!1;let Ce=!0;for(let me=0;me<Me.length;++me){if(ke[me])continue;const Z=Me[me];if(De(Z))Me[me]=Z.referToSelf.callback(we),Me[me].referToSelf=Z.referToSelf,ke[me]=!0,Ce=!1;else if(_e(Z)){const Q=M(Z.referTo.references,Me,ge);Q?(Me[me]=Z.referTo.callback.apply(this,Q),Me[me].referTo=Z.referTo,ke[me]=!0,Ce=!1):ce=!0}}if(Ce&&ce)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Me}function z(ae){const ge=/\bthis(\(|\.signatures\b)/;Object.keys(ae).forEach(we=>{const Me=ae[we];if(ge.test(Me.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function W(ae,ge){if(o.createCount++,Object.keys(ge).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&z(ge);const we=[],Me=[],ke={},ce=[];let Ce;for(Ce in ge){if(!Object.prototype.hasOwnProperty.call(ge,Ce))continue;const rt=_(Ce);if(!rt)continue;we.forEach(function(At){if(K(At,rt))throw new TypeError('Conflicting signatures "'+y(At)+'" and "'+y(rt)+'".')}),we.push(rt);const $e=Me.length;Me.push(ge[Ce]);const qt=rt.map(b);let zt;for(zt of Y(qt)){const At=y(zt);ce.push({params:zt,name:At,fn:$e}),zt.every(tr=>!tr.hasConversion)&&(ke[At]=$e)}}ce.sort(N);const me=R(Me,ke,Ze);let Z;for(Z in ke)Object.prototype.hasOwnProperty.call(ke,Z)&&(ke[Z]=me[ke[Z]]);const Q=[],$=new Map;for(Z of ce)$.has(Z.name)||(Z.fn=me[Z.fn],Q.push(Z),$.set(Z.name,Z));const ne=Q[0]&&Q[0].params.length<=2&&!j(Q[0].params),be=Q[1]&&Q[1].params.length<=2&&!j(Q[1].params),Ee=Q[2]&&Q[2].params.length<=2&&!j(Q[2].params),Re=Q[3]&&Q[3].params.length<=2&&!j(Q[3].params),Ve=Q[4]&&Q[4].params.length<=2&&!j(Q[4].params),Xe=Q[5]&&Q[5].params.length<=2&&!j(Q[5].params),Ye=ne&&be&&Ee&&Re&&Ve&&Xe;for(let rt=0;rt<Q.length;++rt)Q[rt].test=D(Q[rt].params);const Ke=ne?S(Q[0].params[0]):Ir,ft=be?S(Q[1].params[0]):Ir,ct=Ee?S(Q[2].params[0]):Ir,tt=Re?S(Q[3].params[0]):Ir,dt=Ve?S(Q[4].params[0]):Ir,at=Xe?S(Q[5].params[0]):Ir,Mt=ne?S(Q[0].params[1]):Ir,ur=be?S(Q[1].params[1]):Ir,Yt=Ee?S(Q[2].params[1]):Ir,St=Re?S(Q[3].params[1]):Ir,Tt=Ve?S(Q[4].params[1]):Ir,wt=Xe?S(Q[5].params[1]):Ir;for(let rt=0;rt<Q.length;++rt)Q[rt].implementation=V(Q[rt].params,Q[rt].fn);const sr=ne?Q[0].implementation:is,er=be?Q[1].implementation:is,Dt=Ee?Q[2].implementation:is,or=Re?Q[3].implementation:is,Ln=Ve?Q[4].implementation:is,Rn=Xe?Q[5].implementation:is,In=ne?Q[0].params.length:-1,ts=be?Q[1].params.length:-1,Bn=Ee?Q[2].params.length:-1,Nn=Re?Q[3].params.length:-1,ve=Ve?Q[4].params.length:-1,qe=Xe?Q[5].params.length:-1,Je=Ye?6:0,He=Q.length,bt=Q.map(rt=>rt.test),ze=Q.map(rt=>rt.implementation),jt=function(){for(let $e=Je;$e<He;$e++)if(bt[$e](arguments))return ze[$e].apply(this,arguments);return o.onMismatch(ae,arguments,Q)};function Ze(rt,$e){return arguments.length===In&&Ke(rt)&&Mt($e)?sr.apply(this,arguments):arguments.length===ts&&ft(rt)&&ur($e)?er.apply(this,arguments):arguments.length===Bn&&ct(rt)&&Yt($e)?Dt.apply(this,arguments):arguments.length===Nn&&tt(rt)&&St($e)?or.apply(this,arguments):arguments.length===ve&&dt(rt)&&Tt($e)?Ln.apply(this,arguments):arguments.length===qe&&at(rt)&&wt($e)?Rn.apply(this,arguments):jt.apply(this,arguments)}try{Object.defineProperty(Ze,"name",{value:ae})}catch{}return Ze.signatures=ke,Ze._typedFunctionData={signatures:Q,signatureMap:$},Ze}function J(ae,ge,we){throw L(ae,ge,we)}function te(ae){return de(ae,0,ae.length-1)}function ie(ae){return ae[ae.length-1]}function de(ae,ge,we){return Array.prototype.slice.call(ae,ge,we)}function oe(ae,ge){for(let we=0;we<ae.length;we++)if(ge(ae[we]))return ae[we]}function he(ae,ge){return Array.prototype.concat.apply([],ae.map(ge))}function le(){const ae=te(arguments).map(we=>y(_(we))),ge=ie(arguments);if(typeof ge!="function")throw new TypeError("Callback function expected as last argument");return ee(ae,ge)}function ee(ae,ge){return{referTo:{references:ae,callback:ge}}}function pe(ae){if(typeof ae!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:ae}}}function _e(ae){return ae&&typeof ae.referTo=="object"&&Array.isArray(ae.referTo.references)&&typeof ae.referTo.callback=="function"}function De(ae){return ae&&typeof ae.referToSelf=="object"&&typeof ae.referToSelf.callback=="function"}function xe(ae,ge){if(!ae)return ge;if(ge&&ge!==ae){const we=new Error("Function names do not match (expected: "+ae+", actual: "+ge+")");throw we.data={actual:ge,expected:ae},we}return ae}function je(ae){let ge;for(const we in ae)Object.prototype.hasOwnProperty.call(ae,we)&&(c(ae[we])||typeof ae[we].signature=="string")&&(ge=xe(ge,ae[we].name));return ge}function Te(ae,ge){let we;for(we in ge)if(Object.prototype.hasOwnProperty.call(ge,we)){if(we in ae&&ge[we]!==ae[we]){const Me=new Error('Signature "'+we+'" is defined twice');throw Me.data={signature:we,sourceFunction:ge[we],destFunction:ae[we]},Me}ae[we]=ge[we]}}const Ge=o;o=function(ae){const ge=typeof ae=="string",we=ge?1:0;let Me=ge?ae:"";const ke={};for(let ce=we;ce<arguments.length;++ce){const Ce=arguments[ce];let me={},Z;if(typeof Ce=="function"?(Z=Ce.name,typeof Ce.signature=="string"?me[Ce.signature]=Ce:c(Ce)&&(me=Ce.signatures)):n(Ce)&&(me=Ce,ge||(Z=je(Ce))),Object.keys(me).length===0){const Q=new TypeError("Argument to 'typed' at index "+ce+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Q.data={index:ce,argument:Ce},Q}ge||(Me=xe(Me,Z)),Te(ke,me)}return W(Me||"",ke)},o.create=kc,o.createCount=Ge.createCount,o.onMismatch=J,o.throwMismatchError=J,o.createError=L,o.clear=d,o.clearConversions=p,o.addTypes=i,o._findType=u,o.referTo=le,o.referToSelf=pe,o.convert=f,o.findSignature=h,o.find=v,o.isTypedFunction=c,o.warnAgainstDeprecatedThis=!0,o.addType=function(ae,ge){let we="any";ge!==!1&&t.has("Object")&&(we="Object"),o.addTypes([ae],we)};function Oe(ae){if(!ae||typeof ae.from!="string"||typeof ae.to!="string"||typeof ae.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(ae.to===ae.from)throw new SyntaxError('Illegal to define conversion from "'+ae.from+'" to itself.')}return o.addConversion=function(ae){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Oe(ae);const we=u(ae.to),Me=we.conversionsTo.find(ke=>ke.from===ae.from);if(Me)if(ge&&ge.override)o.removeConversion({from:Me.from,to:ae.to,convert:Me.convert});else throw new Error('There is already a conversion from "'+ae.from+'" to "'+we.name+'"');we.conversionsTo.push({from:ae.from,convert:ae.convert,index:l++})},o.addConversions=function(ae,ge){ae.forEach(we=>o.addConversion(we,ge))},o.removeConversion=function(ae){Oe(ae);const ge=u(ae.to),we=oe(ge.conversionsTo,ke=>ke.from===ae.from);if(!we)throw new Error("Attempt to remove nonexistent conversion from "+ae.from+" to "+ae.to);if(we.convert!==ae.convert)throw new Error("Conversion to remove does not match existing conversion");const Me=ge.conversionsTo.indexOf(we);ge.conversionsTo.splice(Me,1)},o.resolve=function(ae,ge){if(!c(ae))throw new TypeError(Dl);const we=ae._typedFunctionData.signatures;for(let Me=0;Me<we.length;++Me)if(we[Me].test(ge))return we[Me];return null},o}const qo=kc();function Jt(n,r,s,t){function a(l){var o=xf(l,r.map(Ef));return Sf(n,r,l),s(o)}return a.isFactory=!0,a.fn=n,a.dependencies=r.slice().sort(),t&&(a.meta=t),a}function Sf(n,r,s){var t=r.filter(l=>!Df(l)).every(l=>s[l]!==void 0);if(!t){var a=r.filter(l=>s[l]===void 0);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(a.map(l=>'"'.concat(l,'"')).join(", "),"."))}}function Df(n){return n&&n[0]==="?"}function Ef(n){return n&&n[0]==="?"?n.slice(1):n}function gr(n){return typeof n=="boolean"?!0:isFinite(n)?n===Math.round(n):!1}function Di(n,r,s){var t={2:"0b",8:"0o",16:"0x"},a=t[r],l="";if(s){if(s<1)throw new Error("size must be in greater than 0");if(!gr(s))throw new Error("size must be an integer");if(n>2**(s-1)-1||n<-(2**(s-1)))throw new Error("Value must be in range [-2^".concat(s-1,", 2^").concat(s-1,"-1]"));if(!gr(n))throw new Error("Value must be an integer");n<0&&(n=n+2**s),l="i".concat(s)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(a).concat(n.toString(r)).concat(l)}function qi(n,r){if(typeof r=="function")return r(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:s,precision:t,wordSize:a}=Oc(r);switch(s){case"fixed":return Mf(n,t);case"exponential":return Fc(n,t);case"engineering":return Cf(n,t);case"bin":return Di(n,2,a);case"oct":return Di(n,8,a);case"hex":return Di(n,16,a);case"auto":return Af(n,t,r).replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],o=arguments[4];return l!=="."?l+o:o});default:throw new Error('Unknown notation "'+s+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Oc(n){var r="auto",s,t;if(n!==void 0)if(Bt(n))s=n;else if(Sr(n))s=n.toNumber();else if(va(n))n.precision!==void 0&&(s=El(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(t=El(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:s,wordSize:t}}function ai(n){var r=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+n);var s=r[1],t=r[2],a=parseFloat(r[4]||"0"),l=t.indexOf(".");a+=l!==-1?l-1:t.length-1;var o=t.replace(".","").replace(/^0*/,function(u){return a-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return o.length===0&&(o.push(0),a++),{sign:s,coefficients:o,exponent:a}}function Cf(n,r){if(isNaN(n)||!isFinite(n))return String(n);var s=ai(n),t=li(s,r),a=t.exponent,l=t.coefficients,o=a%3===0?a:a<0?a-3-a%3:a-a%3;if(Bt(r))for(;r>l.length||a-o+1>l.length;)l.push(0);else for(var u=Math.abs(a-o)-(l.length-1),i=0;i<u;i++)l.push(0);for(var d=Math.abs(a-o),p=1;d>0;)p++,d--;var m=l.slice(p).join(""),c=Bt(r)&&m.length||m.match(/[1-9]/)?"."+m:"",h=l.slice(0,p).join("")+c+"e"+(a>=0?"+":"")+o.toString();return t.sign+h}function Mf(n,r){if(isNaN(n)||!isFinite(n))return String(n);var s=ai(n),t=typeof r=="number"?li(s,s.exponent+1+r):s,a=t.coefficients,l=t.exponent+1,o=l+(r||0);return a.length<o&&(a=a.concat(ds(o-a.length))),l<0&&(a=ds(-l+1).concat(a),l=1),l<a.length&&a.splice(l,0,l===0?"0.":"."),t.sign+a.join("")}function Fc(n,r){if(isNaN(n)||!isFinite(n))return String(n);var s=ai(n),t=r?li(s,r):s,a=t.coefficients,l=t.exponent;a.length<r&&(a=a.concat(ds(r-a.length)));var o=a.shift();return t.sign+o+(a.length>0?"."+a.join(""):"")+"e"+(l>=0?"+":"")+l}function Af(n,r,s){if(isNaN(n)||!isFinite(n))return String(n);var t=Cl(s==null?void 0:s.lowerExp,-3),a=Cl(s==null?void 0:s.upperExp,5),l=ai(n),o=r?li(l,r):l;if(o.exponent<t||o.exponent>=a)return Fc(n,r);var u=o.coefficients,i=o.exponent;u.length<r&&(u=u.concat(ds(r-u.length))),u=u.concat(ds(i-u.length+1+(u.length<r?r-u.length:0))),u=ds(-i).concat(u);var d=i>0?i:0;return d<u.length-1&&u.splice(d+1,0,"."),o.sign+u.join("")}function li(n,r){for(var s={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},t=s.coefficients;r<=0;)t.unshift(0),s.exponent++,r++;if(t.length>r){var a=t.splice(r,t.length-r);if(a[0]>=5){var l=r-1;for(t[l]++;t[l]===10;)t.pop(),l===0&&(t.unshift(0),s.exponent++,l++),l--,t[l]++}}return s}function ds(n){for(var r=[],s=0;s<n;s++)r.push(0);return r}function Tf(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Xo(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(s<=0)throw new Error("Relative tolerance must be greater than 0");if(t<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(n)||isNaN(r)?!1:!isFinite(n)||!isFinite(r)?n===r:n===r?!0:Math.abs(n-r)<=Math.max(s*Math.max(Math.abs(n),Math.abs(r)),t)}function El(n,r){if(Bt(n))return n;if(Sr(n))return n.toNumber();r()}function Cl(n,r){return Bt(n)?n:Sr(n)?n.toNumber():r}var Pc=function(){return Pc=qo.create,qo},kf=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Of=Jt("typed",kf,function(r){var{BigNumber:s,Complex:t,DenseMatrix:a,Fraction:l}=r,o=Pc();return o.clear(),o.addTypes([{name:"number",test:Bt},{name:"Complex",test:Mc},{name:"BigNumber",test:Sr},{name:"bigint",test:Vh},{name:"Fraction",test:Ac},{name:"Unit",test:Tc},{name:"identifier",test:u=>rn&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:rn},{name:"Chain",test:bf},{name:"Array",test:ir},{name:"Matrix",test:yr},{name:"DenseMatrix",test:Hh},{name:"SparseMatrix",test:Wh},{name:"Range",test:qh},{name:"Index",test:ya},{name:"boolean",test:Xh},{name:"ResultSet",test:Yh},{name:"Help",test:$h},{name:"function",test:Zh},{name:"Date",test:Kh},{name:"RegExp",test:Qh},{name:"null",test:ef},{name:"undefined",test:tf},{name:"AccessorNode",test:rf},{name:"ArrayNode",test:nf},{name:"AssignmentNode",test:sf},{name:"BlockNode",test:of},{name:"ConditionalNode",test:af},{name:"ConstantNode",test:lf},{name:"FunctionNode",test:cf},{name:"FunctionAssignmentNode",test:uf},{name:"IndexNode",test:df},{name:"Node",test:hf},{name:"ObjectNode",test:ff},{name:"OperatorNode",test:pf},{name:"ParenthesisNode",test:mf},{name:"RangeNode",test:gf},{name:"RelationalNode",test:yf},{name:"SymbolNode",test:vf},{name:"Map",test:Jh},{name:"Object",test:va}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(i){if(s||so(i),Tf(i)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+i+"). Use function bignumber(x) to convert to BigNumber.");return new s(i)}},{from:"number",to:"Complex",convert:function(i){return t||oo(i),new t(i,0)}},{from:"BigNumber",to:"Complex",convert:function(i){return t||oo(i),new t(i.toNumber(),0)}},{from:"bigint",to:"number",convert:function(i){if(i>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+i+")");return Number(i)}},{from:"bigint",to:"BigNumber",convert:function(i){return s||so(i),new s(i.toString())}},{from:"bigint",to:"Fraction",convert:function(i){return l||io(i),new l(i)}},{from:"Fraction",to:"BigNumber",convert:function(i){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(i){return t||oo(i),new t(i.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(i){l||io(i);var d=new l(i);if(d.valueOf()!==i)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+i+"). Use function fraction(x) to convert to Fraction.");return d}},{from:"string",to:"number",convert:function(i){var d=Number(i);if(isNaN(d))throw new Error('Cannot convert "'+i+'" to a number');return d}},{from:"string",to:"BigNumber",convert:function(i){s||so(i);try{return new s(i)}catch{throw new Error('Cannot convert "'+i+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(i){try{return BigInt(i)}catch{throw new Error('Cannot convert "'+i+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(i){l||io(i);try{return new l(i)}catch{throw new Error('Cannot convert "'+i+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(i){t||oo(i);try{return new t(i)}catch{throw new Error('Cannot convert "'+i+'" to Complex')}}},{from:"boolean",to:"number",convert:function(i){return+i}},{from:"boolean",to:"BigNumber",convert:function(i){return s||so(i),new s(+i)}},{from:"boolean",to:"bigint",convert:function(i){return BigInt(+i)}},{from:"boolean",to:"Fraction",convert:function(i){return l||io(i),new l(+i)}},{from:"boolean",to:"string",convert:function(i){return String(i)}},{from:"Array",to:"Matrix",convert:function(i){return a||Ff(),new a(i)}},{from:"Matrix",to:"Array",convert:function(i){return i.valueOf()}}]),o.onMismatch=(u,i,d)=>{var p=o.createError(u,i,d);if(["wrongType","mismatch"].includes(p.data.category)&&i.length===1&&Ho(i[0])&&d.some(c=>!c.params.includes(","))){var m=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw m.data=p.data,m}throw p},o.onMismatch=(u,i,d)=>{var p=o.createError(u,i,d);if(["wrongType","mismatch"].includes(p.data.category)&&i.length===1&&Ho(i[0])&&d.some(c=>!c.params.includes(","))){var m=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw m.data=p.data,m}throw p},o});function so(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function oo(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function Ff(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function io(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Xi=9e15,Fn=1e9,Yi="0123456789abcdef",Yo="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$o="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",$i={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:Xi,crypto:!1},Lc,mn,mt=!0,ui="[DecimalError] ",Tn=ui+"Invalid argument: ",Rc=ui+"Precision limit exceeded",Ic=ui+"crypto unavailable",Bc="[object Decimal]",Er=Math.floor,ar=Math.pow,Pf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Lf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Rf=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Nc=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qr=1e7,ht=7,If=9007199254740991,Bf=Yo.length-1,Zi=$o.length-1,We={toStringTag:Bc};We.absoluteValue=We.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),ut(n)};We.ceil=function(){return ut(new this.constructor(this),this.e+1,2)};We.clampedTo=We.clamp=function(n,r){var s,t=this,a=t.constructor;if(n=new a(n),r=new a(r),!n.s||!r.s)return new a(NaN);if(n.gt(r))throw Error(Tn+r);return s=t.cmp(n),s<0?n:t.cmp(r)>0?r:new a(t)};We.comparedTo=We.cmp=function(n){var r,s,t,a,l=this,o=l.d,u=(n=new l.constructor(n)).d,i=l.s,d=n.s;if(!o||!u)return!i||!d?NaN:i!==d?i:o===u?0:!o^i<0?1:-1;if(!o[0]||!u[0])return o[0]?i:u[0]?-d:0;if(i!==d)return i;if(l.e!==n.e)return l.e>n.e^i<0?1:-1;for(t=o.length,a=u.length,r=0,s=t<a?t:a;r<s;++r)if(o[r]!==u[r])return o[r]>u[r]^i<0?1:-1;return t===a?0:t>a^i<0?1:-1};We.cosine=We.cos=function(){var n,r,s=this,t=s.constructor;return s.d?s.d[0]?(n=t.precision,r=t.rounding,t.precision=n+Math.max(s.e,s.sd())+ht,t.rounding=1,s=Nf(t,Hc(t,s)),t.precision=n,t.rounding=r,ut(mn==2||mn==3?s.neg():s,n,r,!0)):new t(1):new t(NaN)};We.cubeRoot=We.cbrt=function(){var n,r,s,t,a,l,o,u,i,d,p=this,m=p.constructor;if(!p.isFinite()||p.isZero())return new m(p);for(mt=!1,l=p.s*ar(p.s*p,1/3),!l||Math.abs(l)==1/0?(s=vr(p.d),n=p.e,(l=(n-s.length+1)%3)&&(s+=l==1||l==-2?"0":"00"),l=ar(s,1/3),n=Er((n+1)/3)-(n%3==(n<0?-1:2)),l==1/0?s="5e"+n:(s=l.toExponential(),s=s.slice(0,s.indexOf("e")+1)+n),t=new m(s),t.s=p.s):t=new m(l.toString()),o=(n=m.precision)+3;;)if(u=t,i=u.times(u).times(u),d=i.plus(p),t=Ft(d.plus(p).times(u),d.plus(i),o+2,1),vr(u.d).slice(0,o)===(s=vr(t.d)).slice(0,o))if(s=s.slice(o-3,o+1),s=="9999"||!a&&s=="4999"){if(!a&&(ut(u,n+1,0),u.times(u).times(u).eq(p))){t=u;break}o+=4,a=1}else{(!+s||!+s.slice(1)&&s.charAt(0)=="5")&&(ut(t,n+1,1),r=!t.times(t).times(t).eq(p));break}return mt=!0,ut(t,n,m.rounding,r)};We.decimalPlaces=We.dp=function(){var n,r=this.d,s=NaN;if(r){if(n=r.length-1,s=(n-Er(this.e/ht))*ht,n=r[n],n)for(;n%10==0;n/=10)s--;s<0&&(s=0)}return s};We.dividedBy=We.div=function(n){return Ft(this,new this.constructor(n))};We.dividedToIntegerBy=We.divToInt=function(n){var r=this,s=r.constructor;return ut(Ft(r,new s(n),0,1,1),s.precision,s.rounding)};We.equals=We.eq=function(n){return this.cmp(n)===0};We.floor=function(){return ut(new this.constructor(this),this.e+1,3)};We.greaterThan=We.gt=function(n){return this.cmp(n)>0};We.greaterThanOrEqualTo=We.gte=function(n){var r=this.cmp(n);return r==1||r===0};We.hyperbolicCosine=We.cosh=function(){var n,r,s,t,a,l=this,o=l.constructor,u=new o(1);if(!l.isFinite())return new o(l.s?1/0:NaN);if(l.isZero())return u;s=o.precision,t=o.rounding,o.precision=s+Math.max(l.e,l.sd())+4,o.rounding=1,a=l.d.length,a<32?(n=Math.ceil(a/3),r=(1/di(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),l=ps(o,1,l.times(r),new o(1),!0);for(var i,d=n,p=new o(8);d--;)i=l.times(l),l=u.minus(i.times(p.minus(i.times(p))));return ut(l,o.precision=s,o.rounding=t,!0)};We.hyperbolicSine=We.sinh=function(){var n,r,s,t,a=this,l=a.constructor;if(!a.isFinite()||a.isZero())return new l(a);if(r=l.precision,s=l.rounding,l.precision=r+Math.max(a.e,a.sd())+4,l.rounding=1,t=a.d.length,t<3)a=ps(l,2,a,a,!0);else{n=1.4*Math.sqrt(t),n=n>16?16:n|0,a=a.times(1/di(5,n)),a=ps(l,2,a,a,!0);for(var o,u=new l(5),i=new l(16),d=new l(20);n--;)o=a.times(a),a=a.times(u.plus(o.times(i.times(o).plus(d))))}return l.precision=r,l.rounding=s,ut(a,r,s,!0)};We.hyperbolicTangent=We.tanh=function(){var n,r,s=this,t=s.constructor;return s.isFinite()?s.isZero()?new t(s):(n=t.precision,r=t.rounding,t.precision=n+7,t.rounding=1,Ft(s.sinh(),s.cosh(),t.precision=n,t.rounding=r)):new t(s.s)};We.inverseCosine=We.acos=function(){var n=this,r=n.constructor,s=n.abs().cmp(1),t=r.precision,a=r.rounding;return s!==-1?s===0?n.isNeg()?nn(r,t,a):new r(0):new r(NaN):n.isZero()?nn(r,t+4,a).times(.5):(r.precision=t+6,r.rounding=1,n=new r(1).minus(n).div(n.plus(1)).sqrt().atan(),r.precision=t,r.rounding=a,n.times(2))};We.inverseHyperbolicCosine=We.acosh=function(){var n,r,s=this,t=s.constructor;return s.lte(1)?new t(s.eq(1)?0:NaN):s.isFinite()?(n=t.precision,r=t.rounding,t.precision=n+Math.max(Math.abs(s.e),s.sd())+4,t.rounding=1,mt=!1,s=s.times(s).minus(1).sqrt().plus(s),mt=!0,t.precision=n,t.rounding=r,s.ln()):new t(s)};We.inverseHyperbolicSine=We.asinh=function(){var n,r,s=this,t=s.constructor;return!s.isFinite()||s.isZero()?new t(s):(n=t.precision,r=t.rounding,t.precision=n+2*Math.max(Math.abs(s.e),s.sd())+6,t.rounding=1,mt=!1,s=s.times(s).plus(1).sqrt().plus(s),mt=!0,t.precision=n,t.rounding=r,s.ln())};We.inverseHyperbolicTangent=We.atanh=function(){var n,r,s,t,a=this,l=a.constructor;return a.isFinite()?a.e>=0?new l(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(n=l.precision,r=l.rounding,t=a.sd(),Math.max(t,n)<2*-a.e-1?ut(new l(a),n,r,!0):(l.precision=s=t-a.e,a=Ft(a.plus(1),new l(1).minus(a),s+n,1),l.precision=n+4,l.rounding=1,a=a.ln(),l.precision=n,l.rounding=r,a.times(.5))):new l(NaN)};We.inverseSine=We.asin=function(){var n,r,s,t,a=this,l=a.constructor;return a.isZero()?new l(a):(r=a.abs().cmp(1),s=l.precision,t=l.rounding,r!==-1?r===0?(n=nn(l,s+4,t).times(.5),n.s=a.s,n):new l(NaN):(l.precision=s+6,l.rounding=1,a=a.div(new l(1).minus(a.times(a)).sqrt().plus(1)).atan(),l.precision=s,l.rounding=t,a.times(2)))};We.inverseTangent=We.atan=function(){var n,r,s,t,a,l,o,u,i,d=this,p=d.constructor,m=p.precision,c=p.rounding;if(d.isFinite()){if(d.isZero())return new p(d);if(d.abs().eq(1)&&m+4<=Zi)return o=nn(p,m+4,c).times(.25),o.s=d.s,o}else{if(!d.s)return new p(NaN);if(m+4<=Zi)return o=nn(p,m+4,c).times(.5),o.s=d.s,o}for(p.precision=u=m+10,p.rounding=1,s=Math.min(28,u/ht+2|0),n=s;n;--n)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(mt=!1,r=Math.ceil(u/ht),t=1,i=d.times(d),o=new p(d),a=d;n!==-1;)if(a=a.times(i),l=o.minus(a.div(t+=2)),a=a.times(i),o=l.plus(a.div(t+=2)),o.d[r]!==void 0)for(n=r;o.d[n]===l.d[n]&&n--;);return s&&(o=o.times(2<<s-1)),mt=!0,ut(o,p.precision=m,p.rounding=c,!0)};We.isFinite=function(){return!!this.d};We.isInteger=We.isInt=function(){return!!this.d&&Er(this.e/ht)>this.d.length-2};We.isNaN=function(){return!this.s};We.isNegative=We.isNeg=function(){return this.s<0};We.isPositive=We.isPos=function(){return this.s>0};We.isZero=function(){return!!this.d&&this.d[0]===0};We.lessThan=We.lt=function(n){return this.cmp(n)<0};We.lessThanOrEqualTo=We.lte=function(n){return this.cmp(n)<1};We.logarithm=We.log=function(n){var r,s,t,a,l,o,u,i,d=this,p=d.constructor,m=p.precision,c=p.rounding,h=5;if(n==null)n=new p(10),r=!0;else{if(n=new p(n),s=n.d,n.s<0||!s||!s[0]||n.eq(1))return new p(NaN);r=n.eq(10)}if(s=d.d,d.s<0||!s||!s[0]||d.eq(1))return new p(s&&!s[0]?-1/0:d.s!=1?NaN:s?0:1/0);if(r)if(s.length>1)l=!0;else{for(a=s[0];a%10===0;)a/=10;l=a!==1}if(mt=!1,u=m+h,o=Sn(d,u),t=r?Zo(p,u+10):Sn(n,u),i=Ft(o,t,u,1),Us(i.d,a=m,c))do if(u+=10,o=Sn(d,u),t=r?Zo(p,u+10):Sn(n,u),i=Ft(o,t,u,1),!l){+vr(i.d).slice(a+1,a+15)+1==1e14&&(i=ut(i,m+1,0));break}while(Us(i.d,a+=10,c));return mt=!0,ut(i,m,c)};We.minus=We.sub=function(n){var r,s,t,a,l,o,u,i,d,p,m,c,h=this,v=h.constructor;if(n=new v(n),!h.d||!n.d)return!h.s||!n.s?n=new v(NaN):h.d?n.s=-n.s:n=new v(n.d||h.s!==n.s?h:NaN),n;if(h.s!=n.s)return n.s=-n.s,h.plus(n);if(d=h.d,c=n.d,u=v.precision,i=v.rounding,!d[0]||!c[0]){if(c[0])n.s=-n.s;else if(d[0])n=new v(h);else return new v(i===3?-0:0);return mt?ut(n,u,i):n}if(s=Er(n.e/ht),p=Er(h.e/ht),d=d.slice(),l=p-s,l){for(m=l<0,m?(r=d,l=-l,o=c.length):(r=c,s=p,o=d.length),t=Math.max(Math.ceil(u/ht),o)+2,l>t&&(l=t,r.length=1),r.reverse(),t=l;t--;)r.push(0);r.reverse()}else{for(t=d.length,o=c.length,m=t<o,m&&(o=t),t=0;t<o;t++)if(d[t]!=c[t]){m=d[t]<c[t];break}l=0}for(m&&(r=d,d=c,c=r,n.s=-n.s),o=d.length,t=c.length-o;t>0;--t)d[o++]=0;for(t=c.length;t>l;){if(d[--t]<c[t]){for(a=t;a&&d[--a]===0;)d[a]=qr-1;--d[a],d[t]+=qr}d[t]-=c[t]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--s;return d[0]?(n.d=d,n.e=ci(d,s),mt?ut(n,u,i):n):new v(i===3?-0:0)};We.modulo=We.mod=function(n){var r,s=this,t=s.constructor;return n=new t(n),!s.d||!n.s||n.d&&!n.d[0]?new t(NaN):!n.d||s.d&&!s.d[0]?ut(new t(s),t.precision,t.rounding):(mt=!1,t.modulo==9?(r=Ft(s,n.abs(),0,3,1),r.s*=n.s):r=Ft(s,n,0,t.modulo,1),r=r.times(n),mt=!0,s.minus(r))};We.naturalExponential=We.exp=function(){return Ki(this)};We.naturalLogarithm=We.ln=function(){return Sn(this)};We.negated=We.neg=function(){var n=new this.constructor(this);return n.s=-n.s,ut(n)};We.plus=We.add=function(n){var r,s,t,a,l,o,u,i,d,p,m=this,c=m.constructor;if(n=new c(n),!m.d||!n.d)return!m.s||!n.s?n=new c(NaN):m.d||(n=new c(n.d||m.s===n.s?m:NaN)),n;if(m.s!=n.s)return n.s=-n.s,m.minus(n);if(d=m.d,p=n.d,u=c.precision,i=c.rounding,!d[0]||!p[0])return p[0]||(n=new c(m)),mt?ut(n,u,i):n;if(l=Er(m.e/ht),t=Er(n.e/ht),d=d.slice(),a=l-t,a){for(a<0?(s=d,a=-a,o=p.length):(s=p,t=l,o=d.length),l=Math.ceil(u/ht),o=l>o?l+1:o+1,a>o&&(a=o,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(o=d.length,a=p.length,o-a<0&&(a=o,s=p,p=d,d=s),r=0;a;)r=(d[--a]=d[a]+p[a]+r)/qr|0,d[a]%=qr;for(r&&(d.unshift(r),++t),o=d.length;d[--o]==0;)d.pop();return n.d=d,n.e=ci(d,t),mt?ut(n,u,i):n};We.precision=We.sd=function(n){var r,s=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Tn+n);return s.d?(r=Uc(s.d),n&&s.e+1>r&&(r=s.e+1)):r=NaN,r};We.round=function(){var n=this,r=n.constructor;return ut(new r(n),n.e+1,r.rounding)};We.sine=We.sin=function(){var n,r,s=this,t=s.constructor;return s.isFinite()?s.isZero()?new t(s):(n=t.precision,r=t.rounding,t.precision=n+Math.max(s.e,s.sd())+ht,t.rounding=1,s=zf(t,Hc(t,s)),t.precision=n,t.rounding=r,ut(mn>2?s.neg():s,n,r,!0)):new t(NaN)};We.squareRoot=We.sqrt=function(){var n,r,s,t,a,l,o=this,u=o.d,i=o.e,d=o.s,p=o.constructor;if(d!==1||!u||!u[0])return new p(!d||d<0&&(!u||u[0])?NaN:u?o:1/0);for(mt=!1,d=Math.sqrt(+o),d==0||d==1/0?(r=vr(u),(r.length+i)%2==0&&(r+="0"),d=Math.sqrt(r),i=Er((i+1)/2)-(i<0||i%2),d==1/0?r="5e"+i:(r=d.toExponential(),r=r.slice(0,r.indexOf("e")+1)+i),t=new p(r)):t=new p(d.toString()),s=(i=p.precision)+3;;)if(l=t,t=l.plus(Ft(o,l,s+2,1)).times(.5),vr(l.d).slice(0,s)===(r=vr(t.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!a&&r=="4999"){if(!a&&(ut(l,i+1,0),l.times(l).eq(o))){t=l;break}s+=4,a=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ut(t,i+1,1),n=!t.times(t).eq(o));break}return mt=!0,ut(t,i,p.rounding,n)};We.tangent=We.tan=function(){var n,r,s=this,t=s.constructor;return s.isFinite()?s.isZero()?new t(s):(n=t.precision,r=t.rounding,t.precision=n+10,t.rounding=1,s=s.sin(),s.s=1,s=Ft(s,new t(1).minus(s.times(s)).sqrt(),n+10,0),t.precision=n,t.rounding=r,ut(mn==2||mn==4?s.neg():s,n,r,!0)):new t(NaN)};We.times=We.mul=function(n){var r,s,t,a,l,o,u,i,d,p=this,m=p.constructor,c=p.d,h=(n=new m(n)).d;if(n.s*=p.s,!c||!c[0]||!h||!h[0])return new m(!n.s||c&&!c[0]&&!h||h&&!h[0]&&!c?NaN:!c||!h?n.s/0:n.s*0);for(s=Er(p.e/ht)+Er(n.e/ht),i=c.length,d=h.length,i<d&&(l=c,c=h,h=l,o=i,i=d,d=o),l=[],o=i+d,t=o;t--;)l.push(0);for(t=d;--t>=0;){for(r=0,a=i+t;a>t;)u=l[a]+h[t]*c[a-t-1]+r,l[a--]=u%qr|0,r=u/qr|0;l[a]=(l[a]+r)%qr|0}for(;!l[--o];)l.pop();return r?++s:l.shift(),n.d=l,n.e=ci(l,s),mt?ut(n,m.precision,m.rounding):n};We.toBinary=function(n,r){return ba(this,2,n,r)};We.toDecimalPlaces=We.toDP=function(n,r){var s=this,t=s.constructor;return s=new t(s),n===void 0?s:(Or(n,0,Fn),r===void 0?r=t.rounding:Or(r,0,8),ut(s,n+s.e+1,r))};We.toExponential=function(n,r){var s,t=this,a=t.constructor;return n===void 0?s=on(t,!0):(Or(n,0,Fn),r===void 0?r=a.rounding:Or(r,0,8),t=ut(new a(t),n+1,r),s=on(t,!0,n+1)),t.isNeg()&&!t.isZero()?"-"+s:s};We.toFixed=function(n,r){var s,t,a=this,l=a.constructor;return n===void 0?s=on(a):(Or(n,0,Fn),r===void 0?r=l.rounding:Or(r,0,8),t=ut(new l(a),n+a.e+1,r),s=on(t,!1,n+t.e+1)),a.isNeg()&&!a.isZero()?"-"+s:s};We.toFraction=function(n){var r,s,t,a,l,o,u,i,d,p,m,c,h=this,v=h.d,f=h.constructor;if(!v)return new f(h);if(d=s=new f(1),t=i=new f(0),r=new f(t),l=r.e=Uc(v)-h.e-1,o=l%ht,r.d[0]=ar(10,o<0?ht+o:o),n==null)n=l>0?r:d;else{if(u=new f(n),!u.isInt()||u.lt(d))throw Error(Tn+u);n=u.gt(r)?l>0?r:d:u}for(mt=!1,u=new f(vr(v)),p=f.precision,f.precision=l=v.length*ht*2;m=Ft(u,r,0,1,1),a=s.plus(m.times(t)),a.cmp(n)!=1;)s=t,t=a,a=d,d=i.plus(m.times(a)),i=a,a=r,r=u.minus(m.times(a)),u=a;return a=Ft(n.minus(s),t,0,1,1),i=i.plus(a.times(d)),s=s.plus(a.times(t)),i.s=d.s=h.s,c=Ft(d,t,l,1).minus(h).abs().cmp(Ft(i,s,l,1).minus(h).abs())<1?[d,t]:[i,s],f.precision=p,mt=!0,c};We.toHexadecimal=We.toHex=function(n,r){return ba(this,16,n,r)};We.toNearest=function(n,r){var s=this,t=s.constructor;if(s=new t(s),n==null){if(!s.d)return s;n=new t(1),r=t.rounding}else{if(n=new t(n),r===void 0?r=t.rounding:Or(r,0,8),!s.d)return n.s?s:n;if(!n.d)return n.s&&(n.s=s.s),n}return n.d[0]?(mt=!1,s=Ft(s,n,0,r,1).times(n),mt=!0,ut(s)):(n.s=s.s,s=n),s};We.toNumber=function(){return+this};We.toOctal=function(n,r){return ba(this,8,n,r)};We.toPower=We.pow=function(n){var r,s,t,a,l,o,u=this,i=u.constructor,d=+(n=new i(n));if(!u.d||!n.d||!u.d[0]||!n.d[0])return new i(ar(+u,d));if(u=new i(u),u.eq(1))return u;if(t=i.precision,l=i.rounding,n.eq(1))return ut(u,t,l);if(r=Er(n.e/ht),r>=n.d.length-1&&(s=d<0?-d:d)<=If)return a=zc(i,u,s,t),n.s<0?new i(1).div(a):ut(a,t,l);if(o=u.s,o<0){if(r<n.d.length-1)return new i(NaN);if((n.d[r]&1)==0&&(o=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=o,u}return s=ar(+u,d),r=s==0||!isFinite(s)?Er(d*(Math.log("0."+vr(u.d))/Math.LN10+u.e+1)):new i(s+"").e,r>i.maxE+1||r<i.minE-1?new i(r>0?o/0:0):(mt=!1,i.rounding=u.s=1,s=Math.min(12,(r+"").length),a=Ki(n.times(Sn(u,t+s)),t),a.d&&(a=ut(a,t+5,1),Us(a.d,t,l)&&(r=t+10,a=ut(Ki(n.times(Sn(u,r+s)),r),r+5,1),+vr(a.d).slice(t+1,t+15)+1==1e14&&(a=ut(a,t+1,0)))),a.s=o,mt=!0,i.rounding=l,ut(a,t,l))};We.toPrecision=function(n,r){var s,t=this,a=t.constructor;return n===void 0?s=on(t,t.e<=a.toExpNeg||t.e>=a.toExpPos):(Or(n,1,Fn),r===void 0?r=a.rounding:Or(r,0,8),t=ut(new a(t),n,r),s=on(t,n<=t.e||t.e<=a.toExpNeg,n)),t.isNeg()&&!t.isZero()?"-"+s:s};We.toSignificantDigits=We.toSD=function(n,r){var s=this,t=s.constructor;return n===void 0?(n=t.precision,r=t.rounding):(Or(n,1,Fn),r===void 0?r=t.rounding:Or(r,0,8)),ut(new t(s),n,r)};We.toString=function(){var n=this,r=n.constructor,s=on(n,n.e<=r.toExpNeg||n.e>=r.toExpPos);return n.isNeg()&&!n.isZero()?"-"+s:s};We.truncated=We.trunc=function(){return ut(new this.constructor(this),this.e+1,1)};We.valueOf=We.toJSON=function(){var n=this,r=n.constructor,s=on(n,n.e<=r.toExpNeg||n.e>=r.toExpPos);return n.isNeg()?"-"+s:s};function vr(n){var r,s,t,a=n.length-1,l="",o=n[0];if(a>0){for(l+=o,r=1;r<a;r++)t=n[r]+"",s=ht-t.length,s&&(l+=jn(s)),l+=t;o=n[r],t=o+"",s=ht-t.length,s&&(l+=jn(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return l+o}function Or(n,r,s){if(n!==~~n||n<r||n>s)throw Error(Tn+n)}function Us(n,r,s,t){var a,l,o,u;for(l=n[0];l>=10;l/=10)--r;return--r<0?(r+=ht,a=0):(a=Math.ceil((r+1)/ht),r%=ht),l=ar(10,ht-r),u=n[a]%l|0,t==null?r<3?(r==0?u=u/100|0:r==1&&(u=u/10|0),o=s<4&&u==99999||s>3&&u==49999||u==5e4||u==0):o=(s<4&&u+1==l||s>3&&u+1==l/2)&&(n[a+1]/l/100|0)==ar(10,r-2)-1||(u==l/2||u==0)&&(n[a+1]/l/100|0)==0:r<4?(r==0?u=u/1e3|0:r==1?u=u/100|0:r==2&&(u=u/10|0),o=(t||s<4)&&u==9999||!t&&s>3&&u==4999):o=((t||s<4)&&u+1==l||!t&&s>3&&u+1==l/2)&&(n[a+1]/l/1e3|0)==ar(10,r-3)-1,o}function So(n,r,s){for(var t,a=[0],l,o=0,u=n.length;o<u;){for(l=a.length;l--;)a[l]*=r;for(a[0]+=Yi.indexOf(n.charAt(o++)),t=0;t<a.length;t++)a[t]>s-1&&(a[t+1]===void 0&&(a[t+1]=0),a[t+1]+=a[t]/s|0,a[t]%=s)}return a.reverse()}function Nf(n,r){var s,t,a;if(r.isZero())return r;t=r.d.length,t<32?(s=Math.ceil(t/3),a=(1/di(4,s)).toString()):(s=16,a="2.3283064365386962890625e-10"),n.precision+=s,r=ps(n,1,r.times(a),new n(1));for(var l=s;l--;){var o=r.times(r);r=o.times(o).minus(o).times(8).plus(1)}return n.precision-=s,r}var Ft=function(){function n(t,a,l){var o,u=0,i=t.length;for(t=t.slice();i--;)o=t[i]*a+u,t[i]=o%l|0,u=o/l|0;return u&&t.unshift(u),t}function r(t,a,l,o){var u,i;if(l!=o)i=l>o?1:-1;else for(u=i=0;u<l;u++)if(t[u]!=a[u]){i=t[u]>a[u]?1:-1;break}return i}function s(t,a,l,o){for(var u=0;l--;)t[l]-=u,u=t[l]<a[l]?1:0,t[l]=u*o+t[l]-a[l];for(;!t[0]&&t.length>1;)t.shift()}return function(t,a,l,o,u,i){var d,p,m,c,h,v,f,y,g,b,x,_,j,S,D,E,T,F,A,L,O=t.constructor,B=t.s==a.s?1:-1,I=t.d,N=a.d;if(!I||!I[0]||!N||!N[0])return new O(!t.s||!a.s||(I?N&&I[0]==N[0]:!N)?NaN:I&&I[0]==0||!N?B*0:B/0);for(i?(h=1,p=t.e-a.e):(i=qr,h=ht,p=Er(t.e/h)-Er(a.e/h)),A=N.length,T=I.length,g=new O(B),b=g.d=[],m=0;N[m]==(I[m]||0);m++);if(N[m]>(I[m]||0)&&p--,l==null?(S=l=O.precision,o=O.rounding):u?S=l+(t.e-a.e)+1:S=l,S<0)b.push(1),v=!0;else{if(S=S/h+2|0,m=0,A==1){for(c=0,N=N[0],S++;(m<T||c)&&S--;m++)D=c*i+(I[m]||0),b[m]=D/N|0,c=D%N|0;v=c||m<T}else{for(c=i/(N[0]+1)|0,c>1&&(N=n(N,c,i),I=n(I,c,i),A=N.length,T=I.length),E=A,x=I.slice(0,A),_=x.length;_<A;)x[_++]=0;L=N.slice(),L.unshift(0),F=N[0],N[1]>=i/2&&++F;do c=0,d=r(N,x,A,_),d<0?(j=x[0],A!=_&&(j=j*i+(x[1]||0)),c=j/F|0,c>1?(c>=i&&(c=i-1),f=n(N,c,i),y=f.length,_=x.length,d=r(f,x,y,_),d==1&&(c--,s(f,A<y?L:N,y,i))):(c==0&&(d=c=1),f=N.slice()),y=f.length,y<_&&f.unshift(0),s(x,f,_,i),d==-1&&(_=x.length,d=r(N,x,A,_),d<1&&(c++,s(x,A<_?L:N,_,i))),_=x.length):d===0&&(c++,x=[0]),b[m++]=c,d&&x[0]?x[_++]=I[E]||0:(x=[I[E]],_=1);while((E++<T||x[0]!==void 0)&&S--);v=x[0]!==void 0}b[0]||b.shift()}if(h==1)g.e=p,Lc=v;else{for(m=1,c=b[0];c>=10;c/=10)m++;g.e=m+p*h-1,ut(g,u?l+g.e+1:l,o,v)}return g}}();function ut(n,r,s,t){var a,l,o,u,i,d,p,m,c,h=n.constructor;e:if(r!=null){if(m=n.d,!m)return n;for(a=1,u=m[0];u>=10;u/=10)a++;if(l=r-a,l<0)l+=ht,o=r,p=m[c=0],i=p/ar(10,a-o-1)%10|0;else if(c=Math.ceil((l+1)/ht),u=m.length,c>=u)if(t){for(;u++<=c;)m.push(0);p=i=0,a=1,l%=ht,o=l-ht+1}else break e;else{for(p=u=m[c],a=1;u>=10;u/=10)a++;l%=ht,o=l-ht+a,i=o<0?0:p/ar(10,a-o-1)%10|0}if(t=t||r<0||m[c+1]!==void 0||(o<0?p:p%ar(10,a-o-1)),d=s<4?(i||t)&&(s==0||s==(n.s<0?3:2)):i>5||i==5&&(s==4||t||s==6&&(l>0?o>0?p/ar(10,a-o):0:m[c-1])%10&1||s==(n.s<0?8:7)),r<1||!m[0])return m.length=0,d?(r-=n.e+1,m[0]=ar(10,(ht-r%ht)%ht),n.e=-r||0):m[0]=n.e=0,n;if(l==0?(m.length=c,u=1,c--):(m.length=c+1,u=ar(10,ht-l),m[c]=o>0?(p/ar(10,a-o)%ar(10,o)|0)*u:0),d)for(;;)if(c==0){for(l=1,o=m[0];o>=10;o/=10)l++;for(o=m[0]+=u,u=1;o>=10;o/=10)u++;l!=u&&(n.e++,m[0]==qr&&(m[0]=1));break}else{if(m[c]+=u,m[c]!=qr)break;m[c--]=0,u=1}for(l=m.length;m[--l]===0;)m.pop()}return mt&&(n.e>h.maxE?(n.d=null,n.e=NaN):n.e<h.minE&&(n.e=0,n.d=[0])),n}function on(n,r,s){if(!n.isFinite())return Vc(n);var t,a=n.e,l=vr(n.d),o=l.length;return r?(s&&(t=s-o)>0?l=l.charAt(0)+"."+l.slice(1)+jn(t):o>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(n.e<0?"e":"e+")+n.e):a<0?(l="0."+jn(-a-1)+l,s&&(t=s-o)>0&&(l+=jn(t))):a>=o?(l+=jn(a+1-o),s&&(t=s-a-1)>0&&(l=l+"."+jn(t))):((t=a+1)<o&&(l=l.slice(0,t)+"."+l.slice(t)),s&&(t=s-o)>0&&(a+1===o&&(l+="."),l+=jn(t))),l}function ci(n,r){var s=n[0];for(r*=ht;s>=10;s/=10)r++;return r}function Zo(n,r,s){if(r>Bf)throw mt=!0,s&&(n.precision=s),Error(Rc);return ut(new n(Yo),r,1,!0)}function nn(n,r,s){if(r>Zi)throw Error(Rc);return ut(new n($o),r,s,!0)}function Uc(n){var r=n.length-1,s=r*ht+1;if(r=n[r],r){for(;r%10==0;r/=10)s--;for(r=n[0];r>=10;r/=10)s++}return s}function jn(n){for(var r="";n--;)r+="0";return r}function zc(n,r,s,t){var a,l=new n(1),o=Math.ceil(t/ht+4);for(mt=!1;;){if(s%2&&(l=l.times(r),Al(l.d,o)&&(a=!0)),s=Er(s/2),s===0){s=l.d.length-1,a&&l.d[s]===0&&++l.d[s];break}r=r.times(r),Al(r.d,o)}return mt=!0,l}function Ml(n){return n.d[n.d.length-1]&1}function Gc(n,r,s){for(var t,a,l=new n(r[0]),o=0;++o<r.length;){if(a=new n(r[o]),!a.s){l=a;break}t=l.cmp(a),(t===s||t===0&&l.s===s)&&(l=a)}return l}function Ki(n,r){var s,t,a,l,o,u,i,d=0,p=0,m=0,c=n.constructor,h=c.rounding,v=c.precision;if(!n.d||!n.d[0]||n.e>17)return new c(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(r==null?(mt=!1,i=v):i=r,u=new c(.03125);n.e>-2;)n=n.times(u),m+=5;for(t=Math.log(ar(2,m))/Math.LN10*2+5|0,i+=t,s=l=o=new c(1),c.precision=i;;){if(l=ut(l.times(n),i,1),s=s.times(++p),u=o.plus(Ft(l,s,i,1)),vr(u.d).slice(0,i)===vr(o.d).slice(0,i)){for(a=m;a--;)o=ut(o.times(o),i,1);if(r==null)if(d<3&&Us(o.d,i-t,h,d))c.precision=i+=10,s=l=u=new c(1),p=0,d++;else return ut(o,c.precision=v,h,mt=!0);else return c.precision=v,o}o=u}}function Sn(n,r){var s,t,a,l,o,u,i,d,p,m,c,h=1,v=10,f=n,y=f.d,g=f.constructor,b=g.rounding,x=g.precision;if(f.s<0||!y||!y[0]||!f.e&&y[0]==1&&y.length==1)return new g(y&&!y[0]?-1/0:f.s!=1?NaN:y?0:f);if(r==null?(mt=!1,p=x):p=r,g.precision=p+=v,s=vr(y),t=s.charAt(0),Math.abs(l=f.e)<15e14){for(;t<7&&t!=1||t==1&&s.charAt(1)>3;)f=f.times(n),s=vr(f.d),t=s.charAt(0),h++;l=f.e,t>1?(f=new g("0."+s),l++):f=new g(t+"."+s.slice(1))}else return d=Zo(g,p+2,x).times(l+""),f=Sn(new g(t+"."+s.slice(1)),p-v).plus(d),g.precision=x,r==null?ut(f,x,b,mt=!0):f;for(m=f,i=o=f=Ft(f.minus(1),f.plus(1),p,1),c=ut(f.times(f),p,1),a=3;;){if(o=ut(o.times(c),p,1),d=i.plus(Ft(o,new g(a),p,1)),vr(d.d).slice(0,p)===vr(i.d).slice(0,p))if(i=i.times(2),l!==0&&(i=i.plus(Zo(g,p+2,x).times(l+""))),i=Ft(i,new g(h),p,1),r==null)if(Us(i.d,p-v,b,u))g.precision=p+=v,d=o=f=Ft(m.minus(1),m.plus(1),p,1),c=ut(f.times(f),p,1),a=u=1;else return ut(i,g.precision=x,b,mt=!0);else return g.precision=x,i;i=d,a+=2}}function Vc(n){return String(n.s*n.s/0)}function Do(n,r){var s,t,a;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(t=r.search(/e/i))>0?(s<0&&(s=t),s+=+r.slice(t+1),r=r.substring(0,t)):s<0&&(s=r.length),t=0;r.charCodeAt(t)===48;t++);for(a=r.length;r.charCodeAt(a-1)===48;--a);if(r=r.slice(t,a),r){if(a-=t,n.e=s=s-t-1,n.d=[],t=(s+1)%ht,s<0&&(t+=ht),t<a){for(t&&n.d.push(+r.slice(0,t)),a-=ht;t<a;)n.d.push(+r.slice(t,t+=ht));r=r.slice(t),t=ht-r.length}else t-=a;for(;t--;)r+="0";n.d.push(+r),mt&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Uf(n,r){var s,t,a,l,o,u,i,d,p;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Nc.test(r))return Do(n,r)}else if(r==="Infinity"||r==="NaN")return+r||(n.s=NaN),n.e=NaN,n.d=null,n;if(Lf.test(r))s=16,r=r.toLowerCase();else if(Pf.test(r))s=2;else if(Rf.test(r))s=8;else throw Error(Tn+r);for(l=r.search(/p/i),l>0?(i=+r.slice(l+1),r=r.substring(2,l)):r=r.slice(2),l=r.indexOf("."),o=l>=0,t=n.constructor,o&&(r=r.replace(".",""),u=r.length,l=u-l,a=zc(t,new t(s),l,l*2)),d=So(r,s,qr),p=d.length-1,l=p;d[l]===0;--l)d.pop();return l<0?new t(n.s*0):(n.e=ci(d,p),n.d=d,mt=!1,o&&(n=Ft(n,a,u*4)),i&&(n=n.times(Math.abs(i)<54?ar(2,i):ms.pow(2,i))),mt=!0,n)}function zf(n,r){var s,t=r.d.length;if(t<3)return r.isZero()?r:ps(n,2,r,r);s=1.4*Math.sqrt(t),s=s>16?16:s|0,r=r.times(1/di(5,s)),r=ps(n,2,r,r);for(var a,l=new n(5),o=new n(16),u=new n(20);s--;)a=r.times(r),r=r.times(l.plus(a.times(o.times(a).minus(u))));return r}function ps(n,r,s,t,a){var l,o,u,i,d=n.precision,p=Math.ceil(d/ht);for(mt=!1,i=s.times(s),u=new n(t);;){if(o=Ft(u.times(i),new n(r++*r++),d,1),u=a?t.plus(o):t.minus(o),t=Ft(o.times(i),new n(r++*r++),d,1),o=u.plus(t),o.d[p]!==void 0){for(l=p;o.d[l]===u.d[l]&&l--;);if(l==-1)break}l=u,u=t,t=o,o=l}return mt=!0,o.d.length=p+1,o}function di(n,r){for(var s=n;--r;)s*=n;return s}function Hc(n,r){var s,t=r.s<0,a=nn(n,n.precision,1),l=a.times(.5);if(r=r.abs(),r.lte(l))return mn=t?4:1,r;if(s=r.divToInt(a),s.isZero())mn=t?3:2;else{if(r=r.minus(s.times(a)),r.lte(l))return mn=Ml(s)?t?2:3:t?4:1,r;mn=Ml(s)?t?1:4:t?3:2}return r.minus(a).abs()}function ba(n,r,s,t){var a,l,o,u,i,d,p,m,c,h=n.constructor,v=s!==void 0;if(v?(Or(s,1,Fn),t===void 0?t=h.rounding:Or(t,0,8)):(s=h.precision,t=h.rounding),!n.isFinite())p=Vc(n);else{for(p=on(n),o=p.indexOf("."),v?(a=2,r==16?s=s*4-3:r==8&&(s=s*3-2)):a=r,o>=0&&(p=p.replace(".",""),c=new h(1),c.e=p.length-o,c.d=So(on(c),10,a),c.e=c.d.length),m=So(p,10,a),l=i=m.length;m[--i]==0;)m.pop();if(!m[0])p=v?"0p+0":"0";else{if(o<0?l--:(n=new h(n),n.d=m,n.e=l,n=Ft(n,c,s,t,0,a),m=n.d,l=n.e,d=Lc),o=m[s],u=a/2,d=d||m[s+1]!==void 0,d=t<4?(o!==void 0||d)&&(t===0||t===(n.s<0?3:2)):o>u||o===u&&(t===4||d||t===6&&m[s-1]&1||t===(n.s<0?8:7)),m.length=s,d)for(;++m[--s]>a-1;)m[s]=0,s||(++l,m.unshift(1));for(i=m.length;!m[i-1];--i);for(o=0,p="";o<i;o++)p+=Yi.charAt(m[o]);if(v){if(i>1)if(r==16||r==8){for(o=r==16?4:3,--i;i%o;i++)p+="0";for(m=So(p,a,r),i=m.length;!m[i-1];--i);for(o=1,p="1.";o<i;o++)p+=Yi.charAt(m[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(l<0?"p":"p+")+l}else if(l<0){for(;++l;)p="0"+p;p="0."+p}else if(++l>i)for(l-=i;l--;)p+="0";else l<i&&(p=p.slice(0,l)+"."+p.slice(l))}p=(r==16?"0x":r==2?"0b":r==8?"0o":"")+p}return n.s<0?"-"+p:p}function Al(n,r){if(n.length>r)return n.length=r,!0}function Gf(n){return new this(n).abs()}function Vf(n){return new this(n).acos()}function Hf(n){return new this(n).acosh()}function Wf(n,r){return new this(n).plus(r)}function qf(n){return new this(n).asin()}function Xf(n){return new this(n).asinh()}function Yf(n){return new this(n).atan()}function $f(n){return new this(n).atanh()}function Zf(n,r){n=new this(n),r=new this(r);var s,t=this.precision,a=this.rounding,l=t+4;return!n.s||!r.s?s=new this(NaN):!n.d&&!r.d?(s=nn(this,l,1).times(r.s>0?.25:.75),s.s=n.s):!r.d||n.isZero()?(s=r.s<0?nn(this,t,a):new this(0),s.s=n.s):!n.d||r.isZero()?(s=nn(this,l,1).times(.5),s.s=n.s):r.s<0?(this.precision=l,this.rounding=1,s=this.atan(Ft(n,r,l,1)),r=nn(this,l,1),this.precision=t,this.rounding=a,s=n.s<0?s.minus(r):s.plus(r)):s=this.atan(Ft(n,r,l,1)),s}function Kf(n){return new this(n).cbrt()}function Qf(n){return ut(n=new this(n),n.e+1,2)}function Jf(n,r,s){return new this(n).clamp(r,s)}function ep(n){if(!n||typeof n!="object")throw Error(ui+"Object expected");var r,s,t,a=n.defaults===!0,l=["precision",1,Fn,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,Xi,"maxE",0,Xi,"minE",-9e15,0,"modulo",0,9];for(r=0;r<l.length;r+=3)if(s=l[r],a&&(this[s]=$i[s]),(t=n[s])!==void 0)if(Er(t)===t&&t>=l[r+1]&&t<=l[r+2])this[s]=t;else throw Error(Tn+s+": "+t);if(s="crypto",a&&(this[s]=$i[s]),(t=n[s])!==void 0)if(t===!0||t===!1||t===0||t===1)if(t)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[s]=!0;else throw Error(Ic);else this[s]=!1;else throw Error(Tn+s+": "+t);return this}function tp(n){return new this(n).cos()}function rp(n){return new this(n).cosh()}function Wc(n){var r,s,t;function a(l){var o,u,i,d=this;if(!(d instanceof a))return new a(l);if(d.constructor=a,Tl(l)){d.s=l.s,mt?!l.d||l.e>a.maxE?(d.e=NaN,d.d=null):l.e<a.minE?(d.e=0,d.d=[0]):(d.e=l.e,d.d=l.d.slice()):(d.e=l.e,d.d=l.d?l.d.slice():l.d);return}if(i=typeof l,i==="number"){if(l===0){d.s=1/l<0?-1:1,d.e=0,d.d=[0];return}if(l<0?(l=-l,d.s=-1):d.s=1,l===~~l&&l<1e7){for(o=0,u=l;u>=10;u/=10)o++;mt?o>a.maxE?(d.e=NaN,d.d=null):o<a.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[l]):(d.e=o,d.d=[l]);return}if(l*0!==0){l||(d.s=NaN),d.e=NaN,d.d=null;return}return Do(d,l.toString())}if(i==="string")return(u=l.charCodeAt(0))===45?(l=l.slice(1),d.s=-1):(u===43&&(l=l.slice(1)),d.s=1),Nc.test(l)?Do(d,l):Uf(d,l);if(i==="bigint")return l<0?(l=-l,d.s=-1):d.s=1,Do(d,l.toString());throw Error(Tn+l)}if(a.prototype=We,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=ep,a.clone=Wc,a.isDecimal=Tl,a.abs=Gf,a.acos=Vf,a.acosh=Hf,a.add=Wf,a.asin=qf,a.asinh=Xf,a.atan=Yf,a.atanh=$f,a.atan2=Zf,a.cbrt=Kf,a.ceil=Qf,a.clamp=Jf,a.cos=tp,a.cosh=rp,a.div=np,a.exp=sp,a.floor=op,a.hypot=ip,a.ln=ap,a.log=lp,a.log10=cp,a.log2=up,a.max=dp,a.min=hp,a.mod=fp,a.mul=pp,a.pow=mp,a.random=gp,a.round=yp,a.sign=vp,a.sin=bp,a.sinh=_p,a.sqrt=xp,a.sub=wp,a.sum=jp,a.tan=Sp,a.tanh=Dp,a.trunc=Ep,n===void 0&&(n={}),n&&n.defaults!==!0)for(t=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<t.length;)n.hasOwnProperty(s=t[r++])||(n[s]=this[s]);return a.config(n),a}function np(n,r){return new this(n).div(r)}function sp(n){return new this(n).exp()}function op(n){return ut(n=new this(n),n.e+1,3)}function ip(){var n,r,s=new this(0);for(mt=!1,n=0;n<arguments.length;)if(r=new this(arguments[n++]),r.d)s.d&&(s=s.plus(r.times(r)));else{if(r.s)return mt=!0,new this(1/0);s=r}return mt=!0,s.sqrt()}function Tl(n){return n instanceof ms||n&&n.toStringTag===Bc||!1}function ap(n){return new this(n).ln()}function lp(n,r){return new this(n).log(r)}function up(n){return new this(n).log(2)}function cp(n){return new this(n).log(10)}function dp(){return Gc(this,arguments,-1)}function hp(){return Gc(this,arguments,1)}function fp(n,r){return new this(n).mod(r)}function pp(n,r){return new this(n).mul(r)}function mp(n,r){return new this(n).pow(r)}function gp(n){var r,s,t,a,l=0,o=new this(1),u=[];if(n===void 0?n=this.precision:Or(n,1,Fn),t=Math.ceil(n/ht),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(t));l<t;)a=r[l],a>=429e7?r[l]=crypto.getRandomValues(new Uint32Array(1))[0]:u[l++]=a%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(t*=4);l<t;)a=r[l]+(r[l+1]<<8)+(r[l+2]<<16)+((r[l+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(r,l):(u.push(a%1e7),l+=4);l=t/4}else throw Error(Ic);else for(;l<t;)u[l++]=Math.random()*1e7|0;for(t=u[--l],n%=ht,t&&n&&(a=ar(10,ht-n),u[l]=(t/a|0)*a);u[l]===0;l--)u.pop();if(l<0)s=0,u=[0];else{for(s=-1;u[0]===0;s-=ht)u.shift();for(t=1,a=u[0];a>=10;a/=10)t++;t<ht&&(s-=ht-t)}return o.e=s,o.d=u,o}function yp(n){return ut(n=new this(n),n.e+1,this.rounding)}function vp(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function bp(n){return new this(n).sin()}function _p(n){return new this(n).sinh()}function xp(n){return new this(n).sqrt()}function wp(n,r){return new this(n).sub(r)}function jp(){var n=0,r=arguments,s=new this(r[n]);for(mt=!1;s.s&&++n<r.length;)s=s.plus(r[n]);return mt=!0,ut(s,this.precision,this.rounding)}function Sp(n){return new this(n).tan()}function Dp(n){return new this(n).tanh()}function Ep(n){return ut(n=new this(n),n.e+1,1)}We[Symbol.for("nodejs.util.inspect.custom")]=We.toString;We[Symbol.toStringTag]="Decimal";var ms=We.constructor=Wc($i);Yo=new ms(Yo);$o=new ms($o);var Cp="BigNumber",Mp=["?on","config"],Ap=Jt(Cp,Mp,n=>{var{on:r,config:s}=n,t=ms.clone({precision:s.precision,modulo:ms.EUCLID});return t.prototype=Object.create(t.prototype),t.prototype.type="BigNumber",t.prototype.isBigNumber=!0,t.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},t.fromJSON=function(a){return new t(a.value)},r&&r("config",function(a,l){a.precision!==l.precision&&t.config({precision:a.precision})}),t},{isClass:!0});const wr=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:(Math.exp(n)+Math.exp(-n))*.5},Br=Math.sinh||function(n){return Math.abs(n)<1e-9?n:(Math.exp(n)-Math.exp(-n))*.5},Tp=function(n){const r=Math.PI/4;if(-r>n||n>r)return Math.cos(n)-1;const s=n*n;return s*(s*(s*(s*(s*(s*(s*(s/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Ei=function(n,r){return n=Math.abs(n),r=Math.abs(r),n<r&&([n,r]=[r,n]),n<1e8?Math.sqrt(n*n+r*r):(r/=n,n*Math.sqrt(1+r*r))},as=function(){throw SyntaxError("Invalid Param")};function Ci(n,r){const s=Math.abs(n),t=Math.abs(r);return n===0?Math.log(t):r===0?Math.log(s):s<3e3&&t<3e3?Math.log(n*n+r*r)*.5:(n=n*.5,r=r*.5,.5*Math.log(n*n+r*r)+Math.LN2)}const kp={re:0,im:0},Hn=function(n,r){const s=kp;if(n==null)s.re=s.im=0;else if(r!==void 0)s.re=n,s.im=r;else switch(typeof n){case"object":if("im"in n&&"re"in n)s.re=n.re,s.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Ne.INFINITY;s.re=n.abs*Math.cos(n.arg),s.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Ne.INFINITY;s.re=n.r*Math.cos(n.phi),s.im=n.r*Math.sin(n.phi)}else n.length===2?(s.re=n[0],s.im=n[1]):as();break;case"string":s.im=s.re=0;const t=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let a=1,l=0;t===null&&as();for(let o=0;o<t.length;o++){const u=t[o];u===" "||u==="	"||u===`
`||(u==="+"?a++:u==="-"?l++:u==="i"||u==="I"?(a+l===0&&as(),t[o+1]!==" "&&!isNaN(t[o+1])?(s.im+=parseFloat((l%2?"-":"")+t[o+1]),o++):s.im+=parseFloat((l%2?"-":"")+"1"),a=l=0):((a+l===0||isNaN(u))&&as(),t[o+1]==="i"||t[o+1]==="I"?(s.im+=parseFloat((l%2?"-":"")+u),o++):s.re+=parseFloat((l%2?"-":"")+u),a=l=0))}a+l>0&&as();break;case"number":s.im=0,s.re=n;break;default:as()}return isNaN(s.re)||isNaN(s.im),s};function Ne(n,r){if(!(this instanceof Ne))return new Ne(n,r);const s=Hn(n,r);this.re=s.re,this.im=s.im}Ne.prototype={re:0,im:0,sign:function(){const n=Ei(this.re,this.im);return new Ne(this.re/n,this.im/n)},add:function(n,r){const s=Hn(n,r),t=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im));return t||a?t&&a?Ne.NAN:Ne.INFINITY:new Ne(this.re+s.re,this.im+s.im)},sub:function(n,r){const s=Hn(n,r),t=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im));return t||a?t&&a?Ne.NAN:Ne.INFINITY:new Ne(this.re-s.re,this.im-s.im)},mul:function(n,r){const s=Hn(n,r),t=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im)),l=this.re===0&&this.im===0,o=s.re===0&&s.im===0;return t&&o||a&&l?Ne.NAN:t||a?Ne.INFINITY:s.im===0&&this.im===0?new Ne(this.re*s.re,0):new Ne(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(n,r){const s=Hn(n,r),t=this.isInfinite(),a=!(isFinite(s.re)&&isFinite(s.im)),l=this.re===0&&this.im===0,o=s.re===0&&s.im===0;if(l&&o||t&&a)return Ne.NAN;if(o||t)return Ne.INFINITY;if(l||a)return Ne.ZERO;if(s.im===0)return new Ne(this.re/s.re,this.im/s.re);if(Math.abs(s.re)<Math.abs(s.im)){const u=s.re/s.im,i=s.re*u+s.im;return new Ne((this.re*u+this.im)/i,(this.im*u-this.re)/i)}else{const u=s.im/s.re,i=s.im*u+s.re;return new Ne((this.re+this.im*u)/i,(this.im-this.re*u)/i)}},pow:function(n,r){const s=Hn(n,r),t=this.re===0&&this.im===0;if(s.re===0&&s.im===0)return Ne.ONE;if(s.im===0){if(this.im===0&&this.re>0)return new Ne(Math.pow(this.re,s.re),0);if(this.re===0)switch((s.re%4+4)%4){case 0:return new Ne(Math.pow(this.im,s.re),0);case 1:return new Ne(0,Math.pow(this.im,s.re));case 2:return new Ne(-Math.pow(this.im,s.re),0);case 3:return new Ne(0,-Math.pow(this.im,s.re))}}if(t&&s.re>0)return Ne.ZERO;const l=Math.atan2(this.im,this.re),o=Ci(this.re,this.im);let u=Math.exp(s.re*o-s.im*l),i=s.im*o+s.re*l;return new Ne(u*Math.cos(i),u*Math.sin(i))},sqrt:function(){const n=this.re,r=this.im;if(r===0)return n>=0?new Ne(Math.sqrt(n),0):new Ne(0,Math.sqrt(-n));const s=Ei(n,r);let t=Math.sqrt(.5*(s+Math.abs(n))),a=Math.abs(r)/(2*t);return n>=0?new Ne(t,r<0?-a:a):new Ne(a,r<0?-t:t)},exp:function(){const n=Math.exp(this.re);return this.im===0?new Ne(n,0):new Ne(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,r=this.im;return new Ne(Math.expm1(n)*Math.cos(r)+Tp(r),Math.exp(n)*Math.sin(r))},log:function(){const n=this.re,r=this.im;return r===0&&n>0?new Ne(Math.log(n),0):new Ne(Ci(n,r),Math.atan2(r,n))},abs:function(){return Ei(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,r=this.im;return new Ne(Math.sin(n)*wr(r),Math.cos(n)*Br(r))},cos:function(){const n=this.re,r=this.im;return new Ne(Math.cos(n)*wr(r),-Math.sin(n)*Br(r))},tan:function(){const n=2*this.re,r=2*this.im,s=Math.cos(n)+wr(r);return new Ne(Math.sin(n)/s,Br(r)/s)},cot:function(){const n=2*this.re,r=2*this.im,s=Math.cos(n)-wr(r);return new Ne(-Math.sin(n)/s,Br(r)/s)},sec:function(){const n=this.re,r=this.im,s=.5*wr(2*r)+.5*Math.cos(2*n);return new Ne(Math.cos(n)*wr(r)/s,Math.sin(n)*Br(r)/s)},csc:function(){const n=this.re,r=this.im,s=.5*wr(2*r)-.5*Math.cos(2*n);return new Ne(Math.sin(n)*wr(r)/s,-Math.cos(n)*Br(r)/s)},asin:function(){const n=this.re,r=this.im,s=new Ne(r*r-n*n+1,-2*n*r).sqrt(),t=new Ne(s.re-r,s.im+n).log();return new Ne(t.im,-t.re)},acos:function(){const n=this.re,r=this.im,s=new Ne(r*r-n*n+1,-2*n*r).sqrt(),t=new Ne(s.re-r,s.im+n).log();return new Ne(Math.PI/2-t.im,t.re)},atan:function(){const n=this.re,r=this.im;if(n===0){if(r===1)return new Ne(0,1/0);if(r===-1)return new Ne(0,-1/0)}const s=n*n+(1-r)*(1-r),t=new Ne((1-r*r-n*n)/s,-2*n/s).log();return new Ne(-.5*t.im,.5*t.re)},acot:function(){const n=this.re,r=this.im;if(r===0)return new Ne(Math.atan2(1,n),0);const s=n*n+r*r;return s!==0?new Ne(n/s,-r/s).atan():new Ne(n!==0?n/0:0,r!==0?-r/0:0).atan()},asec:function(){const n=this.re,r=this.im;if(n===0&&r===0)return new Ne(0,1/0);const s=n*n+r*r;return s!==0?new Ne(n/s,-r/s).acos():new Ne(n!==0?n/0:0,r!==0?-r/0:0).acos()},acsc:function(){const n=this.re,r=this.im;if(n===0&&r===0)return new Ne(Math.PI/2,1/0);const s=n*n+r*r;return s!==0?new Ne(n/s,-r/s).asin():new Ne(n!==0?n/0:0,r!==0?-r/0:0).asin()},sinh:function(){const n=this.re,r=this.im;return new Ne(Br(n)*Math.cos(r),wr(n)*Math.sin(r))},cosh:function(){const n=this.re,r=this.im;return new Ne(wr(n)*Math.cos(r),Br(n)*Math.sin(r))},tanh:function(){const n=2*this.re,r=2*this.im,s=wr(n)+Math.cos(r);return new Ne(Br(n)/s,Math.sin(r)/s)},coth:function(){const n=2*this.re,r=2*this.im,s=wr(n)-Math.cos(r);return new Ne(Br(n)/s,-Math.sin(r)/s)},csch:function(){const n=this.re,r=this.im,s=Math.cos(2*r)-wr(2*n);return new Ne(-2*Br(n)*Math.cos(r)/s,2*wr(n)*Math.sin(r)/s)},sech:function(){const n=this.re,r=this.im,s=Math.cos(2*r)+wr(2*n);return new Ne(2*wr(n)*Math.cos(r)/s,-2*Br(n)*Math.sin(r)/s)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const r=this.asin();return this.re=-this.im,this.im=n,n=r.re,r.re=-r.im,r.im=n,r},acosh:function(){const n=this.acos();if(n.im<=0){const r=n.re;n.re=-n.im,n.im=r}else{const r=n.im;n.im=-n.re,n.re=r}return n},atanh:function(){const n=this.re,r=this.im,s=n>1&&r===0,t=1-n,a=1+n,l=t*t+r*r,o=l!==0?new Ne((a*t-r*r)/l,(r*t+a*r)/l):new Ne(n!==-1?n/0:0,r!==0?r/0:0),u=o.re;return o.re=Ci(o.re,o.im)/2,o.im=Math.atan2(o.im,u)/2,s&&(o.im=-o.im),o},acoth:function(){const n=this.re,r=this.im;if(n===0&&r===0)return new Ne(0,Math.PI/2);const s=n*n+r*r;return s!==0?new Ne(n/s,-r/s).atanh():new Ne(n!==0?n/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const n=this.re,r=this.im;if(r===0)return new Ne(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const s=n*n+r*r;return s!==0?new Ne(n/s,-r/s).asinh():new Ne(n!==0?n/0:0,r!==0?-r/0:0).asinh()},asech:function(){const n=this.re,r=this.im;if(this.isZero())return Ne.INFINITY;const s=n*n+r*r;return s!==0?new Ne(n/s,-r/s).acosh():new Ne(n!==0?n/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return Ne.INFINITY;if(this.isInfinite())return Ne.ZERO;const n=this.re,r=this.im,s=n*n+r*r;return new Ne(n/s,-r/s)},conjugate:function(){return new Ne(this.re,-this.im)},neg:function(){return new Ne(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Ne(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Ne(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Ne(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,r){const s=Hn(n,r);return Math.abs(s.re-this.re)<=Ne.EPSILON&&Math.abs(s.im-this.im)<=Ne.EPSILON},clone:function(){return new Ne(this.re,this.im)},toString:function(){let n=this.re,r=this.im,s="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Ne.EPSILON&&(n=0),Math.abs(r)<Ne.EPSILON&&(r=0),r===0?s+n:(n!==0?(s+=n,s+=" ",r<0?(r=-r,s+="-"):s+="+",s+=" "):r<0&&(r=-r,s+="-"),r!==1&&(s+=r),s+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Ne.ZERO=new Ne(0,0);Ne.ONE=new Ne(1,0);Ne.I=new Ne(0,1);Ne.PI=new Ne(Math.PI,0);Ne.E=new Ne(Math.E,0);Ne.INFINITY=new Ne(1/0,1/0);Ne.NAN=new Ne(NaN,NaN);Ne.EPSILON=1e-15;var Op="Complex",Fp=[],Pp=Jt(Op,Fp,()=>(Object.defineProperty(Ne,"name",{value:"Complex"}),Ne.prototype.constructor=Ne,Ne.prototype.type="Complex",Ne.prototype.isComplex=!0,Ne.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ne.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ne.prototype.format=function(n){var r="",s=this.im,t=this.re,a=qi(this.re,n),l=qi(this.im,n),o=Bt(n)?n:n?n.precision:null;if(o!==null){var u=Math.pow(10,-o);Math.abs(t/s)<u&&(t=0),Math.abs(s/t)<u&&(s=0)}return s===0?r=a:t===0?s===1?r="i":s===-1?r="-i":r=l+"i":s<0?s===-1?r=a+" - i":r=a+" - "+l.substring(1)+"i":s===1?r=a+" + i":r=a+" + "+l+"i",r},Ne.fromPolar=function(n){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return Ne(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var s=arguments[0],t=arguments[1];if(Bt(s)){if(Tc(t)&&t.hasBase("ANGLE")&&(t=t.toNumber("rad")),Bt(t))return new Ne({r:s,phi:t});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ne.prototype.valueOf=Ne.prototype.toString,Ne.fromJSON=function(n){return new Ne(n)},Ne.compare=function(n,r){return n.re>r.re?1:n.re<r.re?-1:n.im>r.im?1:n.im<r.im?-1:0},Ne),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const lt=BigInt(0),gt=BigInt(1),zs=BigInt(2),Qi=BigInt(5),Tr=BigInt(10),Lp=2e3,et={s:gt,n:lt,d:gt};function un(n,r){try{n=BigInt(n)}catch{throw wn()}return n*r}function Hr(n){return typeof n=="bigint"?n:Math.floor(n)}function Gt(n,r){if(r===lt)throw _a();const s=Object.create(Ur.prototype);s.s=n<lt?-gt:gt,n=n<lt?-n:n;const t=Xn(n,r);return s.n=n/t,s.d=r/t,s}function ls(n){const r={};let s=n,t=zs,a=Qi-gt;for(;a<=s;){for(;s%t===lt;)s/=t,r[t]=(r[t]||lt)+gt;a+=gt+zs*t++}return s!==n?s>1&&(r[s]=(r[s]||lt)+gt):r[n]=(r[n]||lt)+gt,r}const hr=function(n,r){let s=lt,t=gt,a=gt;if(n!=null)if(r!==void 0){if(typeof n=="bigint")s=n;else{if(isNaN(n))throw wn();if(n%1!==0)throw kl();s=BigInt(n)}if(typeof r=="bigint")t=r;else{if(isNaN(r))throw wn();if(r%1!==0)throw kl();t=BigInt(r)}a=s*t}else if(typeof n=="object"){if("d"in n&&"n"in n)s=BigInt(n.n),t=BigInt(n.d),"s"in n&&(s*=BigInt(n.s));else if(0 in n)s=BigInt(n[0]),1 in n&&(t=BigInt(n[1]));else if(typeof n=="bigint")s=n;else throw wn();a=s*t}else if(typeof n=="number"){if(isNaN(n))throw wn();if(n<0&&(a=-gt,n=-n),n%1===0)s=BigInt(n);else if(n>0){let l=1,o=0,u=1,i=1,d=1,p=1e7;for(n>=1&&(l=10**Math.floor(1+Math.log10(n)),n/=l);u<=p&&d<=p;){let m=(o+i)/(u+d);if(n===m){u+d<=p?(s=o+i,t=u+d):d>u?(s=i,t=d):(s=o,t=u);break}else n>m?(o+=i,u+=d):(i+=o,d+=u),u>p?(s=i,t=d):(s=o,t=u)}s=BigInt(s)*BigInt(l),t=BigInt(t)}}else if(typeof n=="string"){let l=0,o=lt,u=lt,i=lt,d=gt,p=gt,m=n.replace(/_/g,"").match(/\d+|./g);if(m===null)throw wn();if(m[l]==="-"?(a=-gt,l++):m[l]==="+"&&l++,m.length===l+1?u=un(m[l++],a):m[l+1]==="."||m[l]==="."?(m[l]!=="."&&(o=un(m[l++],a)),l++,(l+1===m.length||m[l+1]==="("&&m[l+3]===")"||m[l+1]==="'"&&m[l+3]==="'")&&(u=un(m[l],a),d=Tr**BigInt(m[l].length),l++),(m[l]==="("&&m[l+2]===")"||m[l]==="'"&&m[l+2]==="'")&&(i=un(m[l+1],a),p=Tr**BigInt(m[l+1].length)-gt,l+=3)):m[l+1]==="/"||m[l+1]===":"?(u=un(m[l],a),d=un(m[l+2],gt),l+=3):m[l+3]==="/"&&m[l+1]===" "&&(o=un(m[l],a),u=un(m[l+2],a),d=un(m[l+4],gt),l+=5),m.length<=l)t=d*p,a=s=i+t*o+p*u;else throw wn()}else if(typeof n=="bigint")s=n,a=n,t=gt;else throw wn();if(t===lt)throw _a();et.s=a<lt?-gt:gt,et.n=s<lt?-s:s,et.d=t<lt?-t:t};function Rp(n,r,s){let t=gt;for(;r>lt;n=n*n%s,r>>=gt)r&gt&&(t=t*n%s);return t}function Ip(n,r){for(;r%zs===lt;r/=zs);for(;r%Qi===lt;r/=Qi);if(r===gt)return lt;let s=Tr%r,t=1;for(;s!==gt;t++)if(s=s*Tr%r,t>Lp)return lt;return BigInt(t)}function Bp(n,r,s){let t=gt,a=Rp(Tr,s,r);for(let l=0;l<300;l++){if(t===a)return BigInt(l);t=t*Tr%r,a=a*Tr%r}return 0}function Xn(n,r){if(!n)return r;if(!r)return n;for(;;){if(n%=r,!n)return r;if(r%=n,!r)return n}}function Ur(n,r){if(hr(n,r),this instanceof Ur)n=Xn(et.d,et.n),this.s=et.s,this.n=et.n/n,this.d=et.d/n;else return Gt(et.s*et.n,et.d)}var _a=function(){return new Error("Division by Zero")},wn=function(){return new Error("Invalid argument")},kl=function(){return new Error("Parameters must be integer")};Ur.prototype={s:gt,n:lt,d:gt,abs:function(){return Gt(this.n,this.d)},neg:function(){return Gt(-this.s*this.n,this.d)},add:function(n,r){return hr(n,r),Gt(this.s*this.n*et.d+et.s*this.d*et.n,this.d*et.d)},sub:function(n,r){return hr(n,r),Gt(this.s*this.n*et.d-et.s*this.d*et.n,this.d*et.d)},mul:function(n,r){return hr(n,r),Gt(this.s*et.s*this.n*et.n,this.d*et.d)},div:function(n,r){return hr(n,r),Gt(this.s*et.s*this.n*et.d,this.d*et.n)},clone:function(){return Gt(this.s*this.n,this.d)},mod:function(n,r){if(n===void 0)return Gt(this.s*this.n%this.d,gt);if(hr(n,r),lt===et.n*this.d)throw _a();return Gt(this.s*(et.d*this.n)%(et.n*this.d),et.d*this.d)},gcd:function(n,r){return hr(n,r),Gt(Xn(et.n,this.n)*Xn(et.d,this.d),et.d*this.d)},lcm:function(n,r){return hr(n,r),et.n===lt&&this.n===lt?Gt(lt,gt):Gt(et.n*this.n,Xn(et.n,this.n)*Xn(et.d,this.d))},inverse:function(){return Gt(this.s*this.d,this.n)},pow:function(n,r){if(hr(n,r),et.d===gt)return et.s<lt?Gt((this.s*this.d)**et.n,this.n**et.n):Gt((this.s*this.n)**et.n,this.d**et.n);if(this.s<lt)return null;let s=ls(this.n),t=ls(this.d),a=gt,l=gt;for(let o in s)if(o!=="1"){if(o==="0"){a=lt;break}if(s[o]*=et.n,s[o]%et.d===lt)s[o]/=et.d;else return null;a*=BigInt(o)**s[o]}for(let o in t)if(o!=="1"){if(t[o]*=et.n,t[o]%et.d===lt)t[o]/=et.d;else return null;l*=BigInt(o)**t[o]}return et.s<lt?Gt(l,a):Gt(a,l)},log:function(n,r){if(hr(n,r),this.s<=lt||et.s<=lt)return null;const s={},t=ls(et.n),a=ls(et.d),l=ls(this.n),o=ls(this.d);for(const d in a)t[d]=(t[d]||lt)-a[d];for(const d in o)l[d]=(l[d]||lt)-o[d];for(const d in t)d!=="1"&&(s[d]=!0);for(const d in l)d!=="1"&&(s[d]=!0);let u=null,i=null;for(const d in s){const p=t[d]||lt,m=l[d]||lt;if(p===lt){if(m!==lt)return null;continue}let c=m,h=p;const v=Xn(c,h);if(c/=v,h/=v,u===null&&i===null)u=c,i=h;else if(c*i!==u*h)return null}return u!==null&&i!==null?Gt(u,i):null},equals:function(n,r){return hr(n,r),this.s*this.n*et.d===et.s*et.n*this.d},lt:function(n,r){return hr(n,r),this.s*this.n*et.d<et.s*et.n*this.d},lte:function(n,r){return hr(n,r),this.s*this.n*et.d<=et.s*et.n*this.d},gt:function(n,r){return hr(n,r),this.s*this.n*et.d>et.s*et.n*this.d},gte:function(n,r){return hr(n,r),this.s*this.n*et.d>=et.s*et.n*this.d},compare:function(n,r){hr(n,r);let s=this.s*this.n*et.d-et.s*et.n*this.d;return(lt<s)-(s<lt)},ceil:function(n){return n=Tr**BigInt(n||0),Gt(Hr(this.s*n*this.n/this.d)+(n*this.n%this.d>lt&&this.s>=lt?gt:lt),n)},floor:function(n){return n=Tr**BigInt(n||0),Gt(Hr(this.s*n*this.n/this.d)-(n*this.n%this.d>lt&&this.s<lt?gt:lt),n)},round:function(n){return n=Tr**BigInt(n||0),Gt(Hr(this.s*n*this.n/this.d)+this.s*((this.s>=lt?gt:lt)+zs*(n*this.n%this.d)>this.d?gt:lt),n)},roundTo:function(n,r){hr(n,r);const s=this.n*et.d,t=this.d*et.n,a=s%t;let l=Hr(s/t);return a+a>=t&&l++,Gt(this.s*l*et.n,et.d)},divisible:function(n,r){return hr(n,r),!(!(et.n*this.d)||this.n*et.d%(et.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n){let r=this.n,s=this.d;n=n||15;let t=Ip(r,s),a=Bp(r,s,t),l=this.s<lt?"-":"";if(l+=Hr(r/s),r%=s,r*=Tr,r&&(l+="."),t){for(let o=a;o--;)l+=Hr(r/s),r%=s,r*=Tr;l+="(";for(let o=t;o--;)l+=Hr(r/s),r%=s,r*=Tr;l+=")"}else for(let o=n;r&&o--;)l+=Hr(r/s),r%=s,r*=Tr;return l},toFraction:function(n){let r=this.n,s=this.d,t=this.s<lt?"-":"";if(s===gt)t+=r;else{let a=Hr(r/s);n&&a>lt&&(t+=a,t+=" ",r%=s),t+=r,t+="/",t+=s}return t},toLatex:function(n){let r=this.n,s=this.d,t=this.s<lt?"-":"";if(s===gt)t+=r;else{let a=Hr(r/s);n&&a>lt&&(t+=a,r%=s),t+="\\frac{",t+=r,t+="}{",t+=s,t+="}"}return t},toContinued:function(){let n=this.n,r=this.d,s=[];do{s.push(Hr(n/r));let t=n%r;n=r,r=t}while(n!==gt);return s},simplify:function(n){const r=BigInt(1/(n||.001)|0),s=this.abs(),t=s.toContinued();for(let a=1;a<t.length;a++){let l=Gt(t[a-1],gt);for(let u=a-2;u>=0;u--)l=l.inverse().add(t[u]);let o=l.sub(s);if(o.n*r<o.d)return l.mul(this.s)}return this}};var Np="Fraction",Up=[],zp=Jt(Np,Up,()=>(Object.defineProperty(Ur,"name",{value:"Fraction"}),Ur.prototype.constructor=Ur,Ur.prototype.type="Fraction",Ur.prototype.isFraction=!0,Ur.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Ur.fromJSON=function(n){return new Ur(n)},Ur),{isClass:!0}),Gp="Matrix",Vp=[],Hp=Jt(Gp,Vp,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(r,s){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(r,s,t){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(r,s,t){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(r,s){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(r,s){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(r,s){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function Mi(n,r,s){var t=n.constructor,a=new t(2),l="";if(s){if(s<1)throw new Error("size must be in greater than 0");if(!gr(s))throw new Error("size must be an integer");if(n.greaterThan(a.pow(s-1).sub(1))||n.lessThan(a.pow(s-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(s-1,", 2^").concat(s-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(a.pow(s))),l="i".concat(s)}switch(r){case 2:return"".concat(n.toBinary()).concat(l);case 8:return"".concat(n.toOctal()).concat(l);case 16:return"".concat(n.toHexadecimal()).concat(l);default:throw new Error("Base ".concat(r," not supported "))}}function Wp(n,r){if(typeof r=="function")return r(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:s,precision:t,wordSize:a}=Oc(r);switch(s){case"fixed":return Xp(n,t);case"exponential":return Ol(n,t);case"engineering":return qp(n,t);case"bin":return Mi(n,2,a);case"oct":return Mi(n,8,a);case"hex":return Mi(n,16,a);case"auto":{var l=Fl(r==null?void 0:r.lowerExp,-3),o=Fl(r==null?void 0:r.upperExp,5);if(n.isZero())return"0";var u,i=n.toSignificantDigits(t),d=i.e;return d>=l&&d<o?u=i.toFixed():u=Ol(n,t),u.replace(/((\.\d*?)(0+))($|e)/,function(){var p=arguments[2],m=arguments[4];return p!=="."?p+m:m})}default:throw new Error('Unknown notation "'+s+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qp(n,r){var s=n.e,t=s%3===0?s:s<0?s-3-s%3:s-s%3,a=n.mul(Math.pow(10,-t)),l=a.toPrecision(r);if(l.includes("e")){var o=n.constructor;l=new o(l).toFixed()}return l+"e"+(s>=0?"+":"")+t.toString()}function Ol(n,r){return r!==void 0?n.toExponential(r-1):n.toExponential()}function Xp(n,r){return n.toFixed(r)}function Fl(n,r){return Bt(n)?n:Sr(n)?n.toNumber():r}function Ar(n,r){var s=Yp(n,r);return r&&typeof r=="object"&&"truncate"in r&&s.length>r.truncate?s.substring(0,r.truncate-3)+"...":s}function Yp(n,r){if(typeof n=="number")return qi(n,r);if(Sr(n))return Wp(n,r);if($p(n))return!r||r.fraction!=="decimal"?"".concat(n.s*n.n,"/").concat(n.d):n.toString();if(Array.isArray(n))return qc(n,r);if(rn(n))return Pl(n);if(typeof n=="function")return n.syntax?String(n.syntax):"function";if(n&&typeof n=="object"){if(typeof n.format=="function")return n.format(r);if(n&&n.toString(r)!=={}.toString())return n.toString(r);var s=Object.keys(n).map(t=>Pl(t)+": "+Ar(n[t],r));return"{"+s.join(", ")+"}"}return String(n)}function Pl(n){for(var r=String(n),s="",t=0;t<r.length;){var a=r.charAt(t);s+=a in Ll?Ll[a]:a,t++}return'"'+s+'"'}var Ll={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function qc(n,r){if(Array.isArray(n)){for(var s="[",t=n.length,a=0;a<t;a++)a!==0&&(s+=", "),s+=qc(n[a],r);return s+="]",s}else return Ar(n,r)}function $p(n){return n&&typeof n=="object"&&typeof n.s=="bigint"&&typeof n.n=="bigint"&&typeof n.d=="bigint"||!1}function Vt(n,r,s){if(!(this instanceof Vt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=r,this.relation=s,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}Vt.prototype=new RangeError;Vt.prototype.constructor=RangeError;Vt.prototype.name="DimensionError";Vt.prototype.isDimensionError=!0;function bs(n,r,s){if(!(this instanceof bs))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=s),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}bs.prototype=new RangeError;bs.prototype.constructor=RangeError;bs.prototype.name="IndexError";bs.prototype.isIndexError=!0;function Rr(n){for(var r=[];Array.isArray(n);)r.push(n.length),n=n[0];return r}function Xc(n,r,s){var t,a=n.length;if(a!==r[s])throw new Vt(a,r[s]);if(s<r.length-1){var l=s+1;for(t=0;t<a;t++){var o=n[t];if(!Array.isArray(o))throw new Vt(r.length-1,r.length,"<");Xc(n[t],r,l)}}else for(t=0;t<a;t++)if(Array.isArray(n[t]))throw new Vt(r.length+1,r.length,">")}function Rl(n,r){var s=r.length===0;if(s){if(Array.isArray(n))throw new Vt(n.length,0)}else Xc(n,r,0)}function Zt(n,r){if(n!==void 0){if(!Bt(n)||!gr(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof r=="number"&&n>=r)throw new bs(n,r)}}function Il(n,r,s){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(a){if(!Bt(a)||!gr(a)||a<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ar(r)+")")}),(Bt(n)||Sr(n))&&(n=[n]);var t=s!==void 0?s:0;return Ji(n,r,0,t),n}function Ji(n,r,s,t){var a,l,o=n.length,u=r[s],i=Math.min(o,u);if(n.length=u,s<r.length-1){var d=s+1;for(a=0;a<i;a++)l=n[a],Array.isArray(l)||(l=[l],n[a]=l),Ji(l,r,d,t);for(a=i;a<u;a++)l=[],n[a]=l,Ji(l,r,d,t)}else{for(a=0;a<i;a++)for(;Array.isArray(n[a]);)n[a]=n[a][0];for(a=i;a<u;a++)n[a]=t}}function Yc(n,r){var s=Kp(n,!0),t=s.length;if(!Array.isArray(n)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Vt(0,t,"!=");r=xa(r,t);var a=$c(r);if(t!==a)throw new Vt(a,t,"!=");try{return Zp(s,r)}catch(l){throw l instanceof Vt?new Vt(a,t,"!="):l}}function xa(n,r){var s=$c(n),t=n.slice(),a=-1,l=n.indexOf(a),o=n.indexOf(a,l+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var u=l>=0,i=r%s===0;if(u)if(i)t[l]=-r/s;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-s);return t}function $c(n){return n.reduce((r,s)=>r*s,1)}function Zp(n,r){for(var s=n,t,a=r.length-1;a>0;a--){var l=r[a];t=[];for(var o=s.length/l,u=0;u<o;u++)t.push(s.slice(u*l,(u+1)*l));s=t}return s}function Zc(n,r,s,t){var a=t||Rr(n);if(s)for(var l=0;l<s;l++)n=[n],a.unshift(1);for(n=Kc(n,r,0);a.length<r;)a.push(1);return n}function Kc(n,r,s){var t,a;if(Array.isArray(n)){var l=s+1;for(t=0,a=n.length;t<a;t++)n[t]=Kc(n[t],r,l)}else for(var o=s;o<r;o++)n=[n];return n}function Kp(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(n))return n;if(typeof r!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var s=[];return r?a(n):t(n),s;function t(l){for(var o=0;o<l.length;o++){var u=l[o];Array.isArray(u)?t(u):s.push(u)}}function a(l){if(Array.isArray(l[0]))for(var o=0;o<l.length;o++)a(l[o]);else for(var u=0;u<l.length;u++)s.push(l[u])}}function wa(n,r){for(var s,t=0,a=0;a<n.length;a++){var l=n[a],o=Array.isArray(l);if(a===0&&o&&(t=l.length),o&&l.length!==t)return;var u=o?wa(l,r):r(l);if(s===void 0)s=u;else if(s!==u)return"mixed"}return s}function Qc(n,r,s,t){if(t<s){if(n.length!==r.length)throw new Vt(n.length,r.length);for(var a=[],l=0;l<n.length;l++)a[l]=Qc(n[l],r[l],s,t+1);return a}else return n.concat(r)}function Qp(){var n=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(s,t){return Qc(s,t,r,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function Jp(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(var t=r.map(c=>c.length),a=Math.max(...t),l=new Array(a).fill(null),o=0;o<r.length;o++)for(var u=r[o],i=t[o],d=0;d<i;d++){var p=a-i+d;u[d]>l[p]&&(l[p]=u[d])}for(var m=0;m<r.length;m++)Jc(r[m],l);return l}function Jc(n,r){for(var s=r.length,t=n.length,a=0;a<t;a++){var l=s-t+a;if(n[a]<r[l]&&n[a]>1||n[a]>r[l])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(t," with size ").concat(n[a]," to size ").concat(r[l]))}}function Bl(n,r){var s=Rr(n);if(fs(s,r))return n;Jc(s,r);var t=Jp(s,r),a=t.length,l=[...Array(a-s.length).fill(1),...s],o=rm(n);s.length<a&&(o=Yc(o,l),s=Rr(o));for(var u=0;u<a;u++)s[u]<t[u]&&(o=em(o,t[u],u),s=Rr(o));return o}function em(n,r,s){return Qp(...Array(r).fill(n),s)}function ed(n,r){if(!Array.isArray(n))throw new Error("Array expected");var s=Rr(n);if(r.length!==s.length)throw new Vt(r.length,s.length);for(var t=0;t<r.length;t++)Zt(r[t],s[t]);return r.reduce((a,l)=>a[l],n)}function tm(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n.length===0)return[];if(s)return l(n);var t=[];return a(n,0);function a(o,u){if(Array.isArray(o)){for(var i=o.length,d=Array(i),p=0;p<i;p++)t[u]=p,d[p]=a(o[p],u+1);return d}else return r(o,t.slice(0,u),n)}function l(o){if(Array.isArray(o)){for(var u=o.length,i=Array(u),d=0;d<u;d++)i[d]=l(o[d]);return i}else return r(o)}}function rm(n){return Go([],n)}function Ko(n,r,s){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(qo.isTypedFunction(n)){var a;if(t)a=1;else{var l=(r.isMatrix?r.size():Rr(r)).map(()=>0),o=r.isMatrix?r.get(l):ed(r,l);a=om(n,o,l,r)}var u;if(r.isMatrix&&r.dataType!=="mixed"&&r.dataType!==void 0){var i=nm(n,a);u=i!==void 0?i:n}else u=n;return a>=1&&a<=3?{isUnary:a===1,fn:function(){for(var p=arguments.length,m=new Array(p),c=0;c<p;c++)m[c]=arguments[c];return Nl(u,m.slice(0,a),s,n.name)}}:{isUnary:!1,fn:function(){for(var p=arguments.length,m=new Array(p),c=0;c<p;c++)m[c]=arguments[c];return Nl(u,m,s,n.name)}}}return t===void 0?{isUnary:sm(n),fn:n}:{isUnary:t,fn:n}}function nm(n,r){var s=[];if(Object.entries(n.signatures).forEach(t=>{var[a,l]=t;a.split(",").length===r&&s.push(l)}),s.length===1)return s[0]}function sm(n){if(n.length!==1)return!1;var r=n.toString();if(/arguments/.test(r))return!1;var s=r.match(/\(.*?\)/);return!/\.\.\./.test(s)}function om(n,r,s,t){for(var a=[r,s,t],l=3;l>0;l--){var o=a.slice(0,l);if(qo.resolve(n,o)!==null)return l}}function Nl(n,r,s,t){try{return n(...r)}catch(a){im(a,r,s,t)}}function im(n,r,s,t){var a;if(n instanceof TypeError&&((a=n.data)===null||a===void 0?void 0:a.category)==="wrongType"){var l=[];throw l.push("value: ".concat($n(r[0]))),r.length>=2&&l.push("index: ".concat($n(r[1]))),r.length>=3&&l.push("array: ".concat($n(r[2]))),new TypeError("Function ".concat(s," cannot apply callback arguments ")+"".concat(t,"(").concat(l.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(s," cannot apply callback arguments ")+"to function ".concat(t,": ").concat(n.message))}var am="DenseMatrix",lm=["Matrix"],um=Jt(am,lm,n=>{var{Matrix:r}=n;function s(p,m){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!rn(m))throw new Error("Invalid datatype: "+m);if(yr(p))p.type==="DenseMatrix"?(this._data=mr(p._data),this._size=mr(p._size),this._datatype=m||p._datatype):(this._data=p.toArray(),this._size=p.size(),this._datatype=m||p._datatype);else if(p&&ir(p.data)&&ir(p.size))this._data=p.data,this._size=p.size,Rl(this._data,this._size),this._datatype=m||p.datatype;else if(ir(p))this._data=d(p),this._size=Rr(this._data),Rl(this._data,this._size),this._datatype=m;else{if(p)throw new TypeError("Unsupported type of data ("+$n(p)+")");this._data=[],this._size=[0],this._datatype=m}}s.prototype=new r,s.prototype.createDenseMatrix=function(p,m){return new s(p,m)},Object.defineProperty(s,"name",{value:"DenseMatrix"}),s.prototype.constructor=s,s.prototype.type="DenseMatrix",s.prototype.isDenseMatrix=!0,s.prototype.getDataType=function(){return wa(this._data,$n)},s.prototype.storage=function(){return"dense"},s.prototype.datatype=function(){return this._datatype},s.prototype.create=function(p,m){return new s(p,m)},s.prototype.subset=function(p,m,c){switch(arguments.length){case 1:return t(this,p);case 2:case 3:return l(this,p,m,c);default:throw new SyntaxError("Wrong number of arguments")}},s.prototype.get=function(p){return ed(this._data,p)},s.prototype.set=function(p,m,c){if(!ir(p))throw new TypeError("Array expected");if(p.length<this._size.length)throw new Vt(p.length,this._size.length,"<");var h,v,f,y=p.map(function(b){return b+1});i(this,y,c);var g=this._data;for(h=0,v=p.length-1;h<v;h++)f=p[h],Zt(f,g.length),g=g[f];return f=p[p.length-1],Zt(f,g.length),g[f]=m,this};function t(p,m){if(!ya(m))throw new TypeError("Invalid index");var c=m.isScalar();if(c)return p.get(m.min());var h=m.size();if(h.length!==p._size.length)throw new Vt(h.length,p._size.length);for(var v=m.min(),f=m.max(),y=0,g=p._size.length;y<g;y++)Zt(v[y],p._size[y]),Zt(f[y],p._size[y]);return new s(a(p._data,m,h.length,0),p._datatype)}function a(p,m,c,h){var v=h===c-1,f=m.dimension(h);return v?f.map(function(y){return Zt(y,p.length),p[y]}).valueOf():f.map(function(y){Zt(y,p.length);var g=p[y];return a(g,m,c,h+1)}).valueOf()}function l(p,m,c,h){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var v=m.size(),f=m.isScalar(),y;if(yr(c)?(y=c.size(),c=c.valueOf()):y=Rr(c),f){if(y.length!==0)throw new TypeError("Scalar expected");p.set(m.min(),c,h)}else{if(!fs(y,v))try{y.length===0?c=Bl([c],v):c=Bl(c,v),y=Rr(c)}catch{}if(v.length<p._size.length)throw new Vt(v.length,p._size.length,"<");if(y.length<v.length){for(var g=0,b=0;v[g]===1&&y[g]===1;)g++;for(;v[g]===1;)b++,g++;c=Zc(c,v.length,b,y)}if(!fs(v,y))throw new Vt(v,y,">");var x=m.max().map(function(S){return S+1});i(p,x,h);var _=v.length,j=0;o(p._data,m,c,_,j)}return p}function o(p,m,c,h,v){var f=v===h-1,y=m.dimension(v);f?y.forEach(function(g,b){Zt(g),p[g]=c[b[0]]}):y.forEach(function(g,b){Zt(g),o(p[g],m,c[b[0]],h,v+1)})}s.prototype.resize=function(p,m,c){if(!Ho(p))throw new TypeError("Array or Matrix expected");var h=p.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),v=c?this.clone():this;return u(v,h,m)};function u(p,m,c){if(m.length===0){for(var h=p._data;ir(h);)h=h[0];return h}return p._size=m.slice(0),p._data=Il(p._data,p._size,c),p}s.prototype.reshape=function(p,m){var c=m?this.clone():this;c._data=Yc(c._data,p);var h=c._size.reduce((v,f)=>v*f);return c._size=xa(p,h),c};function i(p,m,c){for(var h=p._size.slice(0),v=!1;h.length<m.length;)h.push(0),v=!0;for(var f=0,y=m.length;f<y;f++)m[f]>h[f]&&(h[f]=m[f],v=!0);v&&u(p,h,c)}s.prototype.clone=function(){var p=new s({data:mr(this._data),size:mr(this._size),datatype:this._datatype});return p},s.prototype.size=function(){return this._size.slice(0)},s.prototype._forEach=function(p){var m=p.length===2,c=this._size.length-1;if(c<0)return;if(m){y(this._data);return}if(c===0){for(var h=0;h<this._data.length;h++)p(this._data,h,[h]);return}var v=new Array(c+1);f(this._data);function f(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(b<c)for(var x=0;x<g.length;x++)v[b]=x,f(g[x],b+1);else for(var _=0;_<g.length;_++)v[b]=_,p(g,_,v.slice())}function y(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(b<c)for(var x=0;x<g.length;x++)y(g[x],b+1);else for(var _=0;_<g.length;_++)p(g,_)}},s.prototype.map=function(p){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this,h=new s(c),v=Ko(p,c._data,"map",m),f=m||v.isUnary?(y,g)=>{y[g]=v.fn(y[g])}:(y,g,b)=>{y[g]=v.fn(y[g],b,c)};return h._forEach(f),h},s.prototype.forEach=function(p){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this,h=Ko(p,c._data,"map",m),v=m||h.isUnary?(f,y)=>{h.fn(f[y])}:(f,y,g)=>{h.fn(f[y],g,c)};c._forEach(v)},s.prototype[Symbol.iterator]=function*(){var p=this._size.length-1;if(!(p<0)){if(p===0){for(var m=0;m<this._data.length;m++)yield{value:this._data[m],index:[m]};return}var c=[],h=function*(f,y){if(y<p)for(var g=0;g<f.length;g++)c[y]=g,yield*h(f[g],y+1);else for(var b=0;b<f.length;b++)c[y]=b,yield{value:f[b],index:c.slice()}};yield*h(this._data,0)}},s.prototype.rows=function(){var p=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var h of c)p.push(new s([h],this._datatype));return p},s.prototype.columns=function(){var p=this,m=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,v=function(g){var b=h.map(x=>[x[g]]);m.push(new s(b,p._datatype))},f=0;f<c[1];f++)v(f);return m},s.prototype.toArray=function(){return mr(this._data)},s.prototype.valueOf=function(){return this._data},s.prototype.format=function(p){return Ar(this._data,p)},s.prototype.toString=function(){return Ar(this._data)},s.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},s.prototype.diagonal=function(p){if(p){if(Sr(p)&&(p=p.toNumber()),!Bt(p)||!gr(p))throw new TypeError("The parameter k must be an integer number")}else p=0;for(var m=p>0?p:0,c=p<0?-p:0,h=this._size[0],v=this._size[1],f=Math.min(h-c,v-m),y=[],g=0;g<f;g++)y[g]=this._data[g+c][g+m];return new s({data:y,size:[f],datatype:this._datatype})},s.diagonal=function(p,m,c,h){if(!ir(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(D){if(Sr(D)&&(D=D.toNumber()),!Bt(D)||!gr(D)||D<1)throw new Error("Size values must be positive integers");return D}),c){if(Sr(c)&&(c=c.toNumber()),!Bt(c)||!gr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var v=c>0?c:0,f=c<0?-c:0,y=p[0],g=p[1],b=Math.min(y-f,g-v),x;if(ir(m)){if(m.length!==b)throw new Error("Invalid value array length");x=function(E){return m[E]}}else if(yr(m)){var _=m.size();if(_.length!==1||_[0]!==b)throw new Error("Invalid matrix length");x=function(E){return m.get([E])}}else x=function(){return m};h||(h=Sr(x(0))?x(0).mul(0):0);var j=[];if(p.length>0){j=Il(j,p,h);for(var S=0;S<b;S++)j[S+f][S+v]=x(S)}return new s({data:j,size:[y,g]})},s.fromJSON=function(p){return new s(p)},s.prototype.swapRows=function(p,m){if(!Bt(p)||!gr(p)||!Bt(m)||!gr(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Zt(p,this._size[0]),Zt(m,this._size[0]),s._swapRows(p,m,this._data),this},s._swapRows=function(p,m,c){var h=c[p];c[p]=c[m],c[m]=h};function d(p){return yr(p)?d(p.valueOf()):ir(p)?p.map(d):p}return s},{isClass:!0});function cm(n,r,s){return yr(n)?n.map(t=>r(t),!1,!0):tm(n,r,!0)}var dm="number",td="number, number";function rd(n,r){return n+r}rd.signature=td;function nd(n,r){return n*r}nd.signature=td;function sd(n){return Math.exp(n)}sd.signature=dm;function hm(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(s<=0)throw new Error("Relative tolerance must be greater than 0");if(t<0)throw new Error("Absolute tolerance must be at least 0");return n.isNaN()||r.isNaN()?!1:!n.isFinite()||!r.isFinite()?n.eq(r):n.eq(r)?!0:n.minus(r).abs().lte(n.constructor.max(n.constructor.max(n.abs(),r.abs()).mul(s),t))}function fm(n,r,s,t){return Xo(n.re,r.re,s,t)&&Xo(n.im,r.im,s,t)}var pm=Jt("compareUnits",["typed"],n=>{var{typed:r}=n;return{"Unit, Unit":r.referToSelf(s=>(t,a)=>{if(!t.equalBase(a))throw new Error("Cannot compare units with different base");return r.find(s,[t.valueType(),a.valueType()])(t.value,a.value)})}}),Qo="equalScalar",mm=["typed","config"],gm=Jt(Qo,mm,n=>{var{typed:r,config:s}=n,t=pm({typed:r});return r(Qo,{"boolean, boolean":function(l,o){return l===o},"number, number":function(l,o){return Xo(l,o,s.relTol,s.absTol)},"BigNumber, BigNumber":function(l,o){return l.eq(o)||hm(l,o,s.relTol,s.absTol)},"bigint, bigint":function(l,o){return l===o},"Fraction, Fraction":function(l,o){return l.equals(o)},"Complex, Complex":function(l,o){return fm(l,o,s.relTol,s.absTol)}},t)});Jt(Qo,["typed","config"],n=>{var{typed:r,config:s}=n;return r(Qo,{"number, number":function(a,l){return Xo(a,l,s.relTol,s.absTol)}})});var ym="SparseMatrix",vm=["typed","equalScalar","Matrix"],bm=Jt(ym,vm,n=>{var{typed:r,equalScalar:s,Matrix:t}=n;function a(f,y){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(y&&!rn(y))throw new Error("Invalid datatype: "+y);if(yr(f))l(this,f,y);else if(f&&ir(f.index)&&ir(f.ptr)&&ir(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=y||f.datatype;else if(ir(f))o(this,f,y);else{if(f)throw new TypeError("Unsupported type of data ("+$n(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=y}}function l(f,y,g){y.type==="SparseMatrix"?(f._values=y._values?mr(y._values):void 0,f._index=mr(y._index),f._ptr=mr(y._ptr),f._size=mr(y._size),f._datatype=g||y._datatype):o(f,y.valueOf(),g||y._datatype)}function o(f,y,g){f._values=[],f._index=[],f._ptr=[],f._datatype=g;var b=y.length,x=0,_=s,j=0;if(rn(g)&&(_=r.find(s,[g,g])||s,j=r.convert(0,g)),b>0){var S=0;do{f._ptr.push(f._index.length);for(var D=0;D<b;D++){var E=y[D];if(ir(E)){if(S===0&&x<E.length&&(x=E.length),S<E.length){var T=E[S];_(T,j)||(f._values.push(T),f._index.push(D))}}else S===0&&x<1&&(x=1),_(E,j)||(f._values.push(E),f._index.push(D))}S++}while(S<x)}f._ptr.push(f._index.length),f._size=[b,x]}a.prototype=new t,a.prototype.createSparseMatrix=function(f,y){return new a(f,y)},Object.defineProperty(a,"name",{value:"SparseMatrix"}),a.prototype.constructor=a,a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return wa(this._values,$n)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(f,y){return new a(f,y)},a.prototype.density=function(){var f=this._size[0],y=this._size[1];return f!==0&&y!==0?this._index.length/(f*y):0},a.prototype.subset=function(f,y,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,f);case 2:case 3:return i(this,f,y,g);default:throw new SyntaxError("Wrong number of arguments")}};function u(f,y){if(!ya(y))throw new TypeError("Invalid index");var g=y.isScalar();if(g)return f.get(y.min());var b=y.size();if(b.length!==f._size.length)throw new Vt(b.length,f._size.length);var x,_,j,S,D=y.min(),E=y.max();for(x=0,_=f._size.length;x<_;x++)Zt(D[x],f._size[x]),Zt(E[x],f._size[x]);var T=f._values,F=f._index,A=f._ptr,L=y.dimension(0),O=y.dimension(1),B=[],I=[];L.forEach(function(G,Y){I[G]=Y[0],B[G]=!0});var N=T?[]:void 0,H=[],V=[];return O.forEach(function(G){for(V.push(H.length),j=A[G],S=A[G+1];j<S;j++)x=F[j],B[x]===!0&&(H.push(I[x]),N&&N.push(T[j]))}),V.push(H.length),new a({values:N,index:H,ptr:V,size:b,datatype:f._datatype})}function i(f,y,g,b){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var x=y.size(),_=y.isScalar(),j;if(yr(g)?(j=g.size(),g=g.toArray()):j=Rr(g),_){if(j.length!==0)throw new TypeError("Scalar expected");f.set(y.min(),g,b)}else{if(x.length!==1&&x.length!==2)throw new Vt(x.length,f._size.length,"<");if(j.length<x.length){for(var S=0,D=0;x[S]===1&&j[S]===1;)S++;for(;x[S]===1;)D++,S++;g=Zc(g,x.length,D,j)}if(!fs(x,j))throw new Vt(x,j,">");if(x.length===1){var E=y.dimension(0);E.forEach(function(A,L){Zt(A),f.set([A,0],g[L[0]],b)})}else{var T=y.dimension(0),F=y.dimension(1);T.forEach(function(A,L){Zt(A),F.forEach(function(O,B){Zt(O),f.set([A,O],g[L[0]][B[0]],b)})})}}return f}a.prototype.get=function(f){if(!ir(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Vt(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var y=f[0],g=f[1];Zt(y,this._size[0]),Zt(g,this._size[1]);var b=d(y,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===y?this._values[b]:0},a.prototype.set=function(f,y,g){if(!ir(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Vt(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=f[0],x=f[1],_=this._size[0],j=this._size[1],S=s,D=0;rn(this._datatype)&&(S=r.find(s,[this._datatype,this._datatype])||s,D=r.convert(0,this._datatype)),(b>_-1||x>j-1)&&(c(this,Math.max(b+1,_),Math.max(x+1,j),g),_=this._size[0],j=this._size[1]),Zt(b,_),Zt(x,j);var E=d(b,this._ptr[x],this._ptr[x+1],this._index);return E<this._ptr[x+1]&&this._index[E]===b?S(y,D)?p(E,x,this._values,this._index,this._ptr):this._values[E]=y:S(y,D)||m(E,b,x,y,this._values,this._index,this._ptr),this};function d(f,y,g,b){if(g-y===0)return g;for(var x=y;x<g;x++)if(b[x]===f)return x;return y}function p(f,y,g,b,x){g.splice(f,1),b.splice(f,1);for(var _=y+1;_<x.length;_++)x[_]--}function m(f,y,g,b,x,_,j){x.splice(f,0,b),_.splice(f,0,y);for(var S=g+1;S<j.length;S++)j[S]++}a.prototype.resize=function(f,y,g){if(!Ho(f))throw new TypeError("Array or Matrix expected");var b=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");b.forEach(function(_){if(!Bt(_)||!gr(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ar(b)+")")});var x=g?this.clone():this;return c(x,b[0],b[1],y)};function c(f,y,g,b){var x=b||0,_=s,j=0;rn(f._datatype)&&(_=r.find(s,[f._datatype,f._datatype])||s,j=r.convert(0,f._datatype),x=r.convert(x,f._datatype));var S=!_(x,j),D=f._size[0],E=f._size[1],T,F,A;if(g>E){for(F=E;F<g;F++)if(f._ptr[F]=f._values.length,S)for(T=0;T<D;T++)f._values.push(x),f._index.push(T);f._ptr[g]=f._values.length}else g<E&&(f._ptr.splice(g+1,E-g),f._values.splice(f._ptr[g],f._values.length),f._index.splice(f._ptr[g],f._index.length));if(E=g,y>D){if(S){var L=0;for(F=0;F<E;F++){f._ptr[F]=f._ptr[F]+L,A=f._ptr[F+1]+L;var O=0;for(T=D;T<y;T++,O++)f._values.splice(A+O,0,x),f._index.splice(A+O,0,T),L++}f._ptr[E]=f._values.length}}else if(y<D){var B=0;for(F=0;F<E;F++){f._ptr[F]=f._ptr[F]-B;var I=f._ptr[F],N=f._ptr[F+1]-B;for(A=I;A<N;A++)T=f._index[A],T>y-1&&(f._values.splice(A,1),f._index.splice(A,1),B++)}f._ptr[F]=f._values.length}return f._size[0]=y,f._size[1]=g,f}a.prototype.reshape=function(f,y){if(!ir(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(G){if(!Bt(G)||!gr(G)||G<=-2||G===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ar(f)+")")});var g=this._size[0]*this._size[1];f=xa(f,g);var b=f[0]*f[1];if(g!==b)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var x=y?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return x;for(var _=[],j=0;j<x._ptr.length;j++)for(var S=0;S<x._ptr[j+1]-x._ptr[j];S++)_.push(j);for(var D=x._values.slice(),E=x._index.slice(),T=0;T<x._index.length;T++){var F=E[T],A=_[T],L=F*x._size[1]+A;_[T]=L%f[1],E[T]=Math.floor(L/f[1])}x._values.length=0,x._index.length=0,x._ptr.length=f[1]+1,x._size=f.slice();for(var O=0;O<x._ptr.length;O++)x._ptr[O]=0;for(var B=0;B<D.length;B++){var I=E[B],N=_[B],H=D[B],V=d(I,x._ptr[N],x._ptr[N+1],x._index);m(V,I,N,H,x._values,x._index,x._ptr)}return x},a.prototype.clone=function(){var f=new a({values:this._values?mr(this._values):void 0,index:mr(this._index),ptr:mr(this._ptr),size:mr(this._size),datatype:this._datatype});return f},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(f,y){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,b=this._size[0],x=this._size[1],_=Ko(f,g,"map"),j=function(D,E,T){return _.fn(D,[E,T],g)};return h(this,0,b-1,0,x-1,j,y)};function h(f,y,g,b,x,_,j){var S=[],D=[],E=[],T=s,F=0;rn(f._datatype)&&(T=r.find(s,[f._datatype,f._datatype])||s,F=r.convert(0,f._datatype));for(var A=function(M,R,z){var W=_(M,R,z);T(W,F)||(S.push(W),D.push(R))},L=b;L<=x;L++){E.push(S.length);var O=f._ptr[L],B=f._ptr[L+1];if(j)for(var I=O;I<B;I++){var N=f._index[I];N>=y&&N<=g&&A(f._values[I],N-y,L-b)}else{for(var H={},V=O;V<B;V++){var G=f._index[V];H[G]=f._values[V]}for(var Y=y;Y<=g;Y++){var K=Y in H?H[Y]:0;A(K,Y-y,L-b)}}}return E.push(S.length),new a({values:S,index:D,ptr:E,size:[g-y+1,x-b+1]})}a.prototype.forEach=function(f,y){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,b=this._size[0],x=this._size[1],_=Ko(f,g,"forEach"),j=0;j<x;j++){var S=this._ptr[j],D=this._ptr[j+1];if(y)for(var E=S;E<D;E++){var T=this._index[E];_.fn(this._values[E],[T,j],g)}else{for(var F={},A=S;A<D;A++){var L=this._index[A];F[L]=this._values[A]}for(var O=0;O<b;O++){var B=O in F?F[O]:0;_.fn(B,[O,j],g)}}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],y=0;y<f;y++)for(var g=this._ptr[y],b=this._ptr[y+1],x=g;x<b;x++){var _=this._index[x];yield{value:this._values[x],index:[_,y]}}},a.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(f,y,g,b,x){var _=b[0],j=b[1],S=[],D,E;for(D=0;D<_;D++)for(S[D]=[],E=0;E<j;E++)S[D][E]=0;for(E=0;E<j;E++)for(var T=g[E],F=g[E+1],A=T;A<F;A++)D=y[A],S[D][E]=f?x?mr(f[A]):f[A]:1;return S}return a.prototype.format=function(f){for(var y=this._size[0],g=this._size[1],b=this.density(),x="Sparse Matrix ["+Ar(y,f)+" x "+Ar(g,f)+"] density: "+Ar(b,f)+`
`,_=0;_<g;_++)for(var j=this._ptr[_],S=this._ptr[_+1],D=j;D<S;D++){var E=this._index[D];x+=`
    (`+Ar(E,f)+", "+Ar(_,f)+") ==> "+(this._values?Ar(this._values[D],f):"X")}return x},a.prototype.toString=function(){return Ar(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(f){if(f){if(Sr(f)&&(f=f.toNumber()),!Bt(f)||!gr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var y=f>0?f:0,g=f<0?-f:0,b=this._size[0],x=this._size[1],_=Math.min(b-g,x-y),j=[],S=[],D=[];D[0]=0;for(var E=y;E<x&&j.length<_;E++)for(var T=this._ptr[E],F=this._ptr[E+1],A=T;A<F;A++){var L=this._index[A];if(L===E-y+g){j.push(this._values[A]),S[j.length-1]=L-g;break}}return D.push(j.length),new a({values:j,index:S,ptr:D,size:[_,1]})},a.fromJSON=function(f){return new a(f)},a.diagonal=function(f,y,g,b,x){if(!ir(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(G){if(Sr(G)&&(G=G.toNumber()),!Bt(G)||!gr(G)||G<1)throw new Error("Size values must be positive integers");return G}),g){if(Sr(g)&&(g=g.toNumber()),!Bt(g)||!gr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=s,j=0;rn(x)&&(_=r.find(s,[x,x])||s,j=r.convert(0,x));var S=g>0?g:0,D=g<0?-g:0,E=f[0],T=f[1],F=Math.min(E-D,T-S),A;if(ir(y)){if(y.length!==F)throw new Error("Invalid value array length");A=function(Y){return y[Y]}}else if(yr(y)){var L=y.size();if(L.length!==1||L[0]!==F)throw new Error("Invalid matrix length");A=function(Y){return y.get([Y])}}else A=function(){return y};for(var O=[],B=[],I=[],N=0;N<T;N++){I.push(O.length);var H=N-S;if(H>=0&&H<F){var V=A(H);_(V,j)||(B.push(H+D),O.push(V))}}return I.push(O.length),new a({values:O,index:B,ptr:I,size:[E,T]})},a.prototype.swapRows=function(f,y){if(!Bt(f)||!gr(f)||!Bt(y)||!gr(y))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Zt(f,this._size[0]),Zt(y,this._size[0]),a._swapRows(f,y,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(f,y,g,b,x){for(var _=b[f],j=b[f+1],S=_;S<j;S++)x(g[S],y[S])},a._swapRows=function(f,y,g,b,x,_){for(var j=0;j<g;j++){var S=_[j],D=_[j+1],E=d(f,S,D,x),T=d(y,S,D,x);if(E<D&&T<D&&x[E]===f&&x[T]===y){if(b){var F=b[E];b[E]=b[T],b[T]=F}continue}if(E<D&&x[E]===f&&(T>=D||x[T]!==y)){var A=b?b[E]:void 0;x.splice(T,0,y),b&&b.splice(T,0,A),x.splice(T<=E?E+1:E,1),b&&b.splice(T<=E?E+1:E,1);continue}if(T<D&&x[T]===y&&(E>=D||x[E]!==f)){var L=b?b[T]:void 0;x.splice(E,0,f),b&&b.splice(E,0,L),x.splice(E<=T?T+1:T,1),b&&b.splice(E<=T?T+1:T,1)}}},a},{isClass:!0}),Ul="matrix",_m=["typed","Matrix","DenseMatrix","SparseMatrix"],xm=Jt(Ul,_m,n=>{var{typed:r,Matrix:s,DenseMatrix:t,SparseMatrix:a}=n;return r(Ul,{"":function(){return l([])},string:function(u){return l([],u)},"string, string":function(u,i){return l([],u,i)},Array:function(u){return l(u)},Matrix:function(u){return l(u,u.storage())},"Array | Matrix, string":l,"Array | Matrix, string, string":l});function l(o,u,i){if(u==="dense"||u==="default"||u===void 0)return new t(o,i);if(u==="sparse")return new a(o,i);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),zl="addScalar",wm=["typed"],jm=Jt(zl,wm,n=>{var{typed:r}=n;return r(zl,{"number, number":rd,"Complex, Complex":function(t,a){return t.add(a)},"BigNumber, BigNumber":function(t,a){return t.plus(a)},"bigint, bigint":function(t,a){return t+a},"Fraction, Fraction":function(t,a){return t.add(a)},"Unit, Unit":r.referToSelf(s=>(t,a)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(a))throw new Error("Units do not match");var l=t.clone();return l.value=r.find(s,[l.valueType(),a.valueType()])(l.value,a.value),l.fixPrefix=!1,l})})}),Sm="matAlgo11xS0s",Dm=["typed","equalScalar"],Em=Jt(Sm,Dm,n=>{var{typed:r,equalScalar:s}=n;return function(a,l,o,u){var i=a._values,d=a._index,p=a._ptr,m=a._size,c=a._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=m[0],v=m[1],f,y=s,g=0,b=o;typeof c=="string"&&(f=c,y=r.find(s,[f,f]),g=r.convert(0,f),l=r.convert(l,f),b=r.find(o,[f,f]));for(var x=[],_=[],j=[],S=0;S<v;S++){j[S]=_.length;for(var D=p[S],E=p[S+1],T=D;T<E;T++){var F=d[T],A=u?b(l,i[T]):b(i[T],l);y(A,g)||(_.push(F),x.push(A))}}return j[v]=_.length,a.createSparseMatrix({values:x,index:_,ptr:j,size:[h,v],datatype:f})}}),Cm="matAlgo14xDs",Mm=["typed"],Am=Jt(Cm,Mm,n=>{var{typed:r}=n;return function(a,l,o,u){var i=a._data,d=a._size,p=a._datatype,m,c=o;typeof p=="string"&&(m=p,l=r.convert(l,m),c=r.find(o,[m,m]));var h=d.length>0?s(c,0,d,d[0],i,l,u):[];return a.createDenseMatrix({data:h,size:mr(d),datatype:m})};function s(t,a,l,o,u,i,d){var p=[];if(a===l.length-1)for(var m=0;m<o;m++)p[m]=d?t(i,u[m]):t(u[m],i);else for(var c=0;c<o;c++)p[c]=s(t,a+1,l,l[a+1],u[c],i,d);return p}}),Gl="exp",Tm=["typed"],km=Jt(Gl,Tm,n=>{var{typed:r}=n;return r(Gl,{number:sd,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()}})}),Om="multiplyScalar",Fm=["typed"],Pm=Jt(Om,Fm,n=>{var{typed:r}=n;return r("multiplyScalar",{"number, number":nd,"Complex, Complex":function(t,a){return t.mul(a)},"BigNumber, BigNumber":function(t,a){return t.times(a)},"bigint, bigint":function(t,a){return t*a},"Fraction, Fraction":function(t,a){return t.mul(a)},"number | Fraction | BigNumber | Complex, Unit":(s,t)=>t.multiply(s),"Unit, number | Fraction | BigNumber | Complex | Unit":(s,t)=>s.multiply(t)})}),Vl="multiply",Lm=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Rm=Jt(Vl,Lm,n=>{var{typed:r,matrix:s,addScalar:t,multiplyScalar:a,equalScalar:l,dot:o}=n,u=Em({typed:r,equalScalar:l}),i=Am({typed:r});function d(j,S){switch(j.length){case 1:switch(S.length){case 1:if(j[0]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(j[0]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+j[0]+") must match Matrix rows ("+S[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+S.length+" dimensions)")}break;case 2:switch(S.length){case 1:if(j[1]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+j[1]+") must match Vector length ("+S[0]+")");break;case 2:if(j[1]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+j[1]+") must match Matrix B rows ("+S[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+S.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+j.length+" dimensions)")}}function p(j,S,D){if(D===0)throw new Error("Cannot multiply two empty vectors");return o(j,S)}function m(j,S){if(S.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(j,S)}function c(j,S){var D=j._data,E=j._size,T=j._datatype||j.getDataType(),F=S._data,A=S._size,L=S._datatype||S.getDataType(),O=E[0],B=A[1],I,N=t,H=a;T&&L&&T===L&&typeof T=="string"&&T!=="mixed"&&(I=T,N=r.find(t,[I,I]),H=r.find(a,[I,I]));for(var V=[],G=0;G<B;G++){for(var Y=H(D[0],F[0][G]),K=1;K<O;K++)Y=N(Y,H(D[K],F[K][G]));V[G]=Y}return j.createDenseMatrix({data:V,size:[B],datatype:T===j._datatype&&L===S._datatype?I:void 0})}var h=r("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":b}),v=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":y,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":x,"SparseMatrix, SparseMatrix":_});function f(j,S){var D=j._data,E=j._size,T=j._datatype||j.getDataType(),F=S._data,A=S._datatype||S.getDataType(),L=E[0],O=E[1],B,I=t,N=a;T&&A&&T===A&&typeof T=="string"&&T!=="mixed"&&(B=T,I=r.find(t,[B,B]),N=r.find(a,[B,B]));for(var H=[],V=0;V<L;V++){for(var G=D[V],Y=N(G[0],F[0]),K=1;K<O;K++)Y=I(Y,N(G[K],F[K]));H[V]=Y}return j.createDenseMatrix({data:H,size:[L],datatype:T===j._datatype&&A===S._datatype?B:void 0})}function y(j,S){var D=j._data,E=j._size,T=j._datatype||j.getDataType(),F=S._data,A=S._size,L=S._datatype||S.getDataType(),O=E[0],B=E[1],I=A[1],N,H=t,V=a;T&&L&&T===L&&typeof T=="string"&&T!=="mixed"&&T!=="mixed"&&(N=T,H=r.find(t,[N,N]),V=r.find(a,[N,N]));for(var G=[],Y=0;Y<O;Y++){var K=D[Y];G[Y]=[];for(var se=0;se<I;se++){for(var M=V(K[0],F[0][se]),R=1;R<B;R++)M=H(M,V(K[R],F[R][se]));G[Y][se]=M}}return j.createDenseMatrix({data:G,size:[O,I],datatype:T===j._datatype&&L===S._datatype?N:void 0})}function g(j,S){var D=j._data,E=j._size,T=j._datatype||j.getDataType(),F=S._values,A=S._index,L=S._ptr,O=S._size,B=S._datatype||S._data===void 0?S._datatype:S.getDataType();if(!F)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=E[0],N=O[1],H,V=t,G=a,Y=l,K=0;T&&B&&T===B&&typeof T=="string"&&T!=="mixed"&&(H=T,V=r.find(t,[H,H]),G=r.find(a,[H,H]),Y=r.find(l,[H,H]),K=r.convert(0,H));for(var se=[],M=[],R=[],z=S.createSparseMatrix({values:se,index:M,ptr:R,size:[I,N],datatype:T===j._datatype&&B===S._datatype?H:void 0}),W=0;W<N;W++){R[W]=M.length;var J=L[W],te=L[W+1];if(te>J)for(var ie=0,de=0;de<I;de++){for(var oe=de+1,he=void 0,le=J;le<te;le++){var ee=A[le];ie!==oe?(he=G(D[de][ee],F[le]),ie=oe):he=V(he,G(D[de][ee],F[le]))}ie===oe&&!Y(he,K)&&(M.push(de),se.push(he))}}return R[N]=M.length,z}function b(j,S){var D=j._values,E=j._index,T=j._ptr,F=j._datatype||j._data===void 0?j._datatype:j.getDataType();if(!D)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var A=S._data,L=S._datatype||S.getDataType(),O=j._size[0],B=S._size[0],I=[],N=[],H=[],V,G=t,Y=a,K=l,se=0;F&&L&&F===L&&typeof F=="string"&&F!=="mixed"&&(V=F,G=r.find(t,[V,V]),Y=r.find(a,[V,V]),K=r.find(l,[V,V]),se=r.convert(0,V));var M=[],R=[];H[0]=0;for(var z=0;z<B;z++){var W=A[z];if(!K(W,se))for(var J=T[z],te=T[z+1],ie=J;ie<te;ie++){var de=E[ie];R[de]?M[de]=G(M[de],Y(W,D[ie])):(R[de]=!0,N.push(de),M[de]=Y(W,D[ie]))}}for(var oe=N.length,he=0;he<oe;he++){var le=N[he];I[he]=M[le]}return H[1]=N.length,j.createSparseMatrix({values:I,index:N,ptr:H,size:[O,1],datatype:F===j._datatype&&L===S._datatype?V:void 0})}function x(j,S){var D=j._values,E=j._index,T=j._ptr,F=j._datatype||j._data===void 0?j._datatype:j.getDataType();if(!D)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var A=S._data,L=S._datatype||S.getDataType(),O=j._size[0],B=S._size[0],I=S._size[1],N,H=t,V=a,G=l,Y=0;F&&L&&F===L&&typeof F=="string"&&F!=="mixed"&&(N=F,H=r.find(t,[N,N]),V=r.find(a,[N,N]),G=r.find(l,[N,N]),Y=r.convert(0,N));for(var K=[],se=[],M=[],R=j.createSparseMatrix({values:K,index:se,ptr:M,size:[O,I],datatype:F===j._datatype&&L===S._datatype?N:void 0}),z=[],W=[],J=0;J<I;J++){M[J]=se.length;for(var te=J+1,ie=0;ie<B;ie++){var de=A[ie][J];if(!G(de,Y))for(var oe=T[ie],he=T[ie+1],le=oe;le<he;le++){var ee=E[le];W[ee]!==te?(W[ee]=te,se.push(ee),z[ee]=V(de,D[le])):z[ee]=H(z[ee],V(de,D[le]))}}for(var pe=M[J],_e=se.length,De=pe;De<_e;De++){var xe=se[De];K[De]=z[xe]}}return M[I]=se.length,R}function _(j,S){var D=j._values,E=j._index,T=j._ptr,F=j._datatype||j._data===void 0?j._datatype:j.getDataType(),A=S._values,L=S._index,O=S._ptr,B=S._datatype||S._data===void 0?S._datatype:S.getDataType(),I=j._size[0],N=S._size[1],H=D&&A,V,G=t,Y=a;F&&B&&F===B&&typeof F=="string"&&F!=="mixed"&&(V=F,G=r.find(t,[V,V]),Y=r.find(a,[V,V]));for(var K=H?[]:void 0,se=[],M=[],R=j.createSparseMatrix({values:K,index:se,ptr:M,size:[I,N],datatype:F===j._datatype&&B===S._datatype?V:void 0}),z=H?[]:void 0,W=[],J,te,ie,de,oe,he,le,ee,pe=0;pe<N;pe++){M[pe]=se.length;var _e=pe+1;for(oe=O[pe],he=O[pe+1],de=oe;de<he;de++)if(ee=L[de],H)for(te=T[ee],ie=T[ee+1],J=te;J<ie;J++)le=E[J],W[le]!==_e?(W[le]=_e,se.push(le),z[le]=Y(A[de],D[J])):z[le]=G(z[le],Y(A[de],D[J]));else for(te=T[ee],ie=T[ee+1],J=te;J<ie;J++)le=E[J],W[le]!==_e&&(W[le]=_e,se.push(le));if(H)for(var De=M[pe],xe=se.length,je=De;je<xe;je++){var Te=se[je];K[je]=z[Te]}}return M[N]=se.length,R}return r(Vl,a,{"Array, Array":r.referTo("Matrix, Matrix",j=>(S,D)=>{d(Rr(S),Rr(D));var E=j(s(S),s(D));return yr(E)?E.valueOf():E}),"Matrix, Matrix":function(S,D){var E=S.size(),T=D.size();return d(E,T),E.length===1?T.length===1?p(S,D,E[0]):m(S,D):T.length===1?h(S,D):v(S,D)},"Matrix, Array":r.referTo("Matrix,Matrix",j=>(S,D)=>j(S,s(D))),"Array, Matrix":r.referToSelf(j=>(S,D)=>j(s(S,D.storage()),D)),"SparseMatrix, any":function(S,D){return u(S,D,a,!1)},"DenseMatrix, any":function(S,D){return i(S,D,a,!1)},"any, SparseMatrix":function(S,D){return u(D,S,a,!0)},"any, DenseMatrix":function(S,D){return i(D,S,a,!0)},"Array, any":function(S,D){return i(s(S),D,a,!1).valueOf()},"any, Array":function(S,D){return i(s(D),S,a,!0).valueOf()},"any, any":a,"any, any, ...any":r.referToSelf(j=>(S,D,E)=>{for(var T=j(S,D),F=0;F<E.length;F++)T=j(T,E[F]);return T})})}),Hl="conj",Im=["typed"],Bm=Jt(Hl,Im,n=>{var{typed:r}=n;return r(Hl,{"number | BigNumber | Fraction":s=>s,Complex:s=>s.conjugate(),"Array | Matrix":r.referToSelf(s=>t=>cm(t,s))})});function Nm(){throw new Error('No "matrix" implementation available')}var Wl="size",Um=["typed","config","?matrix"],zm=Jt(Wl,Um,n=>{var{typed:r,config:s,matrix:t}=n;return r(Wl,{Matrix:function(l){return l.create(l.size(),"number")},Array:Rr,string:function(l){return s.matrix==="Array"?[l.length]:t([l.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(l){return s.matrix==="Array"?[]:t?t([],"dense","number"):Nm()}})}),ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Gm(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var r=n.default;if(typeof r=="function"){var s=function t(){return this instanceof t?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(t){var a=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(s,t,a.get?a:{enumerable:!0,get:function(){return n[t]}})}),s}var ql="dot",Vm=["typed","addScalar","multiplyScalar","conj","size"],Hm=Jt(ql,Vm,n=>{var{typed:r,addScalar:s,multiplyScalar:t,conj:a,size:l}=n;return r(ql,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":i});function o(p,m){var c=d(p),h=d(m),v,f;if(c.length===1)v=c[0];else if(c.length===2&&c[1]===1)v=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(h.length===1)f=h[0];else if(h.length===2&&h[1]===1)f=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(v!==f)throw new RangeError("Vectors must have equal length ("+v+" != "+f+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function u(p,m){var c=o(p,m),h=yr(p)?p._data:p,v=yr(p)?p._datatype||p.getDataType():void 0,f=yr(m)?m._data:m,y=yr(m)?m._datatype||m.getDataType():void 0,g=d(p).length===2,b=d(m).length===2,x=s,_=t;if(v&&y&&v===y&&typeof v=="string"&&v!=="mixed"){var j=v;x=r.find(s,[j,j]),_=r.find(t,[j,j])}if(!g&&!b){for(var S=_(a(h[0]),f[0]),D=1;D<c;D++)S=x(S,_(a(h[D]),f[D]));return S}if(!g&&b){for(var E=_(a(h[0]),f[0][0]),T=1;T<c;T++)E=x(E,_(a(h[T]),f[T][0]));return E}if(g&&!b){for(var F=_(a(h[0][0]),f[0]),A=1;A<c;A++)F=x(F,_(a(h[A][0]),f[A]));return F}if(g&&b){for(var L=_(a(h[0][0]),f[0][0]),O=1;O<c;O++)L=x(L,_(a(h[O][0]),f[O][0]));return L}}function i(p,m){o(p,m);for(var c=p._index,h=p._values,v=m._index,f=m._values,y=0,g=s,b=t,x=0,_=0;x<c.length&&_<v.length;){var j=c[x],S=v[_];if(j<S){x++;continue}if(j>S){_++;continue}j===S&&(y=g(y,b(h[x],f[_])),x++,_++)}return y}function d(p){return yr(p)?p.size():l(p)}}),Eo={exports:{}},Wm=Eo.exports,Xl;function qm(){return Xl||(Xl=1,function(n){(function(r,s,t){function a(i){var d=this,p=u();d.next=function(){var m=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=m-(d.c=m|0)},d.c=1,d.s0=p(" "),d.s1=p(" "),d.s2=p(" "),d.s0-=p(i),d.s0<0&&(d.s0+=1),d.s1-=p(i),d.s1<0&&(d.s1+=1),d.s2-=p(i),d.s2<0&&(d.s2+=1),p=null}function l(i,d){return d.c=i.c,d.s0=i.s0,d.s1=i.s1,d.s2=i.s2,d}function o(i,d){var p=new a(i),m=d&&d.state,c=p.next;return c.int32=function(){return p.next()*4294967296|0},c.double=function(){return c()+(c()*2097152|0)*11102230246251565e-32},c.quick=c,m&&(typeof m=="object"&&l(m,p),c.state=function(){return l(p,{})}),c}function u(){var i=4022871197,d=function(p){p=String(p);for(var m=0;m<p.length;m++){i+=p.charCodeAt(m);var c=.02519603282416938*i;i=c>>>0,c-=i,c*=i,i=c>>>0,c-=i,i+=c*4294967296}return(i>>>0)*23283064365386963e-26};return d}s&&s.exports?s.exports=o:this.alea=o})(Wm,n)}(Eo)),Eo.exports}var Co={exports:{}},Xm=Co.exports,Yl;function Ym(){return Yl||(Yl=1,function(n){(function(r,s,t){function a(u){var i=this,d="";i.x=0,i.y=0,i.z=0,i.w=0,i.next=function(){var m=i.x^i.x<<11;return i.x=i.y,i.y=i.z,i.z=i.w,i.w^=i.w>>>19^m^m>>>8},u===(u|0)?i.x=u:d+=u;for(var p=0;p<d.length+64;p++)i.x^=d.charCodeAt(p)|0,i.next()}function l(u,i){return i.x=u.x,i.y=u.y,i.z=u.z,i.w=u.w,i}function o(u,i){var d=new a(u),p=i&&i.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var c=d.next()>>>11,h=(d.next()>>>0)/4294967296,v=(c+h)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,p&&(typeof p=="object"&&l(p,d),m.state=function(){return l(d,{})}),m}s&&s.exports?s.exports=o:this.xor128=o})(Xm,n)}(Co)),Co.exports}var Mo={exports:{}},$m=Mo.exports,$l;function Zm(){return $l||($l=1,function(n){(function(r,s,t){function a(u){var i=this,d="";i.next=function(){var m=i.x^i.x>>>2;return i.x=i.y,i.y=i.z,i.z=i.w,i.w=i.v,(i.d=i.d+362437|0)+(i.v=i.v^i.v<<4^(m^m<<1))|0},i.x=0,i.y=0,i.z=0,i.w=0,i.v=0,u===(u|0)?i.x=u:d+=u;for(var p=0;p<d.length+64;p++)i.x^=d.charCodeAt(p)|0,p==d.length&&(i.d=i.x<<10^i.x>>>4),i.next()}function l(u,i){return i.x=u.x,i.y=u.y,i.z=u.z,i.w=u.w,i.v=u.v,i.d=u.d,i}function o(u,i){var d=new a(u),p=i&&i.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var c=d.next()>>>11,h=(d.next()>>>0)/4294967296,v=(c+h)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,p&&(typeof p=="object"&&l(p,d),m.state=function(){return l(d,{})}),m}s&&s.exports?s.exports=o:this.xorwow=o})($m,n)}(Mo)),Mo.exports}var Ao={exports:{}},Km=Ao.exports,Zl;function Qm(){return Zl||(Zl=1,function(n){(function(r,s,t){function a(u){var i=this;i.next=function(){var p=i.x,m=i.i,c,h;return c=p[m],c^=c>>>7,h=c^c<<24,c=p[m+1&7],h^=c^c>>>10,c=p[m+3&7],h^=c^c>>>3,c=p[m+4&7],h^=c^c<<7,c=p[m+7&7],c=c^c<<13,h^=c^c<<9,p[m]=h,i.i=m+1&7,h};function d(p,m){var c,h=[];if(m===(m|0))h[0]=m;else for(m=""+m,c=0;c<m.length;++c)h[c&7]=h[c&7]<<15^m.charCodeAt(c)+h[c+1&7]<<13;for(;h.length<8;)h.push(0);for(c=0;c<8&&h[c]===0;++c);for(c==8?h[7]=-1:h[c],p.x=h,p.i=0,c=256;c>0;--c)p.next()}d(i,u)}function l(u,i){return i.x=u.x.slice(),i.i=u.i,i}function o(u,i){u==null&&(u=+new Date);var d=new a(u),p=i&&i.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var c=d.next()>>>11,h=(d.next()>>>0)/4294967296,v=(c+h)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,p&&(p.x&&l(p,d),m.state=function(){return l(d,{})}),m}s&&s.exports?s.exports=o:this.xorshift7=o})(Km,n)}(Ao)),Ao.exports}var To={exports:{}},Jm=To.exports,Kl;function eg(){return Kl||(Kl=1,function(n){(function(r,s,t){function a(u){var i=this;i.next=function(){var p=i.w,m=i.X,c=i.i,h,v;return i.w=p=p+1640531527|0,v=m[c+34&127],h=m[c=c+1&127],v^=v<<13,h^=h<<17,v^=v>>>15,h^=h>>>12,v=m[c]=v^h,i.i=c,v+(p^p>>>16)|0};function d(p,m){var c,h,v,f,y,g=[],b=128;for(m===(m|0)?(h=m,m=null):(m=m+"\0",h=0,b=Math.max(b,m.length)),v=0,f=-32;f<b;++f)m&&(h^=m.charCodeAt((f+32)%m.length)),f===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,f>=0&&(y=y+1640531527|0,c=g[f&127]^=h+y,v=c==0?v+1:0);for(v>=128&&(g[(m&&m.length||0)&127]=-1),v=127,f=4*128;f>0;--f)h=g[v+34&127],c=g[v=v+1&127],h^=h<<13,c^=c<<17,h^=h>>>15,c^=c>>>12,g[v]=h^c;p.w=y,p.X=g,p.i=v}d(i,u)}function l(u,i){return i.i=u.i,i.w=u.w,i.X=u.X.slice(),i}function o(u,i){u==null&&(u=+new Date);var d=new a(u),p=i&&i.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var c=d.next()>>>11,h=(d.next()>>>0)/4294967296,v=(c+h)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,p&&(p.X&&l(p,d),m.state=function(){return l(d,{})}),m}s&&s.exports?s.exports=o:this.xor4096=o})(Jm,n)}(To)),To.exports}var ko={exports:{}},tg=ko.exports,Ql;function rg(){return Ql||(Ql=1,function(n){(function(r,s,t){function a(u){var i=this,d="";i.next=function(){var m=i.b,c=i.c,h=i.d,v=i.a;return m=m<<25^m>>>7^c,c=c-h|0,h=h<<24^h>>>8^v,v=v-m|0,i.b=m=m<<20^m>>>12^c,i.c=c=c-h|0,i.d=h<<16^c>>>16^v,i.a=v-m|0},i.a=0,i.b=0,i.c=-1640531527,i.d=1367130551,u===Math.floor(u)?(i.a=u/4294967296|0,i.b=u|0):d+=u;for(var p=0;p<d.length+20;p++)i.b^=d.charCodeAt(p)|0,i.next()}function l(u,i){return i.a=u.a,i.b=u.b,i.c=u.c,i.d=u.d,i}function o(u,i){var d=new a(u),p=i&&i.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var c=d.next()>>>11,h=(d.next()>>>0)/4294967296,v=(c+h)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,p&&(typeof p=="object"&&l(p,d),m.state=function(){return l(d,{})}),m}s&&s.exports?s.exports=o:this.tychei=o})(tg,n)}(ko)),ko.exports}var Oo={exports:{}};const ng={},sg=Object.freeze(Object.defineProperty({__proto__:null,default:ng},Symbol.toStringTag,{value:"Module"})),og=Gm(sg);var ig=Oo.exports,Jl;function ag(){return Jl||(Jl=1,function(n){(function(r,s,t){var a=256,l=6,o=52,u="random",i=t.pow(a,l),d=t.pow(2,o),p=d*2,m=a-1,c;function h(_,j,S){var D=[];j=j==!0?{entropy:!0}:j||{};var E=g(y(j.entropy?[_,x(s)]:_??b(),3),D),T=new v(D),F=function(){for(var A=T.g(l),L=i,O=0;A<d;)A=(A+O)*a,L*=a,O=T.g(1);for(;A>=p;)A/=2,L/=2,O>>>=1;return(A+O)/L};return F.int32=function(){return T.g(4)|0},F.quick=function(){return T.g(4)/4294967296},F.double=F,g(x(T.S),s),(j.pass||S||function(A,L,O,B){return B&&(B.S&&f(B,T),A.state=function(){return f(T,{})}),O?(t[u]=A,L):A})(F,E,"global"in j?j.global:this==t,j.state)}function v(_){var j,S=_.length,D=this,E=0,T=D.i=D.j=0,F=D.S=[];for(S||(_=[S++]);E<a;)F[E]=E++;for(E=0;E<a;E++)F[E]=F[T=m&T+_[E%S]+(j=F[E])],F[T]=j;(D.g=function(A){for(var L,O=0,B=D.i,I=D.j,N=D.S;A--;)L=N[B=m&B+1],O=O*a+N[m&(N[B]=N[I=m&I+L])+(N[I]=L)];return D.i=B,D.j=I,O})(a)}function f(_,j){return j.i=_.i,j.j=_.j,j.S=_.S.slice(),j}function y(_,j){var S=[],D=typeof _,E;if(j&&D=="object")for(E in _)try{S.push(y(_[E],j-1))}catch{}return S.length?S:D=="string"?_:_+"\0"}function g(_,j){for(var S=_+"",D,E=0;E<S.length;)j[m&E]=m&(D^=j[m&E]*19)+S.charCodeAt(E++);return x(j)}function b(){try{var _;return c&&(_=c.randomBytes)?_=_(a):(_=new Uint8Array(a),(r.crypto||r.msCrypto).getRandomValues(_)),x(_)}catch{var j=r.navigator,S=j&&j.plugins;return[+new Date,r,S,r.screen,x(s)]}}function x(_){return String.fromCharCode.apply(0,_)}if(g(t.random(),s),n.exports){n.exports=h;try{c=og}catch{}}else t["seed"+u]=h})(typeof self<"u"?self:ig,[],Math)}(Oo)),Oo.exports}var Ai,eu;function lg(){if(eu)return Ai;eu=1;var n=qm(),r=Ym(),s=Zm(),t=Qm(),a=eg(),l=rg(),o=ag();return o.alea=n,o.xor128=r,o.xorwow=s,o.xorshift7=t,o.xor4096=a,o.tychei=l,Ai=o,Ai}var ug=lg();const id=od(ug);var cg=id(Date.now());function tu(n){var r;function s(a){r=a===null?cg:id(String(a))}s(n);function t(){return r()}return t}function ad(n,r){var s=[];if(n=n.slice(0),n.length>1)for(var t=0,a=n.shift();t<a;t++)s.push(ad(n,r));else for(var l=0,o=n.shift();l<o;l++)s.push(r());return s}var ru="random",dg=["typed","config","?on"],hg=Jt(ru,dg,n=>{var{typed:r,config:s,on:t}=n,a=tu(s.randomSeed);return t&&t("config",function(u,i){u.randomSeed!==i.randomSeed&&(a=tu(u.randomSeed))}),r(ru,{"":()=>o(0,1),number:u=>o(0,u),"number, number":(u,i)=>o(u,i),"Array | Matrix":u=>l(u,0,1),"Array | Matrix, number":(u,i)=>l(u,0,i),"Array | Matrix, number, number":(u,i,d)=>l(u,i,d)});function l(u,i,d){var p=ad(u.valueOf(),()=>o(i,d));return yr(u)?u.create(p,"number"):p}function o(u,i){return u+a()*(i-u)}}),fg=Ap({config:Zs}),pg=Pp({}),mg=zp({}),ja=Hp({}),ld=um({Matrix:ja}),$r=Of({BigNumber:fg,Complex:pg,DenseMatrix:ld,Fraction:mg}),ud=jm({typed:$r}),gg=Bm({typed:$r}),cd=gm({config:Zs,typed:$r}),yg=km({typed:$r}),dd=Pm({typed:$r}),vg=hg({config:Zs,typed:$r}),bg=bm({Matrix:ja,equalScalar:cd,typed:$r}),hd=xm({DenseMatrix:ld,Matrix:ja,SparseMatrix:bg,typed:$r}),_g=zm({matrix:hd,config:Zs,typed:$r}),xg=Hm({addScalar:ud,conj:gg,multiplyScalar:dd,size:_g,typed:$r}),ea=Rm({addScalar:ud,dot:xg,equalScalar:cd,matrix:hd,multiplyScalar:dd,typed:$r});function nu(n){return 1/(1+yg(-n))}function Ti(n){return n*(1-n)}function wg(){const n=Array.from(arguments),r=n.pop();return n.map(s=>vg(s,...r))}const jg=function(n,r,s){const[t,a]=wg([r,n],[s,r],[-1,1]);this._inputWeights=t,this._hiddenWeights=a,this.predict=function(l,o,u){const i=[[l],[o],[u]],p=ea(this._inputWeights,i).map(h=>[nu(h[0])]),c=ea(this._hiddenWeights,p).map(h=>[nu(h[0])]);return{inputVector:i,outputVector:c,sigmoidVectors:[p,c]}}},fd=[{inputs:[0,0,0],target:1},{inputs:[0,0,1],target:0},{inputs:[0,1,0],target:0},{inputs:[0,1,1],target:0},{inputs:[1,0,0],target:1},{inputs:[1,0,1],target:0},{inputs:[1,1,0],target:1},{inputs:[1,1,1],target:0}],Sg=({neuronNetwork:n,epochs:r,learningRate:s,epochCallback:t})=>{const a=fd,l=[];n.trained=!0;const o=()=>{const d=Math.floor(Math.random()*a.length);return a[d]},{_inputWeights:u,_hiddenWeights:i}=n;for(let d=0;d<r;d++){const p=o(),m=n.predict(...p.inputs),c=m.outputVector[0]-p.target,h=c*Ti(m.sigmoidVectors[1][0][0]);i[0][0]-=m.sigmoidVectors[0][0]*h*s,i[0][1]-=m.sigmoidVectors[0][1]*h*s;const v=ea([[h]],i);v[0][0]*=Ti(m.sigmoidVectors[0][0][0]),v[0][1]*=Ti(m.sigmoidVectors[0][1][0]);for(let y=0;y<u.length;y++)for(let g=0;g<u[y].length;g++)u[y][g]-=m.inputVector[g][0]*v[0][y]*s;const f=(1-Math.abs(c))*100;t&&t({epoch:d,certainty:f}),l.push({epoch:d,certainty:f})}return l},Dg="#epochsValue",Eg="#learningRateValue",pd="#learningRate",md="#epochs",Cg="#prediction",Mg="#trainButton",Ag="#condition1",Tg="#condition2",kg="#condition3",Og=".charts",Fg=document.querySelector(md),Pg=document.querySelector(pd);Fg.addEventListener("input",({target:n})=>{const r=document.querySelector(Dg);r.textContent=n.value.padStart(6,"0")});Pg.addEventListener("input",({target:n})=>{const r=document.querySelector(Eg);r.textContent=Number(n.value).toFixed(3)});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ks(n){return n+.5|0}const Dn=(n,r,s)=>Math.max(Math.min(n,s),r);function As(n){return Dn(Ks(n*2.55),0,255)}function An(n){return Dn(Ks(n*255),0,255)}function fn(n){return Dn(Ks(n/2.55)/100,0,1)}function su(n){return Dn(Ks(n*100),0,100)}const Nr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ta=[..."0123456789ABCDEF"],Lg=n=>ta[n&15],Rg=n=>ta[(n&240)>>4]+ta[n&15],lo=n=>(n&240)>>4===(n&15),Ig=n=>lo(n.r)&&lo(n.g)&&lo(n.b)&&lo(n.a);function Bg(n){var r=n.length,s;return n[0]==="#"&&(r===4||r===5?s={r:255&Nr[n[1]]*17,g:255&Nr[n[2]]*17,b:255&Nr[n[3]]*17,a:r===5?Nr[n[4]]*17:255}:(r===7||r===9)&&(s={r:Nr[n[1]]<<4|Nr[n[2]],g:Nr[n[3]]<<4|Nr[n[4]],b:Nr[n[5]]<<4|Nr[n[6]],a:r===9?Nr[n[7]]<<4|Nr[n[8]]:255})),s}const Ng=(n,r)=>n<255?r(n):"";function Ug(n){var r=Ig(n)?Lg:Rg;return n?"#"+r(n.r)+r(n.g)+r(n.b)+Ng(n.a,r):void 0}const zg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gd(n,r,s){const t=r*Math.min(s,1-s),a=(l,o=(l+n/30)%12)=>s-t*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function Gg(n,r,s){const t=(a,l=(a+n/60)%6)=>s-s*r*Math.max(Math.min(l,4-l,1),0);return[t(5),t(3),t(1)]}function Vg(n,r,s){const t=gd(n,1,.5);let a;for(r+s>1&&(a=1/(r+s),r*=a,s*=a),a=0;a<3;a++)t[a]*=1-r-s,t[a]+=r;return t}function Hg(n,r,s,t,a){return n===a?(r-s)/t+(r<s?6:0):r===a?(s-n)/t+2:(n-r)/t+4}function Sa(n){const s=n.r/255,t=n.g/255,a=n.b/255,l=Math.max(s,t,a),o=Math.min(s,t,a),u=(l+o)/2;let i,d,p;return l!==o&&(p=l-o,d=u>.5?p/(2-l-o):p/(l+o),i=Hg(s,t,a,p,l),i=i*60+.5),[i|0,d||0,u]}function Da(n,r,s,t){return(Array.isArray(r)?n(r[0],r[1],r[2]):n(r,s,t)).map(An)}function Ea(n,r,s){return Da(gd,n,r,s)}function Wg(n,r,s){return Da(Vg,n,r,s)}function qg(n,r,s){return Da(Gg,n,r,s)}function yd(n){return(n%360+360)%360}function Xg(n){const r=zg.exec(n);let s=255,t;if(!r)return;r[5]!==t&&(s=r[6]?As(+r[5]):An(+r[5]));const a=yd(+r[2]),l=+r[3]/100,o=+r[4]/100;return r[1]==="hwb"?t=Wg(a,l,o):r[1]==="hsv"?t=qg(a,l,o):t=Ea(a,l,o),{r:t[0],g:t[1],b:t[2],a:s}}function Yg(n,r){var s=Sa(n);s[0]=yd(s[0]+r),s=Ea(s),n.r=s[0],n.g=s[1],n.b=s[2]}function $g(n){if(!n)return;const r=Sa(n),s=r[0],t=su(r[1]),a=su(r[2]);return n.a<255?`hsla(${s}, ${t}%, ${a}%, ${fn(n.a)})`:`hsl(${s}, ${t}%, ${a}%)`}const ou={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Zg(){const n={},r=Object.keys(iu),s=Object.keys(ou);let t,a,l,o,u;for(t=0;t<r.length;t++){for(o=u=r[t],a=0;a<s.length;a++)l=s[a],u=u.replace(l,ou[l]);l=parseInt(iu[o],16),n[u]=[l>>16&255,l>>8&255,l&255]}return n}let uo;function Kg(n){uo||(uo=Zg(),uo.transparent=[0,0,0,0]);const r=uo[n.toLowerCase()];return r&&{r:r[0],g:r[1],b:r[2],a:r.length===4?r[3]:255}}const Qg=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Jg(n){const r=Qg.exec(n);let s=255,t,a,l;if(r){if(r[7]!==t){const o=+r[7];s=r[8]?As(o):Dn(o*255,0,255)}return t=+r[1],a=+r[3],l=+r[5],t=255&(r[2]?As(t):Dn(t,0,255)),a=255&(r[4]?As(a):Dn(a,0,255)),l=255&(r[6]?As(l):Dn(l,0,255)),{r:t,g:a,b:l,a:s}}}function ey(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ki=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,us=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ty(n,r,s){const t=us(fn(n.r)),a=us(fn(n.g)),l=us(fn(n.b));return{r:An(ki(t+s*(us(fn(r.r))-t))),g:An(ki(a+s*(us(fn(r.g))-a))),b:An(ki(l+s*(us(fn(r.b))-l))),a:n.a+s*(r.a-n.a)}}function co(n,r,s){if(n){let t=Sa(n);t[r]=Math.max(0,Math.min(t[r]+t[r]*s,r===0?360:1)),t=Ea(t),n.r=t[0],n.g=t[1],n.b=t[2]}}function vd(n,r){return n&&Object.assign(r||{},n)}function au(n){var r={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(r={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(r.a=An(n[3]))):(r=vd(n,{r:0,g:0,b:0,a:1}),r.a=An(r.a)),r}function ry(n){return n.charAt(0)==="r"?Jg(n):Xg(n)}class Gs{constructor(r){if(r instanceof Gs)return r;const s=typeof r;let t;s==="object"?t=au(r):s==="string"&&(t=Bg(r)||Kg(r)||ry(r)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var r=vd(this._rgb);return r&&(r.a=fn(r.a)),r}set rgb(r){this._rgb=au(r)}rgbString(){return this._valid?ey(this._rgb):void 0}hexString(){return this._valid?Ug(this._rgb):void 0}hslString(){return this._valid?$g(this._rgb):void 0}mix(r,s){if(r){const t=this.rgb,a=r.rgb;let l;const o=s===l?.5:s,u=2*o-1,i=t.a-a.a,d=((u*i===-1?u:(u+i)/(1+u*i))+1)/2;l=1-d,t.r=255&d*t.r+l*a.r+.5,t.g=255&d*t.g+l*a.g+.5,t.b=255&d*t.b+l*a.b+.5,t.a=o*t.a+(1-o)*a.a,this.rgb=t}return this}interpolate(r,s){return r&&(this._rgb=ty(this._rgb,r._rgb,s)),this}clone(){return new Gs(this.rgb)}alpha(r){return this._rgb.a=An(r),this}clearer(r){const s=this._rgb;return s.a*=1-r,this}greyscale(){const r=this._rgb,s=Ks(r.r*.3+r.g*.59+r.b*.11);return r.r=r.g=r.b=s,this}opaquer(r){const s=this._rgb;return s.a*=1+r,this}negate(){const r=this._rgb;return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,this}lighten(r){return co(this._rgb,2,r),this}darken(r){return co(this._rgb,2,-r),this}saturate(r){return co(this._rgb,1,r),this}desaturate(r){return co(this._rgb,1,-r),this}rotate(r){return Yg(this._rgb,r),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function cn(){}const ny=(()=>{let n=0;return()=>n++})();function _t(n){return n==null}function Ht(n){if(Array.isArray&&Array.isArray(n))return!0;const r=Object.prototype.toString.call(n);return r.slice(0,7)==="[object"&&r.slice(-6)==="Array]"}function xt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Kt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Pr(n,r){return Kt(n)?n:r}function yt(n,r){return typeof n>"u"?r:n}const sy=(n,r)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/r,bd=(n,r)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*r:+n;function Lt(n,r,s){if(n&&typeof n.call=="function")return n.apply(s,r)}function Ct(n,r,s,t){let a,l,o;if(Ht(n))for(l=n.length,a=0;a<l;a++)r.call(s,n[a],a);else if(xt(n))for(o=Object.keys(n),l=o.length,a=0;a<l;a++)r.call(s,n[o[a]],o[a])}function Jo(n,r){let s,t,a,l;if(!n||!r||n.length!==r.length)return!1;for(s=0,t=n.length;s<t;++s)if(a=n[s],l=r[s],a.datasetIndex!==l.datasetIndex||a.index!==l.index)return!1;return!0}function ei(n){if(Ht(n))return n.map(ei);if(xt(n)){const r=Object.create(null),s=Object.keys(n),t=s.length;let a=0;for(;a<t;++a)r[s[a]]=ei(n[s[a]]);return r}return n}function _d(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function oy(n,r,s,t){if(!_d(n))return;const a=r[n],l=s[n];xt(a)&&xt(l)?Vs(a,l,t):r[n]=ei(l)}function Vs(n,r,s){const t=Ht(r)?r:[r],a=t.length;if(!xt(n))return n;s=s||{};const l=s.merger||oy;let o;for(let u=0;u<a;++u){if(o=t[u],!xt(o))continue;const i=Object.keys(o);for(let d=0,p=i.length;d<p;++d)l(i[d],n,o,s)}return n}function Ls(n,r){return Vs(n,r,{merger:iy})}function iy(n,r,s){if(!_d(n))return;const t=r[n],a=s[n];xt(t)&&xt(a)?Ls(t,a):Object.prototype.hasOwnProperty.call(r,n)||(r[n]=ei(a))}const lu={"":n=>n,x:n=>n.x,y:n=>n.y};function ay(n){const r=n.split("."),s=[];let t="";for(const a of r)t+=a,t.endsWith("\\")?t=t.slice(0,-1)+".":(s.push(t),t="");return s}function ly(n){const r=ay(n);return s=>{for(const t of r){if(t==="")break;s=s&&s[t]}return s}}function kn(n,r){return(lu[r]||(lu[r]=ly(r)))(n)}function Ca(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Hs=n=>typeof n<"u",On=n=>typeof n=="function",uu=(n,r)=>{if(n.size!==r.size)return!1;for(const s of n)if(!r.has(s))return!1;return!0};function uy(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ut=Math.PI,Nt=2*Ut,cy=Nt+Ut,ti=Number.POSITIVE_INFINITY,dy=Ut/180,Qt=Ut/2,Un=Ut/4,cu=Ut*2/3,En=Math.log10,sn=Math.sign;function Rs(n,r,s){return Math.abs(n-r)<s}function du(n){const r=Math.round(n);n=Rs(n,r,n/1e3)?r:n;const s=Math.pow(10,Math.floor(En(n))),t=n/s;return(t<=1?1:t<=2?2:t<=5?5:10)*s}function hy(n){const r=[],s=Math.sqrt(n);let t;for(t=1;t<s;t++)n%t===0&&(r.push(t),r.push(n/t));return s===(s|0)&&r.push(s),r.sort((a,l)=>a-l).pop(),r}function fy(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function gs(n){return!fy(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function py(n,r){const s=Math.round(n);return s-r<=n&&s+r>=n}function xd(n,r,s){let t,a,l;for(t=0,a=n.length;t<a;t++)l=n[t][s],isNaN(l)||(r.min=Math.min(r.min,l),r.max=Math.max(r.max,l))}function Wr(n){return n*(Ut/180)}function Ma(n){return n*(180/Ut)}function hu(n){if(!Kt(n))return;let r=1,s=0;for(;Math.round(n*r)/r!==n;)r*=10,s++;return s}function wd(n,r){const s=r.x-n.x,t=r.y-n.y,a=Math.sqrt(s*s+t*t);let l=Math.atan2(t,s);return l<-.5*Ut&&(l+=Nt),{angle:l,distance:a}}function ra(n,r){return Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))}function my(n,r){return(n-r+cy)%Nt-Ut}function Lr(n){return(n%Nt+Nt)%Nt}function Ws(n,r,s,t){const a=Lr(n),l=Lr(r),o=Lr(s),u=Lr(l-a),i=Lr(o-a),d=Lr(a-l),p=Lr(a-o);return a===l||a===o||t&&l===o||u>i&&d<p}function fr(n,r,s){return Math.max(r,Math.min(s,n))}function gy(n){return fr(n,-32768,32767)}function gn(n,r,s,t=1e-6){return n>=Math.min(r,s)-t&&n<=Math.max(r,s)+t}function Aa(n,r,s){s=s||(o=>n[o]<r);let t=n.length-1,a=0,l;for(;t-a>1;)l=a+t>>1,s(l)?a=l:t=l;return{lo:a,hi:t}}const yn=(n,r,s,t)=>Aa(n,s,t?a=>{const l=n[a][r];return l<s||l===s&&n[a+1][r]===s}:a=>n[a][r]<s),yy=(n,r,s)=>Aa(n,s,t=>n[t][r]>=s);function vy(n,r,s){let t=0,a=n.length;for(;t<a&&n[t]<r;)t++;for(;a>t&&n[a-1]>s;)a--;return t>0||a<n.length?n.slice(t,a):n}const jd=["push","pop","shift","splice","unshift"];function by(n,r){if(n._chartjs){n._chartjs.listeners.push(r);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),jd.forEach(s=>{const t="_onData"+Ca(s),a=n[s];Object.defineProperty(n,s,{configurable:!0,enumerable:!1,value(...l){const o=a.apply(this,l);return n._chartjs.listeners.forEach(u=>{typeof u[t]=="function"&&u[t](...l)}),o}})})}function fu(n,r){const s=n._chartjs;if(!s)return;const t=s.listeners,a=t.indexOf(r);a!==-1&&t.splice(a,1),!(t.length>0)&&(jd.forEach(l=>{delete n[l]}),delete n._chartjs)}function Sd(n){const r=new Set(n);return r.size===n.length?n:Array.from(r)}const Dd=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Ed(n,r){let s=[],t=!1;return function(...a){s=a,t||(t=!0,Dd.call(window,()=>{t=!1,n.apply(r,s)}))}}function _y(n,r){let s;return function(...t){return r?(clearTimeout(s),s=setTimeout(n,r,t)):n.apply(this,t),r}}const Ta=n=>n==="start"?"left":n==="end"?"right":"center",jr=(n,r,s)=>n==="start"?r:n==="end"?s:(r+s)/2,xy=(n,r,s,t)=>n===(t?"left":"right")?s:n==="center"?(r+s)/2:r;function Cd(n,r,s){const t=r.length;let a=0,l=t;if(n._sorted){const{iScale:o,vScale:u,_parsed:i}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=o.axis,{min:m,max:c,minDefined:h,maxDefined:v}=o.getUserBounds();if(h){if(a=Math.min(yn(i,p,m).lo,s?t:yn(r,p,o.getPixelForValue(m)).lo),d){const f=i.slice(0,a+1).reverse().findIndex(y=>!_t(y[u.axis]));a-=Math.max(0,f)}a=fr(a,0,t-1)}if(v){let f=Math.max(yn(i,o.axis,c,!0).hi+1,s?0:yn(r,p,o.getPixelForValue(c),!0).hi+1);if(d){const y=i.slice(f-1).findIndex(g=>!_t(g[u.axis]));f+=Math.max(0,y)}l=fr(f,a,t)-a}else l=t-a}return{start:a,count:l}}function Md(n){const{xScale:r,yScale:s,_scaleRanges:t}=n,a={xmin:r.min,xmax:r.max,ymin:s.min,ymax:s.max};if(!t)return n._scaleRanges=a,!0;const l=t.xmin!==r.min||t.xmax!==r.max||t.ymin!==s.min||t.ymax!==s.max;return Object.assign(t,a),l}const ho=n=>n===0||n===1,pu=(n,r,s)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-r)*Nt/s)),mu=(n,r,s)=>Math.pow(2,-10*n)*Math.sin((n-r)*Nt/s)+1,Is={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Qt)+1,easeOutSine:n=>Math.sin(n*Qt),easeInOutSine:n=>-.5*(Math.cos(Ut*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ho(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ho(n)?n:pu(n,.075,.3),easeOutElastic:n=>ho(n)?n:mu(n,.075,.3),easeInOutElastic(n){return ho(n)?n:n<.5?.5*pu(n*2,.1125,.45):.5+.5*mu(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let r=1.70158;return(n/=.5)<1?.5*(n*n*(((r*=1.525)+1)*n-r)):.5*((n-=2)*n*(((r*=1.525)+1)*n+r)+2)},easeInBounce:n=>1-Is.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Is.easeInBounce(n*2)*.5:Is.easeOutBounce(n*2-1)*.5+.5};function ka(n){if(n&&typeof n=="object"){const r=n.toString();return r==="[object CanvasPattern]"||r==="[object CanvasGradient]"}return!1}function gu(n){return ka(n)?n:new Gs(n)}function Oi(n){return ka(n)?n:new Gs(n).saturate(.5).darken(.1).hexString()}const wy=["x","y","borderWidth","radius","tension"],jy=["color","borderColor","backgroundColor"];function Sy(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"}),n.set("animations",{colors:{type:"color",properties:jy},numbers:{type:"number",properties:wy}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}})}function Dy(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yu=new Map;function Ey(n,r){r=r||{};const s=n+JSON.stringify(r);let t=yu.get(s);return t||(t=new Intl.NumberFormat(n,r),yu.set(s,t)),t}function Qs(n,r,s){return Ey(r,s).format(n)}const Ad={values(n){return Ht(n)?n:""+n},numeric(n,r,s){if(n===0)return"0";const t=this.chart.options.locale;let a,l=n;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),l=Cy(n,s)}const o=En(Math.abs(l)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),i={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(i,this.options.ticks.format),Qs(n,t,i)},logarithmic(n,r,s){if(n===0)return"0";const t=s[r].significand||n/Math.pow(10,Math.floor(En(n)));return[1,2,3,5,10,15].includes(t)||r>.8*s.length?Ad.numeric.call(this,n,r,s):""}};function Cy(n,r){let s=r.length>3?r[2].value-r[1].value:r[1].value-r[0].value;return Math.abs(s)>=1&&n!==Math.floor(n)&&(s=n-Math.floor(n)),s}var hi={formatters:Ad};function My(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,s)=>s.lineWidth,tickColor:(r,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"&&r!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"})}const Qn=Object.create(null),na=Object.create(null);function Bs(n,r){if(!r)return n;const s=r.split(".");for(let t=0,a=s.length;t<a;++t){const l=s[t];n=n[l]||(n[l]=Object.create(null))}return n}function Fi(n,r,s){return typeof r=="string"?Vs(Bs(n,r),s):Vs(Bs(n,""),r)}class Ay{constructor(r,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,a)=>Oi(a.backgroundColor),this.hoverBorderColor=(t,a)=>Oi(a.borderColor),this.hoverColor=(t,a)=>Oi(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(r),this.apply(s)}set(r,s){return Fi(this,r,s)}get(r){return Bs(this,r)}describe(r,s){return Fi(na,r,s)}override(r,s){return Fi(Qn,r,s)}route(r,s,t,a){const l=Bs(this,r),o=Bs(this,t),u="_"+s;Object.defineProperties(l,{[u]:{value:l[s],writable:!0},[s]:{enumerable:!0,get(){const i=this[u],d=o[a];return xt(i)?Object.assign({},d,i):yt(i,d)},set(i){this[u]=i}}})}apply(r){r.forEach(s=>s(this))}}var Wt=new Ay({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Sy,Dy,My]);function Ty(n){return!n||_t(n.size)||_t(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ri(n,r,s,t,a){let l=r[a];return l||(l=r[a]=n.measureText(a).width,s.push(a)),l>t&&(t=l),t}function ky(n,r,s,t){t=t||{};let a=t.data=t.data||{},l=t.garbageCollect=t.garbageCollect||[];t.font!==r&&(a=t.data={},l=t.garbageCollect=[],t.font=r),n.save(),n.font=r;let o=0;const u=s.length;let i,d,p,m,c;for(i=0;i<u;i++)if(m=s[i],m!=null&&!Ht(m))o=ri(n,a,l,o,m);else if(Ht(m))for(d=0,p=m.length;d<p;d++)c=m[d],c!=null&&!Ht(c)&&(o=ri(n,a,l,o,c));n.restore();const h=l.length/2;if(h>s.length){for(i=0;i<h;i++)delete a[l[i]];l.splice(0,h)}return o}function zn(n,r,s){const t=n.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((r-a)*t)/t+a}function vu(n,r){!r&&!n||(r=r||n.getContext("2d"),r.save(),r.resetTransform(),r.clearRect(0,0,n.width,n.height),r.restore())}function sa(n,r,s,t){Td(n,r,s,t,null)}function Td(n,r,s,t,a){let l,o,u,i,d,p,m,c;const h=r.pointStyle,v=r.rotation,f=r.radius;let y=(v||0)*dy;if(h&&typeof h=="object"&&(l=h.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(s,t),n.rotate(y),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(f)||f<=0)){switch(n.beginPath(),h){default:a?n.ellipse(s,t,a/2,f,0,0,Nt):n.arc(s,t,f,0,Nt),n.closePath();break;case"triangle":p=a?a/2:f,n.moveTo(s+Math.sin(y)*p,t-Math.cos(y)*f),y+=cu,n.lineTo(s+Math.sin(y)*p,t-Math.cos(y)*f),y+=cu,n.lineTo(s+Math.sin(y)*p,t-Math.cos(y)*f),n.closePath();break;case"rectRounded":d=f*.516,i=f-d,o=Math.cos(y+Un)*i,m=Math.cos(y+Un)*(a?a/2-d:i),u=Math.sin(y+Un)*i,c=Math.sin(y+Un)*(a?a/2-d:i),n.arc(s-m,t-u,d,y-Ut,y-Qt),n.arc(s+c,t-o,d,y-Qt,y),n.arc(s+m,t+u,d,y,y+Qt),n.arc(s-c,t+o,d,y+Qt,y+Ut),n.closePath();break;case"rect":if(!v){i=Math.SQRT1_2*f,p=a?a/2:i,n.rect(s-p,t-i,2*p,2*i);break}y+=Un;case"rectRot":m=Math.cos(y)*(a?a/2:f),o=Math.cos(y)*f,u=Math.sin(y)*f,c=Math.sin(y)*(a?a/2:f),n.moveTo(s-m,t-u),n.lineTo(s+c,t-o),n.lineTo(s+m,t+u),n.lineTo(s-c,t+o),n.closePath();break;case"crossRot":y+=Un;case"cross":m=Math.cos(y)*(a?a/2:f),o=Math.cos(y)*f,u=Math.sin(y)*f,c=Math.sin(y)*(a?a/2:f),n.moveTo(s-m,t-u),n.lineTo(s+m,t+u),n.moveTo(s+c,t-o),n.lineTo(s-c,t+o);break;case"star":m=Math.cos(y)*(a?a/2:f),o=Math.cos(y)*f,u=Math.sin(y)*f,c=Math.sin(y)*(a?a/2:f),n.moveTo(s-m,t-u),n.lineTo(s+m,t+u),n.moveTo(s+c,t-o),n.lineTo(s-c,t+o),y+=Un,m=Math.cos(y)*(a?a/2:f),o=Math.cos(y)*f,u=Math.sin(y)*f,c=Math.sin(y)*(a?a/2:f),n.moveTo(s-m,t-u),n.lineTo(s+m,t+u),n.moveTo(s+c,t-o),n.lineTo(s-c,t+o);break;case"line":o=a?a/2:Math.cos(y)*f,u=Math.sin(y)*f,n.moveTo(s-o,t-u),n.lineTo(s+o,t+u);break;case"dash":n.moveTo(s,t),n.lineTo(s+Math.cos(y)*(a?a/2:f),t+Math.sin(y)*f);break;case!1:n.closePath();break}n.fill(),r.borderWidth>0&&n.stroke()}}function vn(n,r,s){return s=s||.5,!r||n&&n.x>r.left-s&&n.x<r.right+s&&n.y>r.top-s&&n.y<r.bottom+s}function fi(n,r){n.save(),n.beginPath(),n.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),n.clip()}function pi(n){n.restore()}function Oy(n,r,s,t,a){if(!r)return n.lineTo(s.x,s.y);if(a==="middle"){const l=(r.x+s.x)/2;n.lineTo(l,r.y),n.lineTo(l,s.y)}else a==="after"!=!!t?n.lineTo(r.x,s.y):n.lineTo(s.x,r.y);n.lineTo(s.x,s.y)}function Fy(n,r,s,t){if(!r)return n.lineTo(s.x,s.y);n.bezierCurveTo(t?r.cp1x:r.cp2x,t?r.cp1y:r.cp2y,t?s.cp2x:s.cp1x,t?s.cp2y:s.cp1y,s.x,s.y)}function Py(n,r){r.translation&&n.translate(r.translation[0],r.translation[1]),_t(r.rotation)||n.rotate(r.rotation),r.color&&(n.fillStyle=r.color),r.textAlign&&(n.textAlign=r.textAlign),r.textBaseline&&(n.textBaseline=r.textBaseline)}function Ly(n,r,s,t,a){if(a.strikethrough||a.underline){const l=n.measureText(t),o=r-l.actualBoundingBoxLeft,u=r+l.actualBoundingBoxRight,i=s-l.actualBoundingBoxAscent,d=s+l.actualBoundingBoxDescent,p=a.strikethrough?(i+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(o,p),n.lineTo(u,p),n.stroke()}}function Ry(n,r){const s=n.fillStyle;n.fillStyle=r.color,n.fillRect(r.left,r.top,r.width,r.height),n.fillStyle=s}function Jn(n,r,s,t,a,l={}){const o=Ht(r)?r:[r],u=l.strokeWidth>0&&l.strokeColor!=="";let i,d;for(n.save(),n.font=a.string,Py(n,l),i=0;i<o.length;++i)d=o[i],l.backdrop&&Ry(n,l.backdrop),u&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),_t(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(d,s,t,l.maxWidth)),n.fillText(d,s,t,l.maxWidth),Ly(n,s,t,d,l),t+=Number(a.lineHeight);n.restore()}function qs(n,r){const{x:s,y:t,w:a,h:l,radius:o}=r;n.arc(s+o.topLeft,t+o.topLeft,o.topLeft,1.5*Ut,Ut,!0),n.lineTo(s,t+l-o.bottomLeft),n.arc(s+o.bottomLeft,t+l-o.bottomLeft,o.bottomLeft,Ut,Qt,!0),n.lineTo(s+a-o.bottomRight,t+l),n.arc(s+a-o.bottomRight,t+l-o.bottomRight,o.bottomRight,Qt,0,!0),n.lineTo(s+a,t+o.topRight),n.arc(s+a-o.topRight,t+o.topRight,o.topRight,0,-Qt,!0),n.lineTo(s+o.topLeft,t)}const Iy=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,By=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ny(n,r){const s=(""+n).match(Iy);if(!s||s[1]==="normal")return r*1.2;switch(n=+s[2],s[3]){case"px":return n;case"%":n/=100;break}return r*n}const Uy=n=>+n||0;function Oa(n,r){const s={},t=xt(r),a=t?Object.keys(r):r,l=xt(n)?t?o=>yt(n[o],n[r[o]]):o=>n[o]:()=>n;for(const o of a)s[o]=Uy(l(o));return s}function kd(n){return Oa(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Zn(n){return Oa(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Cr(n){const r=kd(n);return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function lr(n,r){n=n||{},r=r||Wt.font;let s=yt(n.size,r.size);typeof s=="string"&&(s=parseInt(s,10));let t=yt(n.style,r.style);t&&!(""+t).match(By)&&(console.warn('Invalid font style specified: "'+t+'"'),t=void 0);const a={family:yt(n.family,r.family),lineHeight:Ny(yt(n.lineHeight,r.lineHeight),s),size:s,style:t,weight:yt(n.weight,r.weight),string:""};return a.string=Ty(a),a}function Ts(n,r,s,t){let a,l,o;for(a=0,l=n.length;a<l;++a)if(o=n[a],o!==void 0&&o!==void 0)return o}function zy(n,r,s){const{min:t,max:a}=n,l=bd(r,(a-t)/2),o=(u,i)=>s&&u===0?0:u+i;return{min:o(t,-Math.abs(l)),max:o(a,l)}}function Pn(n,r){return Object.assign(Object.create(n),r)}function Fa(n,r=[""],s,t,a=()=>n[0]){const l=s||n;typeof t>"u"&&(t=Ld("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:t,_getTarget:a,override:u=>Fa([u,...n],r,l,t)};return new Proxy(o,{deleteProperty(u,i){return delete u[i],delete u._keys,delete n[0][i],!0},get(u,i){return Fd(u,i,()=>$y(i,r,n,u))},getOwnPropertyDescriptor(u,i){return Reflect.getOwnPropertyDescriptor(u._scopes[0],i)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,i){return _u(u).includes(i)},ownKeys(u){return _u(u)},set(u,i,d){const p=u._storage||(u._storage=a());return u[i]=p[i]=d,delete u._keys,!0}})}function ys(n,r,s,t){const a={_cacheable:!1,_proxy:n,_context:r,_subProxy:s,_stack:new Set,_descriptors:Od(n,t),setContext:l=>ys(n,l,s,t),override:l=>ys(n.override(l),r,s,t)};return new Proxy(a,{deleteProperty(l,o){return delete l[o],delete n[o],!0},get(l,o,u){return Fd(l,o,()=>Vy(l,o,u))},getOwnPropertyDescriptor(l,o){return l._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(l,o,u){return n[o]=u,delete l[o],!0}})}function Od(n,r={scriptable:!0,indexable:!0}){const{_scriptable:s=r.scriptable,_indexable:t=r.indexable,_allKeys:a=r.allKeys}=n;return{allKeys:a,scriptable:s,indexable:t,isScriptable:On(s)?s:()=>s,isIndexable:On(t)?t:()=>t}}const Gy=(n,r)=>n?n+Ca(r):r,Pa=(n,r)=>xt(r)&&n!=="adapters"&&(Object.getPrototypeOf(r)===null||r.constructor===Object);function Fd(n,r,s){if(Object.prototype.hasOwnProperty.call(n,r)||r==="constructor")return n[r];const t=s();return n[r]=t,t}function Vy(n,r,s){const{_proxy:t,_context:a,_subProxy:l,_descriptors:o}=n;let u=t[r];return On(u)&&o.isScriptable(r)&&(u=Hy(r,u,n,s)),Ht(u)&&u.length&&(u=Wy(r,u,n,o.isIndexable)),Pa(r,u)&&(u=ys(u,a,l&&l[r],o)),u}function Hy(n,r,s,t){const{_proxy:a,_context:l,_subProxy:o,_stack:u}=s;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let i=r(l,o||t);return u.delete(n),Pa(n,i)&&(i=La(a._scopes,a,n,i)),i}function Wy(n,r,s,t){const{_proxy:a,_context:l,_subProxy:o,_descriptors:u}=s;if(typeof l.index<"u"&&t(n))return r[l.index%r.length];if(xt(r[0])){const i=r,d=a._scopes.filter(p=>p!==i);r=[];for(const p of i){const m=La(d,a,n,p);r.push(ys(m,l,o&&o[n],u))}}return r}function Pd(n,r,s){return On(n)?n(r,s):n}const qy=(n,r)=>n===!0?r:typeof n=="string"?kn(r,n):void 0;function Xy(n,r,s,t,a){for(const l of r){const o=qy(s,l);if(o){n.add(o);const u=Pd(o._fallback,s,a);if(typeof u<"u"&&u!==s&&u!==t)return u}else if(o===!1&&typeof t<"u"&&s!==t)return null}return!1}function La(n,r,s,t){const a=r._rootScopes,l=Pd(r._fallback,s,t),o=[...n,...a],u=new Set;u.add(t);let i=bu(u,o,s,l||s,t);return i===null||typeof l<"u"&&l!==s&&(i=bu(u,o,l,i,t),i===null)?!1:Fa(Array.from(u),[""],a,l,()=>Yy(r,s,t))}function bu(n,r,s,t,a){for(;s;)s=Xy(n,r,s,t,a);return s}function Yy(n,r,s){const t=n._getTarget();r in t||(t[r]={});const a=t[r];return Ht(a)&&xt(s)?s:a||{}}function $y(n,r,s,t){let a;for(const l of r)if(a=Ld(Gy(l,n),s),typeof a<"u")return Pa(n,a)?La(s,t,n,a):a}function Ld(n,r){for(const s of r){if(!s)continue;const t=s[n];if(typeof t<"u")return t}}function _u(n){let r=n._keys;return r||(r=n._keys=Zy(n._scopes)),r}function Zy(n){const r=new Set;for(const s of n)for(const t of Object.keys(s).filter(a=>!a.startsWith("_")))r.add(t);return Array.from(r)}function Rd(n,r,s,t){const{iScale:a}=n,{key:l="r"}=this._parsing,o=new Array(t);let u,i,d,p;for(u=0,i=t;u<i;++u)d=u+s,p=r[d],o[u]={r:a.parse(kn(p,l),d)};return o}const Ky=Number.EPSILON||1e-14,vs=(n,r)=>r<n.length&&!n[r].skip&&n[r],Id=n=>n==="x"?"y":"x";function Qy(n,r,s,t){const a=n.skip?r:n,l=r,o=s.skip?r:s,u=ra(l,a),i=ra(o,l);let d=u/(u+i),p=i/(u+i);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const m=t*d,c=t*p;return{previous:{x:l.x-m*(o.x-a.x),y:l.y-m*(o.y-a.y)},next:{x:l.x+c*(o.x-a.x),y:l.y+c*(o.y-a.y)}}}function Jy(n,r,s){const t=n.length;let a,l,o,u,i,d=vs(n,0);for(let p=0;p<t-1;++p)if(i=d,d=vs(n,p+1),!(!i||!d)){if(Rs(r[p],0,Ky)){s[p]=s[p+1]=0;continue}a=s[p]/r[p],l=s[p+1]/r[p],u=Math.pow(a,2)+Math.pow(l,2),!(u<=9)&&(o=3/Math.sqrt(u),s[p]=a*o*r[p],s[p+1]=l*o*r[p])}}function e0(n,r,s="x"){const t=Id(s),a=n.length;let l,o,u,i=vs(n,0);for(let d=0;d<a;++d){if(o=u,u=i,i=vs(n,d+1),!u)continue;const p=u[s],m=u[t];o&&(l=(p-o[s])/3,u[`cp1${s}`]=p-l,u[`cp1${t}`]=m-l*r[d]),i&&(l=(i[s]-p)/3,u[`cp2${s}`]=p+l,u[`cp2${t}`]=m+l*r[d])}}function t0(n,r="x"){const s=Id(r),t=n.length,a=Array(t).fill(0),l=Array(t);let o,u,i,d=vs(n,0);for(o=0;o<t;++o)if(u=i,i=d,d=vs(n,o+1),!!i){if(d){const p=d[r]-i[r];a[o]=p!==0?(d[s]-i[s])/p:0}l[o]=u?d?sn(a[o-1])!==sn(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}Jy(n,a,l),e0(n,l,r)}function fo(n,r,s){return Math.max(Math.min(n,s),r)}function r0(n,r){let s,t,a,l,o,u=vn(n[0],r);for(s=0,t=n.length;s<t;++s)o=l,l=u,u=s<t-1&&vn(n[s+1],r),l&&(a=n[s],o&&(a.cp1x=fo(a.cp1x,r.left,r.right),a.cp1y=fo(a.cp1y,r.top,r.bottom)),u&&(a.cp2x=fo(a.cp2x,r.left,r.right),a.cp2y=fo(a.cp2y,r.top,r.bottom)))}function n0(n,r,s,t,a){let l,o,u,i;if(r.spanGaps&&(n=n.filter(d=>!d.skip)),r.cubicInterpolationMode==="monotone")t0(n,a);else{let d=t?n[n.length-1]:n[0];for(l=0,o=n.length;l<o;++l)u=n[l],i=Qy(d,u,n[Math.min(l+1,o-(t?0:1))%o],r.tension),u.cp1x=i.previous.x,u.cp1y=i.previous.y,u.cp2x=i.next.x,u.cp2y=i.next.y,d=u}r.capBezierPoints&&r0(n,s)}function Ra(){return typeof window<"u"&&typeof document<"u"}function Ia(n){let r=n.parentNode;return r&&r.toString()==="[object ShadowRoot]"&&(r=r.host),r}function ni(n,r,s){let t;return typeof n=="string"?(t=parseInt(n,10),n.indexOf("%")!==-1&&(t=t/100*r.parentNode[s])):t=n,t}const mi=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function s0(n,r){return mi(n).getPropertyValue(r)}const o0=["top","right","bottom","left"];function Kn(n,r,s){const t={};s=s?"-"+s:"";for(let a=0;a<4;a++){const l=o0[a];t[l]=parseFloat(n[r+"-"+l+s])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}const i0=(n,r,s)=>(n>0||r>0)&&(!s||!s.shadowRoot);function a0(n,r){const s=n.touches,t=s&&s.length?s[0]:n,{offsetX:a,offsetY:l}=t;let o=!1,u,i;if(i0(a,l,n.target))u=a,i=l;else{const d=r.getBoundingClientRect();u=t.clientX-d.left,i=t.clientY-d.top,o=!0}return{x:u,y:i,box:o}}function Wn(n,r){if("native"in n)return n;const{canvas:s,currentDevicePixelRatio:t}=r,a=mi(s),l=a.boxSizing==="border-box",o=Kn(a,"padding"),u=Kn(a,"border","width"),{x:i,y:d,box:p}=a0(n,s),m=o.left+(p&&u.left),c=o.top+(p&&u.top);let{width:h,height:v}=r;return l&&(h-=o.width+u.width,v-=o.height+u.height),{x:Math.round((i-m)/h*s.width/t),y:Math.round((d-c)/v*s.height/t)}}function l0(n,r,s){let t,a;if(r===void 0||s===void 0){const l=n&&Ia(n);if(!l)r=n.clientWidth,s=n.clientHeight;else{const o=l.getBoundingClientRect(),u=mi(l),i=Kn(u,"border","width"),d=Kn(u,"padding");r=o.width-d.width-i.width,s=o.height-d.height-i.height,t=ni(u.maxWidth,l,"clientWidth"),a=ni(u.maxHeight,l,"clientHeight")}}return{width:r,height:s,maxWidth:t||ti,maxHeight:a||ti}}const po=n=>Math.round(n*10)/10;function u0(n,r,s,t){const a=mi(n),l=Kn(a,"margin"),o=ni(a.maxWidth,n,"clientWidth")||ti,u=ni(a.maxHeight,n,"clientHeight")||ti,i=l0(n,r,s);let{width:d,height:p}=i;if(a.boxSizing==="content-box"){const c=Kn(a,"border","width"),h=Kn(a,"padding");d-=h.width+c.width,p-=h.height+c.height}return d=Math.max(0,d-l.width),p=Math.max(0,t?d/t:p-l.height),d=po(Math.min(d,o,i.maxWidth)),p=po(Math.min(p,u,i.maxHeight)),d&&!p&&(p=po(d/2)),(r!==void 0||s!==void 0)&&t&&i.height&&p>i.height&&(p=i.height,d=po(Math.floor(p*t))),{width:d,height:p}}function xu(n,r,s){const t=r||1,a=Math.floor(n.height*t),l=Math.floor(n.width*t);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==t||o.height!==a||o.width!==l?(n.currentDevicePixelRatio=t,o.height=a,o.width=l,n.ctx.setTransform(t,0,0,t,0,0),!0):!1}const c0=function(){let n=!1;try{const r={get passive(){return n=!0,!1}};Ra()&&(window.addEventListener("test",null,r),window.removeEventListener("test",null,r))}catch{}return n}();function wu(n,r){const s=s0(n,r),t=s&&s.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function qn(n,r,s,t){return{x:n.x+s*(r.x-n.x),y:n.y+s*(r.y-n.y)}}function d0(n,r,s,t){return{x:n.x+s*(r.x-n.x),y:t==="middle"?s<.5?n.y:r.y:t==="after"?s<1?n.y:r.y:s>0?r.y:n.y}}function h0(n,r,s,t){const a={x:n.cp2x,y:n.cp2y},l={x:r.cp1x,y:r.cp1y},o=qn(n,a,s),u=qn(a,l,s),i=qn(l,r,s),d=qn(o,u,s),p=qn(u,i,s);return qn(d,p,s)}const f0=function(n,r){return{x(s){return n+n+r-s},setWidth(s){r=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,t){return s-t},leftForLtr(s,t){return s-t}}},p0=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,r){return n+r},leftForLtr(n,r){return n}}};function hs(n,r,s){return n?f0(r,s):p0()}function Bd(n,r){let s,t;(r==="ltr"||r==="rtl")&&(s=n.canvas.style,t=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",r,"important"),n.prevTextDirection=t)}function Nd(n,r){r!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",r[0],r[1]))}function Ud(n){return n==="angle"?{between:Ws,compare:my,normalize:Lr}:{between:gn,compare:(r,s)=>r-s,normalize:r=>r}}function ju({start:n,end:r,count:s,loop:t,style:a}){return{start:n%s,end:r%s,loop:t&&(r-n+1)%s===0,style:a}}function m0(n,r,s){const{property:t,start:a,end:l}=s,{between:o,normalize:u}=Ud(t),i=r.length;let{start:d,end:p,loop:m}=n,c,h;if(m){for(d+=i,p+=i,c=0,h=i;c<h&&o(u(r[d%i][t]),a,l);++c)d--,p--;d%=i,p%=i}return p<d&&(p+=i),{start:d,end:p,loop:m,style:n.style}}function zd(n,r,s){if(!s)return[n];const{property:t,start:a,end:l}=s,o=r.length,{compare:u,between:i,normalize:d}=Ud(t),{start:p,end:m,loop:c,style:h}=m0(n,r,s),v=[];let f=!1,y=null,g,b,x;const _=()=>i(a,x,g)&&u(a,x)!==0,j=()=>u(l,g)===0||i(l,x,g),S=()=>f||_(),D=()=>!f||j();for(let E=p,T=p;E<=m;++E)b=r[E%o],!b.skip&&(g=d(b[t]),g!==x&&(f=i(g,a,l),y===null&&S()&&(y=u(g,a)===0?E:T),y!==null&&D()&&(v.push(ju({start:y,end:E,loop:c,count:o,style:h})),y=null),T=E,x=g));return y!==null&&v.push(ju({start:y,end:m,loop:c,count:o,style:h})),v}function Gd(n,r){const s=[],t=n.segments;for(let a=0;a<t.length;a++){const l=zd(t[a],n.points,r);l.length&&s.push(...l)}return s}function g0(n,r,s,t){let a=0,l=r-1;if(s&&!t)for(;a<r&&!n[a].skip;)a++;for(;a<r&&n[a].skip;)a++;for(a%=r,s&&(l+=a);l>a&&n[l%r].skip;)l--;return l%=r,{start:a,end:l}}function y0(n,r,s,t){const a=n.length,l=[];let o=r,u=n[r],i;for(i=r+1;i<=s;++i){const d=n[i%a];d.skip||d.stop?u.skip||(t=!1,l.push({start:r%a,end:(i-1)%a,loop:t}),r=o=d.stop?i:null):(o=i,u.skip&&(r=i)),u=d}return o!==null&&l.push({start:r%a,end:o%a,loop:t}),l}function v0(n,r){const s=n.points,t=n.options.spanGaps,a=s.length;if(!a)return[];const l=!!n._loop,{start:o,end:u}=g0(s,a,l,t);if(t===!0)return Su(n,[{start:o,end:u,loop:l}],s,r);const i=u<o?u+a:u,d=!!n._fullLoop&&o===0&&u===a-1;return Su(n,y0(s,o,i,d),s,r)}function Su(n,r,s,t){return!t||!t.setContext||!s?r:b0(n,r,s,t)}function b0(n,r,s,t){const a=n._chart.getContext(),l=Du(n.options),{_datasetIndex:o,options:{spanGaps:u}}=n,i=s.length,d=[];let p=l,m=r[0].start,c=m;function h(v,f,y,g){const b=u?-1:1;if(v!==f){for(v+=i;s[v%i].skip;)v-=b;for(;s[f%i].skip;)f+=b;v%i!==f%i&&(d.push({start:v%i,end:f%i,loop:y,style:g}),p=g,m=f%i)}}for(const v of r){m=u?m:v.start;let f=s[m%i],y;for(c=m+1;c<=v.end;c++){const g=s[c%i];y=Du(t.setContext(Pn(a,{type:"segment",p0:f,p1:g,p0DataIndex:(c-1)%i,p1DataIndex:c%i,datasetIndex:o}))),_0(y,p)&&h(m,c-1,v.loop,p),f=g,p=y}m<c-1&&h(m,c-1,v.loop,p)}return d}function Du(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function _0(n,r){if(!r)return!1;const s=[],t=function(a,l){return ka(l)?(s.includes(l)||s.push(l),s.indexOf(l)):l};return JSON.stringify(n,t)!==JSON.stringify(r,t)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class x0{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(r,s,t,a){const l=s.listeners[a],o=s.duration;l.forEach(u=>u({chart:r,initial:s.initial,numSteps:o,currentStep:Math.min(t-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Dd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(r=Date.now()){let s=0;this._charts.forEach((t,a)=>{if(!t.running||!t.items.length)return;const l=t.items;let o=l.length-1,u=!1,i;for(;o>=0;--o)i=l[o],i._active?(i._total>t.duration&&(t.duration=i._total),i.tick(r),u=!0):(l[o]=l[l.length-1],l.pop());u&&(a.draw(),this._notify(a,t,r,"progress")),l.length||(t.running=!1,this._notify(a,t,r,"complete"),t.initial=!1),s+=l.length}),this._lastDate=r,s===0&&(this._running=!1)}_getAnims(r){const s=this._charts;let t=s.get(r);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(r,t)),t}listen(r,s,t){this._getAnims(r).listeners[s].push(t)}add(r,s){!s||!s.length||this._getAnims(r).items.push(...s)}has(r){return this._getAnims(r).items.length>0}start(r){const s=this._charts.get(r);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((t,a)=>Math.max(t,a._duration),0),this._refresh())}running(r){if(!this._running)return!1;const s=this._charts.get(r);return!(!s||!s.running||!s.items.length)}stop(r){const s=this._charts.get(r);if(!s||!s.items.length)return;const t=s.items;let a=t.length-1;for(;a>=0;--a)t[a].cancel();s.items=[],this._notify(r,s,Date.now(),"complete")}remove(r){return this._charts.delete(r)}}var dn=new x0;const Eu="transparent",w0={boolean(n,r,s){return s>.5?r:n},color(n,r,s){const t=gu(n||Eu),a=t.valid&&gu(r||Eu);return a&&a.valid?a.mix(t,s).hexString():r},number(n,r,s){return n+(r-n)*s}};class j0{constructor(r,s,t,a){const l=s[t];a=Ts([r.to,a,l,r.from]);const o=Ts([r.from,l,a]);this._active=!0,this._fn=r.fn||w0[r.type||typeof o],this._easing=Is[r.easing]||Is.linear,this._start=Math.floor(Date.now()+(r.delay||0)),this._duration=this._total=Math.floor(r.duration),this._loop=!!r.loop,this._target=s,this._prop=t,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(r,s,t){if(this._active){this._notify(!1);const a=this._target[this._prop],l=t-this._start,o=this._duration-l;this._start=t,this._duration=Math.floor(Math.max(o,r.duration)),this._total+=l,this._loop=!!r.loop,this._to=Ts([r.to,s,a,r.from]),this._from=Ts([r.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(r){const s=r-this._start,t=this._duration,a=this._prop,l=this._from,o=this._loop,u=this._to;let i;if(this._active=l!==u&&(o||s<t),!this._active){this._target[a]=u,this._notify(!0);return}if(s<0){this._target[a]=l;return}i=s/t%2,i=o&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[a]=this._fn(l,u,i)}wait(){const r=this._promises||(this._promises=[]);return new Promise((s,t)=>{r.push({res:s,rej:t})})}_notify(r){const s=r?"res":"rej",t=this._promises||[];for(let a=0;a<t.length;a++)t[a][s]()}}class Vd{constructor(r,s){this._chart=r,this._properties=new Map,this.configure(s)}configure(r){if(!xt(r))return;const s=Object.keys(Wt.animation),t=this._properties;Object.getOwnPropertyNames(r).forEach(a=>{const l=r[a];if(!xt(l))return;const o={};for(const u of s)o[u]=l[u];(Ht(l.properties)&&l.properties||[a]).forEach(u=>{(u===a||!t.has(u))&&t.set(u,o)})})}_animateOptions(r,s){const t=s.options,a=D0(r,t);if(!a)return[];const l=this._createAnimations(a,t);return t.$shared&&S0(r.options.$animations,t).then(()=>{r.options=t},()=>{}),l}_createAnimations(r,s){const t=this._properties,a=[],l=r.$animations||(r.$animations={}),o=Object.keys(s),u=Date.now();let i;for(i=o.length-1;i>=0;--i){const d=o[i];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(r,s));continue}const p=s[d];let m=l[d];const c=t.get(d);if(m)if(c&&m.active()){m.update(c,p,u);continue}else m.cancel();if(!c||!c.duration){r[d]=p;continue}l[d]=m=new j0(c,r,d,p),a.push(m)}return a}update(r,s){if(this._properties.size===0){Object.assign(r,s);return}const t=this._createAnimations(r,s);if(t.length)return dn.add(this._chart,t),!0}}function S0(n,r){const s=[],t=Object.keys(r);for(let a=0;a<t.length;a++){const l=n[t[a]];l&&l.active()&&s.push(l.wait())}return Promise.all(s)}function D0(n,r){if(!r)return;let s=n.options;if(!s){n.options=r;return}return s.$shared&&(n.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Cu(n,r){const s=n&&n.options||{},t=s.reverse,a=s.min===void 0?r:0,l=s.max===void 0?r:0;return{start:t?l:a,end:t?a:l}}function E0(n,r,s){if(s===!1)return!1;const t=Cu(n,s),a=Cu(r,s);return{top:a.end,right:t.end,bottom:a.start,left:t.start}}function C0(n){let r,s,t,a;return xt(n)?(r=n.top,s=n.right,t=n.bottom,a=n.left):r=s=t=a=n,{top:r,right:s,bottom:t,left:a,disabled:n===!1}}function Hd(n,r){const s=[],t=n._getSortedDatasetMetas(r);let a,l;for(a=0,l=t.length;a<l;++a)s.push(t[a].index);return s}function Mu(n,r,s,t={}){const a=n.keys,l=t.mode==="single";let o,u,i,d;if(r===null)return;let p=!1;for(o=0,u=a.length;o<u;++o){if(i=+a[o],i===s){if(p=!0,t.all)continue;break}d=n.values[i],Kt(d)&&(l||r===0||sn(r)===sn(d))&&(r+=d)}return!p&&!t.all?0:r}function M0(n,r){const{iScale:s,vScale:t}=r,a=s.axis==="x"?"x":"y",l=t.axis==="x"?"x":"y",o=Object.keys(n),u=new Array(o.length);let i,d,p;for(i=0,d=o.length;i<d;++i)p=o[i],u[i]={[a]:p,[l]:n[p]};return u}function Pi(n,r){const s=n&&n.options.stacked;return s||s===void 0&&r.stack!==void 0}function A0(n,r,s){return`${n.id}.${r.id}.${s.stack||s.type}`}function T0(n){const{min:r,max:s,minDefined:t,maxDefined:a}=n.getUserBounds();return{min:t?r:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function k0(n,r,s){const t=n[r]||(n[r]={});return t[s]||(t[s]={})}function Au(n,r,s,t){for(const a of r.getMatchingVisibleMetas(t).reverse()){const l=n[a.index];if(s&&l>0||!s&&l<0)return a.index}return null}function Tu(n,r){const{chart:s,_cachedMeta:t}=n,a=s._stacks||(s._stacks={}),{iScale:l,vScale:o,index:u}=t,i=l.axis,d=o.axis,p=A0(l,o,t),m=r.length;let c;for(let h=0;h<m;++h){const v=r[h],{[i]:f,[d]:y}=v,g=v._stacks||(v._stacks={});c=g[d]=k0(a,p,f),c[u]=y,c._top=Au(c,o,!0,t.type),c._bottom=Au(c,o,!1,t.type);const b=c._visualValues||(c._visualValues={});b[u]=y}}function Li(n,r){const s=n.scales;return Object.keys(s).filter(t=>s[t].axis===r).shift()}function O0(n,r){return Pn(n,{active:!1,dataset:void 0,datasetIndex:r,index:r,mode:"default",type:"dataset"})}function F0(n,r,s){return Pn(n,{active:!1,dataIndex:r,parsed:void 0,raw:void 0,element:s,index:r,mode:"default",type:"data"})}function Ss(n,r){const s=n.controller.index,t=n.vScale&&n.vScale.axis;if(t){r=r||n._parsed;for(const a of r){const l=a._stacks;if(!l||l[t]===void 0||l[t][s]===void 0)return;delete l[t][s],l[t]._visualValues!==void 0&&l[t]._visualValues[s]!==void 0&&delete l[t]._visualValues[s]}}}const Ri=n=>n==="reset"||n==="none",ku=(n,r)=>r?n:Object.assign({},n),P0=(n,r,s)=>n&&!r.hidden&&r._stacked&&{keys:Hd(s,!0),values:null};class Xr{constructor(r,s){this.chart=r,this._ctx=r.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=Pi(r.vScale,r),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(r){this.index!==r&&Ss(this._cachedMeta),this.index=r}linkScales(){const r=this.chart,s=this._cachedMeta,t=this.getDataset(),a=(m,c,h,v)=>m==="x"?c:m==="r"?v:h,l=s.xAxisID=yt(t.xAxisID,Li(r,"x")),o=s.yAxisID=yt(t.yAxisID,Li(r,"y")),u=s.rAxisID=yt(t.rAxisID,Li(r,"r")),i=s.indexAxis,d=s.iAxisID=a(i,l,o,u),p=s.vAxisID=a(i,o,l,u);s.xScale=this.getScaleForId(l),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(u),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){const s=this._cachedMeta;return r===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const r=this._cachedMeta;this._data&&fu(this._data,this),r._stacked&&Ss(r)}_dataCheck(){const r=this.getDataset(),s=r.data||(r.data=[]),t=this._data;if(xt(s)){const a=this._cachedMeta;this._data=M0(s,a)}else if(t!==s){if(t){fu(t,this);const a=this._cachedMeta;Ss(a),a._parsed=[]}s&&Object.isExtensible(s)&&by(s,this),this._syncList=[],this._data=s}}addElements(){const r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){const s=this._cachedMeta,t=this.getDataset();let a=!1;this._dataCheck();const l=s._stacked;s._stacked=Pi(s.vScale,s),s.stack!==t.stack&&(a=!0,Ss(s),s.stack=t.stack),this._resyncElements(r),(a||l!==s._stacked)&&(Tu(this,s._parsed),s._stacked=Pi(s.vScale,s))}configure(){const r=this.chart.config,s=r.datasetScopeKeys(this._type),t=r.getOptionScopes(this.getDataset(),s,!0);this.options=r.createResolver(t,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(r,s){const{_cachedMeta:t,_data:a}=this,{iScale:l,_stacked:o}=t,u=l.axis;let i=r===0&&s===a.length?!0:t._sorted,d=r>0&&t._parsed[r-1],p,m,c;if(this._parsing===!1)t._parsed=a,t._sorted=!0,c=a;else{Ht(a[r])?c=this.parseArrayData(t,a,r,s):xt(a[r])?c=this.parseObjectData(t,a,r,s):c=this.parsePrimitiveData(t,a,r,s);const h=()=>m[u]===null||d&&m[u]<d[u];for(p=0;p<s;++p)t._parsed[p+r]=m=c[p],i&&(h()&&(i=!1),d=m);t._sorted=i}o&&Tu(this,c)}parsePrimitiveData(r,s,t,a){const{iScale:l,vScale:o}=r,u=l.axis,i=o.axis,d=l.getLabels(),p=l===o,m=new Array(a);let c,h,v;for(c=0,h=a;c<h;++c)v=c+t,m[c]={[u]:p||l.parse(d[v],v),[i]:o.parse(s[v],v)};return m}parseArrayData(r,s,t,a){const{xScale:l,yScale:o}=r,u=new Array(a);let i,d,p,m;for(i=0,d=a;i<d;++i)p=i+t,m=s[p],u[i]={x:l.parse(m[0],p),y:o.parse(m[1],p)};return u}parseObjectData(r,s,t,a){const{xScale:l,yScale:o}=r,{xAxisKey:u="x",yAxisKey:i="y"}=this._parsing,d=new Array(a);let p,m,c,h;for(p=0,m=a;p<m;++p)c=p+t,h=s[c],d[p]={x:l.parse(kn(h,u),c),y:o.parse(kn(h,i),c)};return d}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,s,t){const a=this.chart,l=this._cachedMeta,o=s[r.axis],u={keys:Hd(a,!0),values:s._stacks[r.axis]._visualValues};return Mu(u,o,l.index,{mode:t})}updateRangeFromParsed(r,s,t,a){const l=t[s.axis];let o=l===null?NaN:l;const u=a&&t._stacks[s.axis];a&&u&&(a.values=u,o=Mu(a,l,this._cachedMeta.index)),r.min=Math.min(r.min,o),r.max=Math.max(r.max,o)}getMinMax(r,s){const t=this._cachedMeta,a=t._parsed,l=t._sorted&&r===t.iScale,o=a.length,u=this._getOtherScale(r),i=P0(s,t,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=T0(u);let c,h;function v(){h=a[c];const f=h[u.axis];return!Kt(h[r.axis])||p>f||m<f}for(c=0;c<o&&!(!v()&&(this.updateRangeFromParsed(d,r,h,i),l));++c);if(l){for(c=o-1;c>=0;--c)if(!v()){this.updateRangeFromParsed(d,r,h,i);break}}return d}getAllParsedValues(r){const s=this._cachedMeta._parsed,t=[];let a,l,o;for(a=0,l=s.length;a<l;++a)o=s[a][r.axis],Kt(o)&&t.push(o);return t}getMaxOverflow(){return!1}getLabelAndValue(r){const s=this._cachedMeta,t=s.iScale,a=s.vScale,l=this.getParsed(r);return{label:t?""+t.getLabelForValue(l[t.axis]):"",value:a?""+a.getLabelForValue(l[a.axis]):""}}_update(r){const s=this._cachedMeta;this.update(r||"default"),s._clip=C0(yt(this.options.clip,E0(s.xScale,s.yScale,this.getMaxOverflow())))}update(r){}draw(){const r=this._ctx,s=this.chart,t=this._cachedMeta,a=t.data||[],l=s.chartArea,o=[],u=this._drawStart||0,i=this._drawCount||a.length-u,d=this.options.drawActiveElementsOnTop;let p;for(t.dataset&&t.dataset.draw(r,l,u,i),p=u;p<u+i;++p){const m=a[p];m.hidden||(m.active&&d?o.push(m):m.draw(r,l))}for(p=0;p<o.length;++p)o[p].draw(r,l)}getStyle(r,s){const t=s?"active":"default";return r===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(t):this.resolveDataElementOptions(r||0,t)}getContext(r,s,t){const a=this.getDataset();let l;if(r>=0&&r<this._cachedMeta.data.length){const o=this._cachedMeta.data[r];l=o.$context||(o.$context=F0(this.getContext(),r,o)),l.parsed=this.getParsed(r),l.raw=a.data[r],l.index=l.dataIndex=r}else l=this.$context||(this.$context=O0(this.chart.getContext(),this.index)),l.dataset=a,l.index=l.datasetIndex=this.index;return l.active=!!s,l.mode=t,l}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,s){return this._resolveElementOptions(this.dataElementType.id,s,r)}_resolveElementOptions(r,s="default",t){const a=s==="active",l=this._cachedDataOpts,o=r+"-"+s,u=l[o],i=this.enableOptionSharing&&Hs(t);if(u)return ku(u,i);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,r),m=a?[`${r}Hover`,"hover",r,""]:[r,""],c=d.getOptionScopes(this.getDataset(),p),h=Object.keys(Wt.elements[r]),v=()=>this.getContext(t,a,s),f=d.resolveNamedOptions(c,h,v,m);return f.$shared&&(f.$shared=i,l[o]=Object.freeze(ku(f,i))),f}_resolveAnimations(r,s,t){const a=this.chart,l=this._cachedDataOpts,o=`animation-${s}`,u=l[o];if(u)return u;let i;if(a.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,s),c=p.getOptionScopes(this.getDataset(),m);i=p.createResolver(c,this.getContext(r,t,s))}const d=new Vd(a,i&&i.animations);return i&&i._cacheable&&(l[o]=Object.freeze(d)),d}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,s){return!s||Ri(r)||this.chart._animationsDisabled}_getSharedOptions(r,s){const t=this.resolveDataElementOptions(r,s),a=this._sharedOptions,l=this.getSharedOptions(t),o=this.includeOptions(s,l)||l!==a;return this.updateSharedOptions(l,s,t),{sharedOptions:l,includeOptions:o}}updateElement(r,s,t,a){Ri(a)?Object.assign(r,t):this._resolveAnimations(s,a).update(r,t)}updateSharedOptions(r,s,t){r&&!Ri(s)&&this._resolveAnimations(void 0,s).update(r,t)}_setStyle(r,s,t,a){r.active=a;const l=this.getStyle(s,a);this._resolveAnimations(s,t,a).update(r,{options:!a&&this.getSharedOptions(l)||l})}removeHoverStyle(r,s,t){this._setStyle(r,t,"active",!1)}setHoverStyle(r,s,t){this._setStyle(r,t,"active",!0)}_removeDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){const s=this._data,t=this._cachedMeta.data;for(const[u,i,d]of this._syncList)this[u](i,d);this._syncList=[];const a=t.length,l=s.length,o=Math.min(l,a);o&&this.parse(0,o),l>a?this._insertElements(a,l-a,r):l<a&&this._removeElements(l,a-l)}_insertElements(r,s,t=!0){const a=this._cachedMeta,l=a.data,o=r+s;let u;const i=d=>{for(d.length+=s,u=d.length-1;u>=o;u--)d[u]=d[u-s]};for(i(l),u=r;u<o;++u)l[u]=new this.dataElementType;this._parsing&&i(a._parsed),this.parse(r,s),t&&this.updateElements(l,r,s,"reset")}updateElements(r,s,t,a){}_removeElements(r,s){const t=this._cachedMeta;if(this._parsing){const a=t._parsed.splice(r,s);t._stacked&&Ss(t,a)}t.data.splice(r,s)}_sync(r){if(this._parsing)this._syncList.push(r);else{const[s,t,a]=r;this[s](t,a)}this.chart._dataChanges.push([this.index,...r])}_onDataPush(){const r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,s){s&&this._sync(["_removeElements",r,s]);const t=arguments.length-2;t&&this._sync(["_insertElements",r,t])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Qe(Xr,"defaults",{}),Qe(Xr,"datasetElementType",null),Qe(Xr,"dataElementType",null);function L0(n,r){if(!n._cache.$bar){const s=n.getMatchingVisibleMetas(r);let t=[];for(let a=0,l=s.length;a<l;a++)t=t.concat(s[a].controller.getAllParsedValues(n));n._cache.$bar=Sd(t.sort((a,l)=>a-l))}return n._cache.$bar}function R0(n){const r=n.iScale,s=L0(r,n.type);let t=r._length,a,l,o,u;const i=()=>{o===32767||o===-32768||(Hs(u)&&(t=Math.min(t,Math.abs(o-u)||t)),u=o)};for(a=0,l=s.length;a<l;++a)o=r.getPixelForValue(s[a]),i();for(u=void 0,a=0,l=r.ticks.length;a<l;++a)o=r.getPixelForTick(a),i();return t}function I0(n,r,s,t){const a=s.barThickness;let l,o;return _t(a)?(l=r.min*s.categoryPercentage,o=s.barPercentage):(l=a*t,o=1),{chunk:l/t,ratio:o,start:r.pixels[n]-l/2}}function B0(n,r,s,t){const a=r.pixels,l=a[n];let o=n>0?a[n-1]:null,u=n<a.length-1?a[n+1]:null;const i=s.categoryPercentage;o===null&&(o=l-(u===null?r.end-r.start:u-l)),u===null&&(u=l+l-o);const d=l-(l-Math.min(o,u))/2*i;return{chunk:Math.abs(u-o)/2*i/t,ratio:s.barPercentage,start:d}}function N0(n,r,s,t){const a=s.parse(n[0],t),l=s.parse(n[1],t),o=Math.min(a,l),u=Math.max(a,l);let i=o,d=u;Math.abs(o)>Math.abs(u)&&(i=u,d=o),r[s.axis]=d,r._custom={barStart:i,barEnd:d,start:a,end:l,min:o,max:u}}function Wd(n,r,s,t){return Ht(n)?N0(n,r,s,t):r[s.axis]=s.parse(n,t),r}function Ou(n,r,s,t){const a=n.iScale,l=n.vScale,o=a.getLabels(),u=a===l,i=[];let d,p,m,c;for(d=s,p=s+t;d<p;++d)c=r[d],m={},m[a.axis]=u||a.parse(o[d],d),i.push(Wd(c,m,l,d));return i}function Ii(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function U0(n,r,s){return n!==0?sn(n):(r.isHorizontal()?1:-1)*(r.min>=s?1:-1)}function z0(n){let r,s,t,a,l;return n.horizontal?(r=n.base>n.x,s="left",t="right"):(r=n.base<n.y,s="bottom",t="top"),r?(a="end",l="start"):(a="start",l="end"),{start:s,end:t,reverse:r,top:a,bottom:l}}function G0(n,r,s,t){let a=r.borderSkipped;const l={};if(!a){n.borderSkipped=l;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:u,reverse:i,top:d,bottom:p}=z0(n);a==="middle"&&s&&(n.enableBorderRadius=!0,(s._top||0)===t?a=d:(s._bottom||0)===t?a=p:(l[Fu(p,o,u,i)]=!0,a=d)),l[Fu(a,o,u,i)]=!0,n.borderSkipped=l}function Fu(n,r,s,t){return t?(n=V0(n,r,s),n=Pu(n,s,r)):n=Pu(n,r,s),n}function V0(n,r,s){return n===r?s:n===s?r:n}function Pu(n,r,s){return n==="start"?r:n==="end"?s:n}function H0(n,{inflateAmount:r},s){n.inflateAmount=r==="auto"?s===1?.33:0:r}class Fo extends Xr{parsePrimitiveData(r,s,t,a){return Ou(r,s,t,a)}parseArrayData(r,s,t,a){return Ou(r,s,t,a)}parseObjectData(r,s,t,a){const{iScale:l,vScale:o}=r,{xAxisKey:u="x",yAxisKey:i="y"}=this._parsing,d=l.axis==="x"?u:i,p=o.axis==="x"?u:i,m=[];let c,h,v,f;for(c=t,h=t+a;c<h;++c)f=s[c],v={},v[l.axis]=l.parse(kn(f,d),c),m.push(Wd(kn(f,p),v,o,c));return m}updateRangeFromParsed(r,s,t,a){super.updateRangeFromParsed(r,s,t,a);const l=t._custom;l&&s===this._cachedMeta.vScale&&(r.min=Math.min(r.min,l.min),r.max=Math.max(r.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(r){const s=this._cachedMeta,{iScale:t,vScale:a}=s,l=this.getParsed(r),o=l._custom,u=Ii(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(l[a.axis]);return{label:""+t.getLabelForValue(l[t.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const r=this._cachedMeta;r.stack=this.getDataset().stack}update(r){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,r)}updateElements(r,s,t,a){const l=a==="reset",{index:o,_cachedMeta:{vScale:u}}=this,i=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:c}=this._getSharedOptions(s,a);for(let h=s;h<s+t;h++){const v=this.getParsed(h),f=l||_t(v[u.axis])?{base:i,head:i}:this._calculateBarValuePixels(h),y=this._calculateBarIndexPixels(h,p),g=(v._stacks||{})[u.axis],b={horizontal:d,base:f.base,enableBorderRadius:!g||Ii(v._custom)||o===g._top||o===g._bottom,x:d?f.head:y.center,y:d?y.center:f.head,height:d?y.size:Math.abs(f.size),width:d?Math.abs(f.size):y.size};c&&(b.options=m||this.resolveDataElementOptions(h,r[h].active?"active":a));const x=b.options||r[h].options;G0(b,x,g,o),H0(b,x,p.ratio),this.updateElement(r[h],h,b,a)}}_getStacks(r,s){const{iScale:t}=this._cachedMeta,a=t.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),l=t.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(s),i=u&&u[t.axis],d=p=>{const m=p._parsed.find(h=>h[t.axis]===i),c=m&&m[p.vScale.axis];if(_t(c)||isNaN(c))return!0};for(const p of a)if(!(s!==void 0&&d(p))&&((l===!1||o.indexOf(p.stack)===-1||l===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===r))break;return o.length||o.push(void 0),o}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,s,t){const a=this._getStacks(r,t),l=s!==void 0?a.indexOf(s):-1;return l===-1?a.length-1:l}_getRuler(){const r=this.options,s=this._cachedMeta,t=s.iScale,a=[];let l,o;for(l=0,o=s.data.length;l<o;++l)a.push(t.getPixelForValue(this.getParsed(l)[t.axis],l));const u=r.barThickness;return{min:u||R0(s),pixels:a,start:t._startPixel,end:t._endPixel,stackCount:this._getStackCount(),scale:t,grouped:r.grouped,ratio:u?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){const{_cachedMeta:{vScale:s,_stacked:t,index:a},options:{base:l,minBarLength:o}}=this,u=l||0,i=this.getParsed(r),d=i._custom,p=Ii(d);let m=i[s.axis],c=0,h=t?this.applyStack(s,i,t):m,v,f;h!==m&&(c=h-m,h=m),p&&(m=d.barStart,h=d.barEnd-d.barStart,m!==0&&sn(m)!==sn(d.barEnd)&&(c=0),c+=m);const y=!_t(l)&&!p?l:c;let g=s.getPixelForValue(y);if(this.chart.getDataVisibility(r)?v=s.getPixelForValue(c+h):v=g,f=v-g,Math.abs(f)<o){f=U0(f,s,u)*o,m===u&&(g-=f/2);const b=s.getPixelForDecimal(0),x=s.getPixelForDecimal(1),_=Math.min(b,x),j=Math.max(b,x);g=Math.max(Math.min(g,j),_),v=g+f,t&&!p&&(i._stacks[s.axis]._visualValues[a]=s.getValueForPixel(v)-s.getValueForPixel(g))}if(g===s.getPixelForValue(u)){const b=sn(f)*s.getLineWidthForValue(u)/2;g+=b,f-=b}return{size:f,base:g,head:v,center:v+f/2}}_calculateBarIndexPixels(r,s){const t=s.scale,a=this.options,l=a.skipNull,o=yt(a.maxBarThickness,1/0);let u,i;if(s.grouped){const d=l?this._getStackCount(r):s.stackCount,p=a.barThickness==="flex"?B0(r,s,a,d):I0(r,s,a,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,l?r:void 0);u=p.start+p.chunk*m+p.chunk/2,i=Math.min(o,p.chunk*p.ratio)}else u=t.getPixelForValue(this.getParsed(r)[t.axis],r),i=Math.min(o,s.min*s.ratio);return{base:u-i/2,head:u+i/2,center:u,size:i}}draw(){const r=this._cachedMeta,s=r.vScale,t=r.data,a=t.length;let l=0;for(;l<a;++l)this.getParsed(l)[s.axis]!==null&&!t[l].hidden&&t[l].draw(this._ctx)}}Qe(Fo,"id","bar"),Qe(Fo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Qe(Fo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Po extends Xr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,s,t,a){const l=super.parsePrimitiveData(r,s,t,a);for(let o=0;o<l.length;o++)l[o]._custom=this.resolveDataElementOptions(o+t).radius;return l}parseArrayData(r,s,t,a){const l=super.parseArrayData(r,s,t,a);for(let o=0;o<l.length;o++){const u=s[t+o];l[o]._custom=yt(u[2],this.resolveDataElementOptions(o+t).radius)}return l}parseObjectData(r,s,t,a){const l=super.parseObjectData(r,s,t,a);for(let o=0;o<l.length;o++){const u=s[t+o];l[o]._custom=yt(u&&u.r&&+u.r,this.resolveDataElementOptions(o+t).radius)}return l}getMaxOverflow(){const r=this._cachedMeta.data;let s=0;for(let t=r.length-1;t>=0;--t)s=Math.max(s,r[t].size(this.resolveDataElementOptions(t))/2);return s>0&&s}getLabelAndValue(r){const s=this._cachedMeta,t=this.chart.data.labels||[],{xScale:a,yScale:l}=s,o=this.getParsed(r),u=a.getLabelForValue(o.x),i=l.getLabelForValue(o.y),d=o._custom;return{label:t[r]||"",value:"("+u+", "+i+(d?", "+d:"")+")"}}update(r){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,r)}updateElements(r,s,t,a){const l=a==="reset",{iScale:o,vScale:u}=this._cachedMeta,{sharedOptions:i,includeOptions:d}=this._getSharedOptions(s,a),p=o.axis,m=u.axis;for(let c=s;c<s+t;c++){const h=r[c],v=!l&&this.getParsed(c),f={},y=f[p]=l?o.getPixelForDecimal(.5):o.getPixelForValue(v[p]),g=f[m]=l?u.getBasePixel():u.getPixelForValue(v[m]);f.skip=isNaN(y)||isNaN(g),d&&(f.options=i||this.resolveDataElementOptions(c,h.active?"active":a),l&&(f.options.radius=0)),this.updateElement(h,c,f,a)}}resolveDataElementOptions(r,s){const t=this.getParsed(r);let a=super.resolveDataElementOptions(r,s);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const l=a.radius;return s!=="active"&&(a.radius=0),a.radius+=yt(t&&t._custom,l),a}}Qe(Po,"id","bubble"),Qe(Po,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Qe(Po,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function W0(n,r,s){let t=1,a=1,l=0,o=0;if(r<Nt){const u=n,i=u+r,d=Math.cos(u),p=Math.sin(u),m=Math.cos(i),c=Math.sin(i),h=(x,_,j)=>Ws(x,u,i,!0)?1:Math.max(_,_*s,j,j*s),v=(x,_,j)=>Ws(x,u,i,!0)?-1:Math.min(_,_*s,j,j*s),f=h(0,d,m),y=h(Qt,p,c),g=v(Ut,d,m),b=v(Ut+Qt,p,c);t=(f-g)/2,a=(y-b)/2,l=-(f+g)/2,o=-(y+b)/2}return{ratioX:t,ratioY:a,offsetX:l,offsetY:o}}class Yn extends Xr{constructor(r,s){super(r,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,s){const t=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=t;else{let l=i=>+t[i];if(xt(t[r])){const{key:i="value"}=this._parsing;l=d=>+kn(t[d],i)}let o,u;for(o=r,u=r+s;o<u;++o)a._parsed[o]=l(o)}}_getRotation(){return Wr(this.options.rotation-90)}_getCircumference(){return Wr(this.options.circumference)}_getRotationExtents(){let r=Nt,s=-Nt;for(let t=0;t<this.chart.data.datasets.length;++t)if(this.chart.isDatasetVisible(t)&&this.chart.getDatasetMeta(t).type===this._type){const a=this.chart.getDatasetMeta(t).controller,l=a._getRotation(),o=a._getCircumference();r=Math.min(r,l),s=Math.max(s,l+o)}return{rotation:r,circumference:s-r}}update(r){const s=this.chart,{chartArea:t}=s,a=this._cachedMeta,l=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(t.width,t.height)-o)/2,0),i=Math.min(sy(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:c,ratioY:h,offsetX:v,offsetY:f}=W0(m,p,i),y=(t.width-o)/c,g=(t.height-o)/h,b=Math.max(Math.min(y,g)/2,0),x=bd(this.options.radius,b),_=Math.max(x*i,0),j=(x-_)/this._getVisibleDatasetWeightTotal();this.offsetX=v*x,this.offsetY=f*x,a.total=this.calculateTotal(),this.outerRadius=x-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(l,0,l.length,r)}_circumference(r,s){const t=this.options,a=this._cachedMeta,l=this._getCircumference();return s&&t.animation.animateRotate||!this.chart.getDataVisibility(r)||a._parsed[r]===null||a.data[r].hidden?0:this.calculateCircumference(a._parsed[r]*l/Nt)}updateElements(r,s,t,a){const l=a==="reset",o=this.chart,u=o.chartArea,d=o.options.animation,p=(u.left+u.right)/2,m=(u.top+u.bottom)/2,c=l&&d.animateScale,h=c?0:this.innerRadius,v=c?0:this.outerRadius,{sharedOptions:f,includeOptions:y}=this._getSharedOptions(s,a);let g=this._getRotation(),b;for(b=0;b<s;++b)g+=this._circumference(b,l);for(b=s;b<s+t;++b){const x=this._circumference(b,l),_=r[b],j={x:p+this.offsetX,y:m+this.offsetY,startAngle:g,endAngle:g+x,circumference:x,outerRadius:v,innerRadius:h};y&&(j.options=f||this.resolveDataElementOptions(b,_.active?"active":a)),g+=x,this.updateElement(_,b,j,a)}}calculateTotal(){const r=this._cachedMeta,s=r.data;let t=0,a;for(a=0;a<s.length;a++){const l=r._parsed[a];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(t+=Math.abs(l))}return t}calculateCircumference(r){const s=this._cachedMeta.total;return s>0&&!isNaN(r)?Nt*(Math.abs(r)/s):0}getLabelAndValue(r){const s=this._cachedMeta,t=this.chart,a=t.data.labels||[],l=Qs(s._parsed[r],t.options.locale);return{label:a[r]||"",value:l}}getMaxBorderWidth(r){let s=0;const t=this.chart;let a,l,o,u,i;if(!r){for(a=0,l=t.data.datasets.length;a<l;++a)if(t.isDatasetVisible(a)){o=t.getDatasetMeta(a),r=o.data,u=o.controller;break}}if(!r)return 0;for(a=0,l=r.length;a<l;++a)i=u.resolveDataElementOptions(a),i.borderAlign!=="inner"&&(s=Math.max(s,i.borderWidth||0,i.hoverBorderWidth||0));return s}getMaxOffset(r){let s=0;for(let t=0,a=r.length;t<a;++t){const l=this.resolveDataElementOptions(t);s=Math.max(s,l.offset||0,l.hoverOffset||0)}return s}_getRingWeightOffset(r){let s=0;for(let t=0;t<r;++t)this.chart.isDatasetVisible(t)&&(s+=this._getRingWeight(t));return s}_getRingWeight(r){return Math.max(yt(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Qe(Yn,"id","doughnut"),Qe(Yn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Qe(Yn,"descriptors",{_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"&&!r.startsWith("borderDash")&&!r.startsWith("hoverBorderDash")}),Qe(Yn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const s=r.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:t,color:a}}=r.legend.options;return s.labels.map((l,o)=>{const i=r.getDatasetMeta(0).controller.getStyle(o);return{text:l,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:a,lineWidth:i.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(o),index:o}})}return[]}},onClick(r,s,t){t.chart.toggleDataVisibility(s.index),t.chart.update()}}}});class Lo extends Xr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(r){const s=this._cachedMeta,{dataset:t,data:a=[],_dataset:l}=s,o=this.chart._animationsDisabled;let{start:u,count:i}=Cd(s,a,o);this._drawStart=u,this._drawCount=i,Md(s)&&(u=0,i=a.length),t._chart=this.chart,t._datasetIndex=this.index,t._decimated=!!l._decimated,t.points=a;const d=this.resolveDatasetElementOptions(r);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(t,void 0,{animated:!o,options:d},r),this.updateElements(a,u,i,r)}updateElements(r,s,t,a){const l=a==="reset",{iScale:o,vScale:u,_stacked:i,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(s,a),c=o.axis,h=u.axis,{spanGaps:v,segment:f}=this.options,y=gs(v)?v:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||l||a==="none",b=s+t,x=r.length;let _=s>0&&this.getParsed(s-1);for(let j=0;j<x;++j){const S=r[j],D=g?S:{};if(j<s||j>=b){D.skip=!0;continue}const E=this.getParsed(j),T=_t(E[h]),F=D[c]=o.getPixelForValue(E[c],j),A=D[h]=l||T?u.getBasePixel():u.getPixelForValue(i?this.applyStack(u,E,i):E[h],j);D.skip=isNaN(F)||isNaN(A)||T,D.stop=j>0&&Math.abs(E[c]-_[c])>y,f&&(D.parsed=E,D.raw=d.data[j]),m&&(D.options=p||this.resolveDataElementOptions(j,S.active?"active":a)),g||this.updateElement(S,j,D,a),_=E}}getMaxOverflow(){const r=this._cachedMeta,s=r.dataset,t=s.options&&s.options.borderWidth||0,a=r.data||[];if(!a.length)return t;const l=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(t,l,o)/2}draw(){const r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}}Qe(Lo,"id","line"),Qe(Lo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Qe(Lo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ns extends Xr{constructor(r,s){super(r,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){const s=this._cachedMeta,t=this.chart,a=t.data.labels||[],l=Qs(s._parsed[r].r,t.options.locale);return{label:a[r]||"",value:l}}parseObjectData(r,s,t,a){return Rd.bind(this)(r,s,t,a)}update(r){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,r)}getMinMax(){const r=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return r.data.forEach((t,a)=>{const l=this.getParsed(a).r;!isNaN(l)&&this.chart.getDataVisibility(a)&&(l<s.min&&(s.min=l),l>s.max&&(s.max=l))}),s}_updateRadius(){const r=this.chart,s=r.chartArea,t=r.options,a=Math.min(s.right-s.left,s.bottom-s.top),l=Math.max(a/2,0),o=Math.max(t.cutoutPercentage?l/100*t.cutoutPercentage:1,0),u=(l-o)/r.getVisibleDatasetCount();this.outerRadius=l-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(r,s,t,a){const l=a==="reset",o=this.chart,i=o.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,m=d.yCenter,c=d.getIndexAngle(0)-.5*Ut;let h=c,v;const f=360/this.countVisibleElements();for(v=0;v<s;++v)h+=this._computeAngle(v,a,f);for(v=s;v<s+t;v++){const y=r[v];let g=h,b=h+this._computeAngle(v,a,f),x=o.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;h=b,l&&(i.animateScale&&(x=0),i.animateRotate&&(g=b=c));const _={x:p,y:m,innerRadius:0,outerRadius:x,startAngle:g,endAngle:b,options:this.resolveDataElementOptions(v,y.active?"active":a)};this.updateElement(y,v,_,a)}}countVisibleElements(){const r=this._cachedMeta;let s=0;return r.data.forEach((t,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&s++}),s}_computeAngle(r,s,t){return this.chart.getDataVisibility(r)?Wr(this.resolveDataElementOptions(r,s).angle||t):0}}Qe(Ns,"id","polarArea"),Qe(Ns,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Qe(Ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const s=r.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:t,color:a}}=r.legend.options;return s.labels.map((l,o)=>{const i=r.getDatasetMeta(0).controller.getStyle(o);return{text:l,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:a,lineWidth:i.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(o),index:o}})}return[]}},onClick(r,s,t){t.chart.toggleDataVisibility(s.index),t.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class oa extends Yn{}Qe(oa,"id","pie"),Qe(oa,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ro extends Xr{getLabelAndValue(r){const s=this._cachedMeta.vScale,t=this.getParsed(r);return{label:s.getLabels()[r],value:""+s.getLabelForValue(t[s.axis])}}parseObjectData(r,s,t,a){return Rd.bind(this)(r,s,t,a)}update(r){const s=this._cachedMeta,t=s.dataset,a=s.data||[],l=s.iScale.getLabels();if(t.points=a,r!=="resize"){const o=this.resolveDatasetElementOptions(r);this.options.showLine||(o.borderWidth=0);const u={_loop:!0,_fullLoop:l.length===a.length,options:o};this.updateElement(t,void 0,u,r)}this.updateElements(a,0,a.length,r)}updateElements(r,s,t,a){const l=this._cachedMeta.rScale,o=a==="reset";for(let u=s;u<s+t;u++){const i=r[u],d=this.resolveDataElementOptions(u,i.active?"active":a),p=l.getPointPositionForValue(u,this.getParsed(u).r),m=o?l.xCenter:p.x,c=o?l.yCenter:p.y,h={x:m,y:c,angle:p.angle,skip:isNaN(m)||isNaN(c),options:d};this.updateElement(i,u,h,a)}}}Qe(Ro,"id","radar"),Qe(Ro,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Qe(Ro,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Io extends Xr{getLabelAndValue(r){const s=this._cachedMeta,t=this.chart.data.labels||[],{xScale:a,yScale:l}=s,o=this.getParsed(r),u=a.getLabelForValue(o.x),i=l.getLabelForValue(o.y);return{label:t[r]||"",value:"("+u+", "+i+")"}}update(r){const s=this._cachedMeta,{data:t=[]}=s,a=this.chart._animationsDisabled;let{start:l,count:o}=Cd(s,t,a);if(this._drawStart=l,this._drawCount=o,Md(s)&&(l=0,o=t.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:i}=s;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!i._decimated,u.points=t;const d=this.resolveDatasetElementOptions(r);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:d},r)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(t,l,o,r)}addElements(){const{showLine:r}=this.options;!this.datasetElementType&&r&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(r,s,t,a){const l=a==="reset",{iScale:o,vScale:u,_stacked:i,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(s,a),m=this.getSharedOptions(p),c=this.includeOptions(a,m),h=o.axis,v=u.axis,{spanGaps:f,segment:y}=this.options,g=gs(f)?f:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||l||a==="none";let x=s>0&&this.getParsed(s-1);for(let _=s;_<s+t;++_){const j=r[_],S=this.getParsed(_),D=b?j:{},E=_t(S[v]),T=D[h]=o.getPixelForValue(S[h],_),F=D[v]=l||E?u.getBasePixel():u.getPixelForValue(i?this.applyStack(u,S,i):S[v],_);D.skip=isNaN(T)||isNaN(F)||E,D.stop=_>0&&Math.abs(S[h]-x[h])>g,y&&(D.parsed=S,D.raw=d.data[_]),c&&(D.options=m||this.resolveDataElementOptions(_,j.active?"active":a)),b||this.updateElement(j,_,D,a),x=S}this.updateSharedOptions(m,a,p)}getMaxOverflow(){const r=this._cachedMeta,s=r.data||[];if(!this.options.showLine){let u=0;for(let i=s.length-1;i>=0;--i)u=Math.max(u,s[i].size(this.resolveDataElementOptions(i))/2);return u>0&&u}const t=r.dataset,a=t.options&&t.options.borderWidth||0;if(!s.length)return a;const l=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,l,o)/2}}Qe(Io,"id","scatter"),Qe(Io,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Qe(Io,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var q0=Object.freeze({__proto__:null,BarController:Fo,BubbleController:Po,DoughnutController:Yn,LineController:Lo,PieController:oa,PolarAreaController:Ns,RadarController:Ro,ScatterController:Io});function Gn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ba{constructor(r){Qe(this,"options");this.options=r||{}}static override(r){Object.assign(Ba.prototype,r)}init(){}formats(){return Gn()}parse(){return Gn()}format(){return Gn()}add(){return Gn()}diff(){return Gn()}startOf(){return Gn()}endOf(){return Gn()}}var X0={_date:Ba};function Y0(n,r,s,t){const{controller:a,data:l,_sorted:o}=n,u=a._cachedMeta.iScale,i=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&r===u.axis&&r!=="r"&&o&&l.length){const d=u._reversePixels?yy:yn;if(t){if(a._sharedOptions){const p=l[0],m=typeof p.getRange=="function"&&p.getRange(r);if(m){const c=d(l,r,s-m),h=d(l,r,s+m);return{lo:c.lo,hi:h.hi}}}}else{const p=d(l,r,s);if(i){const{vScale:m}=a._cachedMeta,{_parsed:c}=n,h=c.slice(0,p.lo+1).reverse().findIndex(f=>!_t(f[m.axis]));p.lo-=Math.max(0,h);const v=c.slice(p.hi).findIndex(f=>!_t(f[m.axis]));p.hi+=Math.max(0,v)}return p}}return{lo:0,hi:l.length-1}}function gi(n,r,s,t,a){const l=n.getSortedVisibleDatasetMetas(),o=s[r];for(let u=0,i=l.length;u<i;++u){const{index:d,data:p}=l[u],{lo:m,hi:c}=Y0(l[u],r,o,a);for(let h=m;h<=c;++h){const v=p[h];v.skip||t(v,d,h)}}}function $0(n){const r=n.indexOf("x")!==-1,s=n.indexOf("y")!==-1;return function(t,a){const l=r?Math.abs(t.x-a.x):0,o=s?Math.abs(t.y-a.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(o,2))}}function Bi(n,r,s,t,a){const l=[];return!a&&!n.isPointInArea(r)||gi(n,s,r,function(u,i,d){!a&&!vn(u,n.chartArea,0)||u.inRange(r.x,r.y,t)&&l.push({element:u,datasetIndex:i,index:d})},!0),l}function Z0(n,r,s,t){let a=[];function l(o,u,i){const{startAngle:d,endAngle:p}=o.getProps(["startAngle","endAngle"],t),{angle:m}=wd(o,{x:r.x,y:r.y});Ws(m,d,p)&&a.push({element:o,datasetIndex:u,index:i})}return gi(n,s,r,l),a}function K0(n,r,s,t,a,l){let o=[];const u=$0(s);let i=Number.POSITIVE_INFINITY;function d(p,m,c){const h=p.inRange(r.x,r.y,a);if(t&&!h)return;const v=p.getCenterPoint(a);if(!(!!l||n.isPointInArea(v))&&!h)return;const y=u(r,v);y<i?(o=[{element:p,datasetIndex:m,index:c}],i=y):y===i&&o.push({element:p,datasetIndex:m,index:c})}return gi(n,s,r,d),o}function Ni(n,r,s,t,a,l){return!l&&!n.isPointInArea(r)?[]:s==="r"&&!t?Z0(n,r,s,a):K0(n,r,s,t,a,l)}function Lu(n,r,s,t,a){const l=[],o=s==="x"?"inXRange":"inYRange";let u=!1;return gi(n,s,r,(i,d,p)=>{i[o]&&i[o](r[s],a)&&(l.push({element:i,datasetIndex:d,index:p}),u=u||i.inRange(r.x,r.y,a))}),t&&!u?[]:l}var Q0={modes:{index(n,r,s,t){const a=Wn(r,n),l=s.axis||"x",o=s.includeInvisible||!1,u=s.intersect?Bi(n,a,l,t,o):Ni(n,a,l,!1,t,o),i=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,m=d.data[p];m&&!m.skip&&i.push({element:m,datasetIndex:d.index,index:p})}),i):[]},dataset(n,r,s,t){const a=Wn(r,n),l=s.axis||"xy",o=s.includeInvisible||!1;let u=s.intersect?Bi(n,a,l,t,o):Ni(n,a,l,!1,t,o);if(u.length>0){const i=u[0].datasetIndex,d=n.getDatasetMeta(i).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:i,index:p})}return u},point(n,r,s,t){const a=Wn(r,n),l=s.axis||"xy",o=s.includeInvisible||!1;return Bi(n,a,l,t,o)},nearest(n,r,s,t){const a=Wn(r,n),l=s.axis||"xy",o=s.includeInvisible||!1;return Ni(n,a,l,s.intersect,t,o)},x(n,r,s,t){const a=Wn(r,n);return Lu(n,a,"x",s.intersect,t)},y(n,r,s,t){const a=Wn(r,n);return Lu(n,a,"y",s.intersect,t)}}};const qd=["left","top","right","bottom"];function Ds(n,r){return n.filter(s=>s.pos===r)}function Ru(n,r){return n.filter(s=>qd.indexOf(s.pos)===-1&&s.box.axis===r)}function Es(n,r){return n.sort((s,t)=>{const a=r?t:s,l=r?s:t;return a.weight===l.weight?a.index-l.index:a.weight-l.weight})}function J0(n){const r=[];let s,t,a,l,o,u;for(s=0,t=(n||[]).length;s<t;++s)a=n[s],{position:l,options:{stack:o,stackWeight:u=1}}=a,r.push({index:s,box:a,pos:l,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&l+o,stackWeight:u});return r}function ev(n){const r={};for(const s of n){const{stack:t,pos:a,stackWeight:l}=s;if(!t||!qd.includes(a))continue;const o=r[t]||(r[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=l}return r}function tv(n,r){const s=ev(n),{vBoxMaxWidth:t,hBoxMaxHeight:a}=r;let l,o,u;for(l=0,o=n.length;l<o;++l){u=n[l];const{fullSize:i}=u.box,d=s[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*t:i&&r.availableWidth,u.height=a):(u.width=t,u.height=p?p*a:i&&r.availableHeight)}return s}function rv(n){const r=J0(n),s=Es(r.filter(d=>d.box.fullSize),!0),t=Es(Ds(r,"left"),!0),a=Es(Ds(r,"right")),l=Es(Ds(r,"top"),!0),o=Es(Ds(r,"bottom")),u=Ru(r,"x"),i=Ru(r,"y");return{fullSize:s,leftAndTop:t.concat(l),rightAndBottom:a.concat(i).concat(o).concat(u),chartArea:Ds(r,"chartArea"),vertical:t.concat(a).concat(i),horizontal:l.concat(o).concat(u)}}function Iu(n,r,s,t){return Math.max(n[s],r[s])+Math.max(n[t],r[t])}function Xd(n,r){n.top=Math.max(n.top,r.top),n.left=Math.max(n.left,r.left),n.bottom=Math.max(n.bottom,r.bottom),n.right=Math.max(n.right,r.right)}function nv(n,r,s,t){const{pos:a,box:l}=s,o=n.maxPadding;if(!xt(a)){s.size&&(n[a]-=s.size);const m=t[s.stack]||{size:0,count:1};m.size=Math.max(m.size,s.horizontal?l.height:l.width),s.size=m.size/m.count,n[a]+=s.size}l.getPadding&&Xd(o,l.getPadding());const u=Math.max(0,r.outerWidth-Iu(o,n,"left","right")),i=Math.max(0,r.outerHeight-Iu(o,n,"top","bottom")),d=u!==n.w,p=i!==n.h;return n.w=u,n.h=i,s.horizontal?{same:d,other:p}:{same:p,other:d}}function sv(n){const r=n.maxPadding;function s(t){const a=Math.max(r[t]-n[t],0);return n[t]+=a,a}n.y+=s("top"),n.x+=s("left"),s("right"),s("bottom")}function ov(n,r){const s=r.maxPadding;function t(a){const l={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{l[o]=Math.max(r[o],s[o])}),l}return t(n?["left","right"]:["top","bottom"])}function ks(n,r,s,t){const a=[];let l,o,u,i,d,p;for(l=0,o=n.length,d=0;l<o;++l){u=n[l],i=u.box,i.update(u.width||r.w,u.height||r.h,ov(u.horizontal,r));const{same:m,other:c}=nv(r,s,u,t);d|=m&&a.length,p=p||c,i.fullSize||a.push(u)}return d&&ks(a,r,s,t)||p}function mo(n,r,s,t,a){n.top=s,n.left=r,n.right=r+t,n.bottom=s+a,n.width=t,n.height=a}function Bu(n,r,s,t){const a=s.padding;let{x:l,y:o}=r;for(const u of n){const i=u.box,d=t[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const m=r.w*p,c=d.size||i.height;Hs(d.start)&&(o=d.start),i.fullSize?mo(i,a.left,o,s.outerWidth-a.right-a.left,c):mo(i,r.left+d.placed,o,m,c),d.start=o,d.placed+=m,o=i.bottom}else{const m=r.h*p,c=d.size||i.width;Hs(d.start)&&(l=d.start),i.fullSize?mo(i,l,a.top,c,s.outerHeight-a.bottom-a.top):mo(i,l,r.top+d.placed,c,m),d.start=l,d.placed+=m,l=i.right}}r.x=l,r.y=o}var Dr={addBox(n,r){n.boxes||(n.boxes=[]),r.fullSize=r.fullSize||!1,r.position=r.position||"top",r.weight=r.weight||0,r._layers=r._layers||function(){return[{z:0,draw(s){r.draw(s)}}]},n.boxes.push(r)},removeBox(n,r){const s=n.boxes?n.boxes.indexOf(r):-1;s!==-1&&n.boxes.splice(s,1)},configure(n,r,s){r.fullSize=s.fullSize,r.position=s.position,r.weight=s.weight},update(n,r,s,t){if(!n)return;const a=Cr(n.options.layout.padding),l=Math.max(r-a.width,0),o=Math.max(s-a.height,0),u=rv(n.boxes),i=u.vertical,d=u.horizontal;Ct(n.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});const p=i.reduce((f,y)=>y.box.options&&y.box.options.display===!1?f:f+1,0)||1,m=Object.freeze({outerWidth:r,outerHeight:s,padding:a,availableWidth:l,availableHeight:o,vBoxMaxWidth:l/2/p,hBoxMaxHeight:o/2}),c=Object.assign({},a);Xd(c,Cr(t));const h=Object.assign({maxPadding:c,w:l,h:o,x:a.left,y:a.top},a),v=tv(i.concat(d),m);ks(u.fullSize,h,m,v),ks(i,h,m,v),ks(d,h,m,v)&&ks(i,h,m,v),sv(h),Bu(u.leftAndTop,h,m,v),h.x+=h.w,h.y+=h.h,Bu(u.rightAndBottom,h,m,v),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ct(u.chartArea,f=>{const y=f.box;Object.assign(y,n.chartArea),y.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Yd{acquireContext(r,s){}releaseContext(r){return!1}addEventListener(r,s,t){}removeEventListener(r,s,t){}getDevicePixelRatio(){return 1}getMaximumSize(r,s,t,a){return s=Math.max(0,s||r.width),t=t||r.height,{width:s,height:Math.max(0,a?Math.floor(s/a):t)}}isAttached(r){return!0}updateConfig(r){}}class iv extends Yd{acquireContext(r){return r&&r.getContext&&r.getContext("2d")||null}updateConfig(r){r.options.animation=!1}}const Bo="$chartjs",av={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nu=n=>n===null||n==="";function lv(n,r){const s=n.style,t=n.getAttribute("height"),a=n.getAttribute("width");if(n[Bo]={initial:{height:t,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Nu(a)){const l=wu(n,"width");l!==void 0&&(n.width=l)}if(Nu(t))if(n.style.height==="")n.height=n.width/(r||2);else{const l=wu(n,"height");l!==void 0&&(n.height=l)}return n}const $d=c0?{passive:!0}:!1;function uv(n,r,s){n&&n.addEventListener(r,s,$d)}function cv(n,r,s){n&&n.canvas&&n.canvas.removeEventListener(r,s,$d)}function dv(n,r){const s=av[n.type]||n.type,{x:t,y:a}=Wn(n,r);return{type:s,chart:r,native:n,x:t!==void 0?t:null,y:a!==void 0?a:null}}function si(n,r){for(const s of n)if(s===r||s.contains(r))return!0}function hv(n,r,s){const t=n.canvas,a=new MutationObserver(l=>{let o=!1;for(const u of l)o=o||si(u.addedNodes,t),o=o&&!si(u.removedNodes,t);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function fv(n,r,s){const t=n.canvas,a=new MutationObserver(l=>{let o=!1;for(const u of l)o=o||si(u.removedNodes,t),o=o&&!si(u.addedNodes,t);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const Xs=new Map;let Uu=0;function Zd(){const n=window.devicePixelRatio;n!==Uu&&(Uu=n,Xs.forEach((r,s)=>{s.currentDevicePixelRatio!==n&&r()}))}function pv(n,r){Xs.size||window.addEventListener("resize",Zd),Xs.set(n,r)}function mv(n){Xs.delete(n),Xs.size||window.removeEventListener("resize",Zd)}function gv(n,r,s){const t=n.canvas,a=t&&Ia(t);if(!a)return;const l=Ed((u,i)=>{const d=a.clientWidth;s(u,i),d<a.clientWidth&&s()},window),o=new ResizeObserver(u=>{const i=u[0],d=i.contentRect.width,p=i.contentRect.height;d===0&&p===0||l(d,p)});return o.observe(a),pv(n,l),o}function Ui(n,r,s){s&&s.disconnect(),r==="resize"&&mv(n)}function yv(n,r,s){const t=n.canvas,a=Ed(l=>{n.ctx!==null&&s(dv(l,n))},n);return uv(t,r,a),a}class vv extends Yd{acquireContext(r,s){const t=r&&r.getContext&&r.getContext("2d");return t&&t.canvas===r?(lv(r,s),t):null}releaseContext(r){const s=r.canvas;if(!s[Bo])return!1;const t=s[Bo].initial;["height","width"].forEach(l=>{const o=t[l];_t(o)?s.removeAttribute(l):s.setAttribute(l,o)});const a=t.style||{};return Object.keys(a).forEach(l=>{s.style[l]=a[l]}),s.width=s.width,delete s[Bo],!0}addEventListener(r,s,t){this.removeEventListener(r,s);const a=r.$proxies||(r.$proxies={}),o={attach:hv,detach:fv,resize:gv}[s]||yv;a[s]=o(r,s,t)}removeEventListener(r,s){const t=r.$proxies||(r.$proxies={}),a=t[s];if(!a)return;({attach:Ui,detach:Ui,resize:Ui}[s]||cv)(r,s,a),t[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(r,s,t,a){return u0(r,s,t,a)}isAttached(r){const s=r&&Ia(r);return!!(s&&s.isConnected)}}function bv(n){return!Ra()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?iv:vv}class Yr{constructor(){Qe(this,"x");Qe(this,"y");Qe(this,"active",!1);Qe(this,"options");Qe(this,"$animations")}tooltipPosition(r){const{x:s,y:t}=this.getProps(["x","y"],r);return{x:s,y:t}}hasValue(){return gs(this.x)&&gs(this.y)}getProps(r,s){const t=this.$animations;if(!s||!t)return this;const a={};return r.forEach(l=>{a[l]=t[l]&&t[l].active()?t[l]._to:this[l]}),a}}Qe(Yr,"defaults",{}),Qe(Yr,"defaultRoutes");function _v(n,r){const s=n.options.ticks,t=xv(n),a=Math.min(s.maxTicksLimit||t,t),l=s.major.enabled?jv(r):[],o=l.length,u=l[0],i=l[o-1],d=[];if(o>a)return Sv(r,d,l,o/a),d;const p=wv(l,r,a);if(o>0){let m,c;const h=o>1?Math.round((i-u)/(o-1)):null;for(go(r,d,p,_t(h)?0:u-h,u),m=0,c=o-1;m<c;m++)go(r,d,p,l[m],l[m+1]);return go(r,d,p,i,_t(h)?r.length:i+h),d}return go(r,d,p),d}function xv(n){const r=n.options.offset,s=n._tickSize(),t=n._length/s+(r?0:1),a=n._maxLength/s;return Math.floor(Math.min(t,a))}function wv(n,r,s){const t=Dv(n),a=r.length/s;if(!t)return Math.max(a,1);const l=hy(t);for(let o=0,u=l.length-1;o<u;o++){const i=l[o];if(i>a)return i}return Math.max(a,1)}function jv(n){const r=[];let s,t;for(s=0,t=n.length;s<t;s++)n[s].major&&r.push(s);return r}function Sv(n,r,s,t){let a=0,l=s[0],o;for(t=Math.ceil(t),o=0;o<n.length;o++)o===l&&(r.push(n[o]),a++,l=s[a*t])}function go(n,r,s,t,a){const l=yt(t,0),o=Math.min(yt(a,n.length),n.length);let u=0,i,d,p;for(s=Math.ceil(s),a&&(i=a-t,s=i/Math.floor(i/s)),p=l;p<0;)u++,p=Math.round(l+u*s);for(d=Math.max(l,0);d<o;d++)d===p&&(r.push(n[d]),u++,p=Math.round(l+u*s))}function Dv(n){const r=n.length;let s,t;if(r<2)return!1;for(t=n[0],s=1;s<r;++s)if(n[s]-n[s-1]!==t)return!1;return t}const Ev=n=>n==="left"?"right":n==="right"?"left":n,zu=(n,r,s)=>r==="top"||r==="left"?n[r]+s:n[r]-s,Gu=(n,r)=>Math.min(r||n,n);function Vu(n,r){const s=[],t=n.length/r,a=n.length;let l=0;for(;l<a;l+=t)s.push(n[Math.floor(l)]);return s}function Cv(n,r,s){const t=n.ticks.length,a=Math.min(r,t-1),l=n._startPixel,o=n._endPixel,u=1e-6;let i=n.getPixelForTick(a),d;if(!(s&&(t===1?d=Math.max(i-l,o-i):r===0?d=(n.getPixelForTick(1)-i)/2:d=(i-n.getPixelForTick(a-1))/2,i+=a<r?d:-d,i<l-u||i>o+u)))return i}function Mv(n,r){Ct(n,s=>{const t=s.gc,a=t.length/2;let l;if(a>r){for(l=0;l<a;++l)delete s.data[t[l]];t.splice(0,a)}})}function Cs(n){return n.drawTicks?n.tickLength:0}function Hu(n,r){if(!n.display)return 0;const s=lr(n.font,r),t=Cr(n.padding);return(Ht(n.text)?n.text.length:1)*s.lineHeight+t.height}function Av(n,r){return Pn(n,{scale:r,type:"scale"})}function Tv(n,r,s){return Pn(n,{tick:s,index:r,type:"tick"})}function kv(n,r,s){let t=Ta(n);return(s&&r!=="right"||!s&&r==="right")&&(t=Ev(t)),t}function Ov(n,r,s,t){const{top:a,left:l,bottom:o,right:u,chart:i}=n,{chartArea:d,scales:p}=i;let m=0,c,h,v;const f=o-a,y=u-l;if(n.isHorizontal()){if(h=jr(t,l,u),xt(s)){const g=Object.keys(s)[0],b=s[g];v=p[g].getPixelForValue(b)+f-r}else s==="center"?v=(d.bottom+d.top)/2+f-r:v=zu(n,s,r);c=u-l}else{if(xt(s)){const g=Object.keys(s)[0],b=s[g];h=p[g].getPixelForValue(b)-y+r}else s==="center"?h=(d.left+d.right)/2-y+r:h=zu(n,s,r);v=jr(t,o,a),m=s==="left"?-Qt:Qt}return{titleX:h,titleY:v,maxWidth:c,rotation:m}}class es extends Yr{constructor(r){super(),this.id=r.id,this.type=r.type,this.options=void 0,this.ctx=r.ctx,this.chart=r.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(r){this.options=r.setContext(this.getContext()),this.axis=r.axis,this._userMin=this.parse(r.min),this._userMax=this.parse(r.max),this._suggestedMin=this.parse(r.suggestedMin),this._suggestedMax=this.parse(r.suggestedMax)}parse(r,s){return r}getUserBounds(){let{_userMin:r,_userMax:s,_suggestedMin:t,_suggestedMax:a}=this;return r=Pr(r,Number.POSITIVE_INFINITY),s=Pr(s,Number.NEGATIVE_INFINITY),t=Pr(t,Number.POSITIVE_INFINITY),a=Pr(a,Number.NEGATIVE_INFINITY),{min:Pr(r,t),max:Pr(s,a),minDefined:Kt(r),maxDefined:Kt(s)}}getMinMax(r){let{min:s,max:t,minDefined:a,maxDefined:l}=this.getUserBounds(),o;if(a&&l)return{min:s,max:t};const u=this.getMatchingVisibleMetas();for(let i=0,d=u.length;i<d;++i)o=u[i].controller.getMinMax(this,r),a||(s=Math.min(s,o.min)),l||(t=Math.max(t,o.max));return s=l&&s>t?t:s,t=a&&s>t?s:t,{min:Pr(s,Pr(t,s)),max:Pr(t,Pr(s,t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const r=this.chart.data;return this.options.labels||(this.isHorizontal()?r.xLabels:r.yLabels)||r.labels||[]}getLabelItems(r=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(r))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lt(this.options.beforeUpdate,[this])}update(r,s,t){const{beginAtZero:a,grace:l,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=r,this.maxHeight=s,this._margins=t=Object.assign({left:0,right:0,top:0,bottom:0},t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+t.left+t.right:this.height+t.top+t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zy(this,l,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const i=u<this.ticks.length;this._convertTicksToLabels(i?Vu(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=_v(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let r=this.options.reverse,s,t;this.isHorizontal()?(s=this.left,t=this.right):(s=this.top,t=this.bottom,r=!r),this._startPixel=s,this._endPixel=t,this._reversePixels=r,this._length=t-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lt(this.options.afterUpdate,[this])}beforeSetDimensions(){Lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lt(this.options.afterSetDimensions,[this])}_callHooks(r){this.chart.notifyPlugins(r,this.getContext()),Lt(this.options[r],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(r){const s=this.options.ticks;let t,a,l;for(t=0,a=r.length;t<a;t++)l=r[t],l.label=Lt(s.callback,[l.value,t,r],this)}afterTickToLabelConversion(){Lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const r=this.options,s=r.ticks,t=Gu(this.ticks.length,r.ticks.maxTicksLimit),a=s.minRotation||0,l=s.maxRotation;let o=a,u,i,d;if(!this._isVisible()||!s.display||a>=l||t<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),m=p.widest.width,c=p.highest.height,h=fr(this.chart.width-m,0,this.maxWidth);u=r.offset?this.maxWidth/t:h/(t-1),m+6>u&&(u=h/(t-(r.offset?.5:1)),i=this.maxHeight-Cs(r.grid)-s.padding-Hu(r.title,this.chart.options.font),d=Math.sqrt(m*m+c*c),o=Ma(Math.min(Math.asin(fr((p.highest.height+6)/u,-1,1)),Math.asin(fr(i/d,-1,1))-Math.asin(fr(c/d,-1,1)))),o=Math.max(a,Math.min(l,o))),this.labelRotation=o}afterCalculateLabelRotation(){Lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lt(this.options.beforeFit,[this])}fit(){const r={width:0,height:0},{chart:s,options:{ticks:t,title:a,grid:l}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const i=Hu(a,s.options.font);if(u?(r.width=this.maxWidth,r.height=Cs(l)+i):(r.height=this.maxHeight,r.width=Cs(l)+i),t.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:c}=this._getLabelSizes(),h=t.padding*2,v=Wr(this.labelRotation),f=Math.cos(v),y=Math.sin(v);if(u){const g=t.mirror?0:y*m.width+f*c.height;r.height=Math.min(this.maxHeight,r.height+g+h)}else{const g=t.mirror?0:f*m.width+y*c.height;r.width=Math.min(this.maxWidth,r.width+g+h)}this._calculatePadding(d,p,y,f)}}this._handleMargins(),u?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=r.height):(this.width=r.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(r,s,t,a){const{ticks:{align:l,padding:o},position:u}=this.options,i=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,h=0;i?d?(c=a*r.width,h=t*s.height):(c=t*r.height,h=a*s.width):l==="start"?h=s.width:l==="end"?c=r.width:l!=="inner"&&(c=r.width/2,h=s.width/2),this.paddingLeft=Math.max((c-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((h-m+o)*this.width/(this.width-m),0)}else{let p=s.height/2,m=r.height/2;l==="start"?(p=0,m=r.height):l==="end"&&(p=s.height,m=0),this.paddingTop=p+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lt(this.options.afterFit,[this])}isHorizontal(){const{axis:r,position:s}=this.options;return s==="top"||s==="bottom"||r==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(r){this.beforeTickToLabelConversion(),this.generateTickLabels(r);let s,t;for(s=0,t=r.length;s<t;s++)_t(r[s].label)&&(r.splice(s,1),t--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let r=this._labelSizes;if(!r){const s=this.options.ticks.sampleSize;let t=this.ticks;s<t.length&&(t=Vu(t,s)),this._labelSizes=r=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return r}_computeLabelSizes(r,s,t){const{ctx:a,_longestTextCache:l}=this,o=[],u=[],i=Math.floor(s/Gu(s,t));let d=0,p=0,m,c,h,v,f,y,g,b,x,_,j;for(m=0;m<s;m+=i){if(v=r[m].label,f=this._resolveTickFontOptions(m),a.font=y=f.string,g=l[y]=l[y]||{data:{},gc:[]},b=f.lineHeight,x=_=0,!_t(v)&&!Ht(v))x=ri(a,g.data,g.gc,x,v),_=b;else if(Ht(v))for(c=0,h=v.length;c<h;++c)j=v[c],!_t(j)&&!Ht(j)&&(x=ri(a,g.data,g.gc,x,j),_+=b);o.push(x),u.push(_),d=Math.max(x,d),p=Math.max(_,p)}Mv(l,s);const S=o.indexOf(d),D=u.indexOf(p),E=T=>({width:o[T]||0,height:u[T]||0});return{first:E(0),last:E(s-1),widest:E(S),highest:E(D),widths:o,heights:u}}getLabelForValue(r){return r}getPixelForValue(r,s){return NaN}getValueForPixel(r){}getPixelForTick(r){const s=this.ticks;return r<0||r>s.length-1?null:this.getPixelForValue(s[r].value)}getPixelForDecimal(r){this._reversePixels&&(r=1-r);const s=this._startPixel+r*this._length;return gy(this._alignToPixels?zn(this.chart,s,0):s)}getDecimalForPixel(r){const s=(r-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:r,max:s}=this;return r<0&&s<0?s:r>0&&s>0?r:0}getContext(r){const s=this.ticks||[];if(r>=0&&r<s.length){const t=s[r];return t.$context||(t.$context=Tv(this.getContext(),r,t))}return this.$context||(this.$context=Av(this.chart.getContext(),this))}_tickSize(){const r=this.options.ticks,s=Wr(this.labelRotation),t=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),l=this._getLabelSizes(),o=r.autoSkipPadding||0,u=l?l.widest.width+o:0,i=l?l.highest.height+o:0;return this.isHorizontal()?i*t>u*a?u/t:i/a:i*a<u*t?i/t:u/a}_isVisible(){const r=this.options.display;return r!=="auto"?!!r:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(r){const s=this.axis,t=this.chart,a=this.options,{grid:l,position:o,border:u}=a,i=l.offset,d=this.isHorizontal(),m=this.ticks.length+(i?1:0),c=Cs(l),h=[],v=u.setContext(this.getContext()),f=v.display?v.width:0,y=f/2,g=function(N){return zn(t,N,f)};let b,x,_,j,S,D,E,T,F,A,L,O;if(o==="top")b=g(this.bottom),D=this.bottom-c,T=b-y,A=g(r.top)+y,O=r.bottom;else if(o==="bottom")b=g(this.top),A=r.top,O=g(r.bottom)-y,D=b+y,T=this.top+c;else if(o==="left")b=g(this.right),S=this.right-c,E=b-y,F=g(r.left)+y,L=r.right;else if(o==="right")b=g(this.left),F=r.left,L=g(r.right)-y,S=b+y,E=this.left+c;else if(s==="x"){if(o==="center")b=g((r.top+r.bottom)/2+.5);else if(xt(o)){const N=Object.keys(o)[0],H=o[N];b=g(this.chart.scales[N].getPixelForValue(H))}A=r.top,O=r.bottom,D=b+y,T=D+c}else if(s==="y"){if(o==="center")b=g((r.left+r.right)/2);else if(xt(o)){const N=Object.keys(o)[0],H=o[N];b=g(this.chart.scales[N].getPixelForValue(H))}S=b-y,E=S-c,F=r.left,L=r.right}const B=yt(a.ticks.maxTicksLimit,m),I=Math.max(1,Math.ceil(m/B));for(x=0;x<m;x+=I){const N=this.getContext(x),H=l.setContext(N),V=u.setContext(N),G=H.lineWidth,Y=H.color,K=V.dash||[],se=V.dashOffset,M=H.tickWidth,R=H.tickColor,z=H.tickBorderDash||[],W=H.tickBorderDashOffset;_=Cv(this,x,i),_!==void 0&&(j=zn(t,_,G),d?S=E=F=L=j:D=T=A=O=j,h.push({tx1:S,ty1:D,tx2:E,ty2:T,x1:F,y1:A,x2:L,y2:O,width:G,color:Y,borderDash:K,borderDashOffset:se,tickWidth:M,tickColor:R,tickBorderDash:z,tickBorderDashOffset:W}))}return this._ticksLength=m,this._borderValue=b,h}_computeLabelItems(r){const s=this.axis,t=this.options,{position:a,ticks:l}=t,o=this.isHorizontal(),u=this.ticks,{align:i,crossAlign:d,padding:p,mirror:m}=l,c=Cs(t.grid),h=c+p,v=m?-p:h,f=-Wr(this.labelRotation),y=[];let g,b,x,_,j,S,D,E,T,F,A,L,O="middle";if(a==="top")S=this.bottom-v,D=this._getXAxisLabelAlignment();else if(a==="bottom")S=this.top+v,D=this._getXAxisLabelAlignment();else if(a==="left"){const I=this._getYAxisLabelAlignment(c);D=I.textAlign,j=I.x}else if(a==="right"){const I=this._getYAxisLabelAlignment(c);D=I.textAlign,j=I.x}else if(s==="x"){if(a==="center")S=(r.top+r.bottom)/2+h;else if(xt(a)){const I=Object.keys(a)[0],N=a[I];S=this.chart.scales[I].getPixelForValue(N)+h}D=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")j=(r.left+r.right)/2-h;else if(xt(a)){const I=Object.keys(a)[0],N=a[I];j=this.chart.scales[I].getPixelForValue(N)}D=this._getYAxisLabelAlignment(c).textAlign}s==="y"&&(i==="start"?O="top":i==="end"&&(O="bottom"));const B=this._getLabelSizes();for(g=0,b=u.length;g<b;++g){x=u[g],_=x.label;const I=l.setContext(this.getContext(g));E=this.getPixelForTick(g)+l.labelOffset,T=this._resolveTickFontOptions(g),F=T.lineHeight,A=Ht(_)?_.length:1;const N=A/2,H=I.color,V=I.textStrokeColor,G=I.textStrokeWidth;let Y=D;o?(j=E,D==="inner"&&(g===b-1?Y=this.options.reverse?"left":"right":g===0?Y=this.options.reverse?"right":"left":Y="center"),a==="top"?d==="near"||f!==0?L=-A*F+F/2:d==="center"?L=-B.highest.height/2-N*F+F:L=-B.highest.height+F/2:d==="near"||f!==0?L=F/2:d==="center"?L=B.highest.height/2-N*F:L=B.highest.height-A*F,m&&(L*=-1),f!==0&&!I.showLabelBackdrop&&(j+=F/2*Math.sin(f))):(S=E,L=(1-A)*F/2);let K;if(I.showLabelBackdrop){const se=Cr(I.backdropPadding),M=B.heights[g],R=B.widths[g];let z=L-se.top,W=0-se.left;switch(O){case"middle":z-=M/2;break;case"bottom":z-=M;break}switch(D){case"center":W-=R/2;break;case"right":W-=R;break;case"inner":g===b-1?W-=R:g>0&&(W-=R/2);break}K={left:W,top:z,width:R+se.width,height:M+se.height,color:I.backdropColor}}y.push({label:_,font:T,textOffset:L,options:{rotation:f,color:H,strokeColor:V,strokeWidth:G,textAlign:Y,textBaseline:O,translation:[j,S],backdrop:K}})}return y}_getXAxisLabelAlignment(){const{position:r,ticks:s}=this.options;if(-Wr(this.labelRotation))return r==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(r){const{position:s,ticks:{crossAlign:t,mirror:a,padding:l}}=this.options,o=this._getLabelSizes(),u=r+l,i=o.widest.width;let d,p;return s==="left"?a?(p=this.right+l,t==="near"?d="left":t==="center"?(d="center",p+=i/2):(d="right",p+=i)):(p=this.right-u,t==="near"?d="right":t==="center"?(d="center",p-=i/2):(d="left",p=this.left)):s==="right"?a?(p=this.left+l,t==="near"?d="right":t==="center"?(d="center",p-=i/2):(d="left",p-=i)):(p=this.left+u,t==="near"?d="left":t==="center"?(d="center",p+=i/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const r=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:r.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:r.width}}drawBackground(){const{ctx:r,options:{backgroundColor:s},left:t,top:a,width:l,height:o}=this;s&&(r.save(),r.fillStyle=s,r.fillRect(t,a,l,o),r.restore())}getLineWidthForValue(r){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(l=>l.value===r);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(r){const s=this.options.grid,t=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(r));let l,o;const u=(i,d,p)=>{!p.width||!p.color||(t.save(),t.lineWidth=p.width,t.strokeStyle=p.color,t.setLineDash(p.borderDash||[]),t.lineDashOffset=p.borderDashOffset,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(d.x,d.y),t.stroke(),t.restore())};if(s.display)for(l=0,o=a.length;l<o;++l){const i=a[l];s.drawOnChartArea&&u({x:i.x1,y:i.y1},{x:i.x2,y:i.y2},i),s.drawTicks&&u({x:i.tx1,y:i.ty1},{x:i.tx2,y:i.ty2},{color:i.tickColor,width:i.tickWidth,borderDash:i.tickBorderDash,borderDashOffset:i.tickBorderDashOffset})}}drawBorder(){const{chart:r,ctx:s,options:{border:t,grid:a}}=this,l=t.setContext(this.getContext()),o=t.display?l.width:0;if(!o)return;const u=a.setContext(this.getContext(0)).lineWidth,i=this._borderValue;let d,p,m,c;this.isHorizontal()?(d=zn(r,this.left,o)-o/2,p=zn(r,this.right,u)+u/2,m=c=i):(m=zn(r,this.top,o)-o/2,c=zn(r,this.bottom,u)+u/2,d=p=i),s.save(),s.lineWidth=l.width,s.strokeStyle=l.color,s.beginPath(),s.moveTo(d,m),s.lineTo(p,c),s.stroke(),s.restore()}drawLabels(r){if(!this.options.ticks.display)return;const t=this.ctx,a=this._computeLabelArea();a&&fi(t,a);const l=this.getLabelItems(r);for(const o of l){const u=o.options,i=o.font,d=o.label,p=o.textOffset;Jn(t,d,0,p,i,u)}a&&pi(t)}drawTitle(){const{ctx:r,options:{position:s,title:t,reverse:a}}=this;if(!t.display)return;const l=lr(t.font),o=Cr(t.padding),u=t.align;let i=l.lineHeight/2;s==="bottom"||s==="center"||xt(s)?(i+=o.bottom,Ht(t.text)&&(i+=l.lineHeight*(t.text.length-1))):i+=o.top;const{titleX:d,titleY:p,maxWidth:m,rotation:c}=Ov(this,i,s,u);Jn(r,t.text,0,0,l,{color:t.color,maxWidth:m,rotation:c,textAlign:kv(u,s,a),textBaseline:"middle",translation:[d,p]})}draw(r){this._isVisible()&&(this.drawBackground(),this.drawGrid(r),this.drawBorder(),this.drawTitle(),this.drawLabels(r))}_layers(){const r=this.options,s=r.ticks&&r.ticks.z||0,t=yt(r.grid&&r.grid.z,-1),a=yt(r.border&&r.border.z,0);return!this._isVisible()||this.draw!==es.prototype.draw?[{z:s,draw:l=>{this.draw(l)}}]:[{z:t,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(r){const s=this.chart.getSortedVisibleDatasetMetas(),t=this.axis+"AxisID",a=[];let l,o;for(l=0,o=s.length;l<o;++l){const u=s[l];u[t]===this.id&&(!r||u.type===r)&&a.push(u)}return a}_resolveTickFontOptions(r){const s=this.options.ticks.setContext(this.getContext(r));return lr(s.font)}_maxDigits(){const r=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/r}}class yo{constructor(r,s,t){this.type=r,this.scope=s,this.override=t,this.items=Object.create(null)}isForType(r){return Object.prototype.isPrototypeOf.call(this.type.prototype,r.prototype)}register(r){const s=Object.getPrototypeOf(r);let t;Lv(s)&&(t=this.register(s));const a=this.items,l=r.id,o=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+r);return l in a||(a[l]=r,Fv(r,o,t),this.override&&Wt.override(r.id,r.overrides)),o}get(r){return this.items[r]}unregister(r){const s=this.items,t=r.id,a=this.scope;t in s&&delete s[t],a&&t in Wt[a]&&(delete Wt[a][t],this.override&&delete Qn[t])}}function Fv(n,r,s){const t=Vs(Object.create(null),[s?Wt.get(s):{},Wt.get(r),n.defaults]);Wt.set(r,t),n.defaultRoutes&&Pv(r,n.defaultRoutes),n.descriptors&&Wt.describe(r,n.descriptors)}function Pv(n,r){Object.keys(r).forEach(s=>{const t=s.split("."),a=t.pop(),l=[n].concat(t).join("."),o=r[s].split("."),u=o.pop(),i=o.join(".");Wt.route(l,a,i,u)})}function Lv(n){return"id"in n&&"defaults"in n}class Rv{constructor(){this.controllers=new yo(Xr,"datasets",!0),this.elements=new yo(Yr,"elements"),this.plugins=new yo(Object,"plugins"),this.scales=new yo(es,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...r){this._each("register",r)}remove(...r){this._each("unregister",r)}addControllers(...r){this._each("register",r,this.controllers)}addElements(...r){this._each("register",r,this.elements)}addPlugins(...r){this._each("register",r,this.plugins)}addScales(...r){this._each("register",r,this.scales)}getController(r){return this._get(r,this.controllers,"controller")}getElement(r){return this._get(r,this.elements,"element")}getPlugin(r){return this._get(r,this.plugins,"plugin")}getScale(r){return this._get(r,this.scales,"scale")}removeControllers(...r){this._each("unregister",r,this.controllers)}removeElements(...r){this._each("unregister",r,this.elements)}removePlugins(...r){this._each("unregister",r,this.plugins)}removeScales(...r){this._each("unregister",r,this.scales)}_each(r,s,t){[...s].forEach(a=>{const l=t||this._getRegistryForType(a);t||l.isForType(a)||l===this.plugins&&a.id?this._exec(r,l,a):Ct(a,o=>{const u=t||this._getRegistryForType(o);this._exec(r,u,o)})})}_exec(r,s,t){const a=Ca(r);Lt(t["before"+a],[],t),s[r](t),Lt(t["after"+a],[],t)}_getRegistryForType(r){for(let s=0;s<this._typedRegistries.length;s++){const t=this._typedRegistries[s];if(t.isForType(r))return t}return this.plugins}_get(r,s,t){const a=s.get(r);if(a===void 0)throw new Error('"'+r+'" is not a registered '+t+".");return a}}var tn=new Rv;class Iv{constructor(){this._init=[]}notify(r,s,t,a){s==="beforeInit"&&(this._init=this._createDescriptors(r,!0),this._notify(this._init,r,"install"));const l=a?this._descriptors(r).filter(a):this._descriptors(r),o=this._notify(l,r,s,t);return s==="afterDestroy"&&(this._notify(l,r,"stop"),this._notify(this._init,r,"uninstall")),o}_notify(r,s,t,a){a=a||{};for(const l of r){const o=l.plugin,u=o[t],i=[s,a,l.options];if(Lt(u,i,o)===!1&&a.cancelable)return!1}return!0}invalidate(){_t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(r){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(r);return this._notifyStateChanges(r),s}_createDescriptors(r,s){const t=r&&r.config,a=yt(t.options&&t.options.plugins,{}),l=Bv(t);return a===!1&&!s?[]:Uv(r,l,a,s)}_notifyStateChanges(r){const s=this._oldCache||[],t=this._cache,a=(l,o)=>l.filter(u=>!o.some(i=>u.plugin.id===i.plugin.id));this._notify(a(s,t),r,"stop"),this._notify(a(t,s),r,"start")}}function Bv(n){const r={},s=[],t=Object.keys(tn.plugins.items);for(let l=0;l<t.length;l++)s.push(tn.getPlugin(t[l]));const a=n.plugins||[];for(let l=0;l<a.length;l++){const o=a[l];s.indexOf(o)===-1&&(s.push(o),r[o.id]=!0)}return{plugins:s,localIds:r}}function Nv(n,r){return!r&&n===!1?null:n===!0?{}:n}function Uv(n,{plugins:r,localIds:s},t,a){const l=[],o=n.getContext();for(const u of r){const i=u.id,d=Nv(t[i],a);d!==null&&l.push({plugin:u,options:zv(n.config,{plugin:u,local:s[i]},d,o)})}return l}function zv(n,{plugin:r,local:s},t,a){const l=n.pluginScopeKeys(r),o=n.getOptionScopes(t,l);return s&&r.defaults&&o.push(r.defaults),n.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ia(n,r){const s=Wt.datasets[n]||{};return((r.datasets||{})[n]||{}).indexAxis||r.indexAxis||s.indexAxis||"x"}function Gv(n,r){let s=n;return n==="_index_"?s=r:n==="_value_"&&(s=r==="x"?"y":"x"),s}function Vv(n,r){return n===r?"_index_":"_value_"}function Wu(n){if(n==="x"||n==="y"||n==="r")return n}function Hv(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function aa(n,...r){if(Wu(n))return n;for(const s of r){const t=s.axis||Hv(s.position)||n.length>1&&Wu(n[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function qu(n,r,s){if(s[r+"AxisID"]===n)return{axis:r}}function Wv(n,r){if(r.data&&r.data.datasets){const s=r.data.datasets.filter(t=>t.xAxisID===n||t.yAxisID===n);if(s.length)return qu(n,"x",s[0])||qu(n,"y",s[0])}return{}}function qv(n,r){const s=Qn[n.type]||{scales:{}},t=r.scales||{},a=ia(n.type,r),l=Object.create(null);return Object.keys(t).forEach(o=>{const u=t[o];if(!xt(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const i=aa(o,u,Wv(o,n),Wt.scales[u.type]),d=Vv(i,a),p=s.scales||{};l[o]=Ls(Object.create(null),[{axis:i},u,p[i],p[d]])}),n.data.datasets.forEach(o=>{const u=o.type||n.type,i=o.indexAxis||ia(u,r),p=(Qn[u]||{}).scales||{};Object.keys(p).forEach(m=>{const c=Gv(m,i),h=o[c+"AxisID"]||c;l[h]=l[h]||Object.create(null),Ls(l[h],[{axis:c},t[h],p[m]])})}),Object.keys(l).forEach(o=>{const u=l[o];Ls(u,[Wt.scales[u.type],Wt.scale])}),l}function Kd(n){const r=n.options||(n.options={});r.plugins=yt(r.plugins,{}),r.scales=qv(n,r)}function Qd(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Xv(n){return n=n||{},n.data=Qd(n.data),Kd(n),n}const Xu=new Map,Jd=new Set;function vo(n,r){let s=Xu.get(n);return s||(s=r(),Xu.set(n,s),Jd.add(s)),s}const Ms=(n,r,s)=>{const t=kn(r,s);t!==void 0&&n.add(t)};class Yv{constructor(r){this._config=Xv(r),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(r){this._config.type=r}get data(){return this._config.data}set data(r){this._config.data=Qd(r)}get options(){return this._config.options}set options(r){this._config.options=r}get plugins(){return this._config.plugins}update(){const r=this._config;this.clearCache(),Kd(r)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(r){return vo(r,()=>[[`datasets.${r}`,""]])}datasetAnimationScopeKeys(r,s){return vo(`${r}.transition.${s}`,()=>[[`datasets.${r}.transitions.${s}`,`transitions.${s}`],[`datasets.${r}`,""]])}datasetElementScopeKeys(r,s){return vo(`${r}-${s}`,()=>[[`datasets.${r}.elements.${s}`,`datasets.${r}`,`elements.${s}`,""]])}pluginScopeKeys(r){const s=r.id,t=this.type;return vo(`${t}-plugin-${s}`,()=>[[`plugins.${s}`,...r.additionalOptionScopes||[]]])}_cachedScopes(r,s){const t=this._scopeCache;let a=t.get(r);return(!a||s)&&(a=new Map,t.set(r,a)),a}getOptionScopes(r,s,t){const{options:a,type:l}=this,o=this._cachedScopes(r,t),u=o.get(s);if(u)return u;const i=new Set;s.forEach(p=>{r&&(i.add(r),p.forEach(m=>Ms(i,r,m))),p.forEach(m=>Ms(i,a,m)),p.forEach(m=>Ms(i,Qn[l]||{},m)),p.forEach(m=>Ms(i,Wt,m)),p.forEach(m=>Ms(i,na,m))});const d=Array.from(i);return d.length===0&&d.push(Object.create(null)),Jd.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:r,type:s}=this;return[r,Qn[s]||{},Wt.datasets[s]||{},{type:s},Wt,na]}resolveNamedOptions(r,s,t,a=[""]){const l={$shared:!0},{resolver:o,subPrefixes:u}=Yu(this._resolverCache,r,a);let i=o;if(Zv(o,s)){l.$shared=!1,t=On(t)?t():t;const d=this.createResolver(r,t,u);i=ys(o,t,d)}for(const d of s)l[d]=i[d];return l}createResolver(r,s,t=[""],a){const{resolver:l}=Yu(this._resolverCache,r,t);return xt(s)?ys(l,s,void 0,a):l}}function Yu(n,r,s){let t=n.get(r);t||(t=new Map,n.set(r,t));const a=s.join();let l=t.get(a);return l||(l={resolver:Fa(r,s),subPrefixes:s.filter(u=>!u.toLowerCase().includes("hover"))},t.set(a,l)),l}const $v=n=>xt(n)&&Object.getOwnPropertyNames(n).some(r=>On(n[r]));function Zv(n,r){const{isScriptable:s,isIndexable:t}=Od(n);for(const a of r){const l=s(a),o=t(a),u=(o||l)&&n[a];if(l&&(On(u)||$v(u))||o&&Ht(u))return!0}return!1}var Kv="4.4.8";const Qv=["top","bottom","left","right","chartArea"];function $u(n,r){return n==="top"||n==="bottom"||Qv.indexOf(n)===-1&&r==="x"}function Zu(n,r){return function(s,t){return s[n]===t[n]?s[r]-t[r]:s[n]-t[n]}}function Ku(n){const r=n.chart,s=r.options.animation;r.notifyPlugins("afterRender"),Lt(s&&s.onComplete,[n],r)}function Jv(n){const r=n.chart,s=r.options.animation;Lt(s&&s.onProgress,[n],r)}function eh(n){return Ra()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const No={},Qu=n=>{const r=eh(n);return Object.values(No).filter(s=>s.canvas===r).pop()};function e1(n,r,s){const t=Object.keys(n);for(const a of t){const l=+a;if(l>=r){const o=n[a];delete n[a],(s>0||l>r)&&(n[l+s]=o)}}}function t1(n,r,s,t){return!s||n.type==="mouseout"?null:t?r:n}function bo(n,r,s){return n.options.clip?n[s]:r[s]}function r1(n,r){const{xScale:s,yScale:t}=n;return s&&t?{left:bo(s,r,"left"),right:bo(s,r,"right"),top:bo(t,r,"top"),bottom:bo(t,r,"bottom")}:r}class pn{static register(...r){tn.add(...r),Ju()}static unregister(...r){tn.remove(...r),Ju()}constructor(r,s){const t=this.config=new Yv(s),a=eh(r),l=Qu(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const o=t.createResolver(t.chartOptionScopes(),this.getContext());this.platform=new(t.platform||bv(a)),this.platform.updateConfig(t);const u=this.platform.acquireContext(a,o.aspectRatio),i=u&&u.canvas,d=i&&i.height,p=i&&i.width;if(this.id=ny(),this.ctx=u,this.canvas=i,this.width=p,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Iv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_y(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],No[this.id]=this,!u||!i){console.error("Failed to create chart: can't acquire context from the given item");return}dn.listen(this,"complete",Ku),dn.listen(this,"progress",Jv),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:r,maintainAspectRatio:s},width:t,height:a,_aspectRatio:l}=this;return _t(r)?s&&l?l:a?t/a:null:r}get data(){return this.config.data}set data(r){this.config.data=r}get options(){return this._options}set options(r){this.config.options=r}get registry(){return tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vu(this.canvas,this.ctx),this}stop(){return dn.stop(this),this}resize(r,s){dn.running(this)?this._resizeBeforeDraw={width:r,height:s}:this._resize(r,s)}_resize(r,s){const t=this.options,a=this.canvas,l=t.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,r,s,l),u=t.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,xu(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),Lt(t.onResize,[this,o],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Ct(s,(t,a)=>{t.id=a})}buildOrUpdateScales(){const r=this.options,s=r.scales,t=this.scales,a=Object.keys(t).reduce((o,u)=>(o[u]=!1,o),{});let l=[];s&&(l=l.concat(Object.keys(s).map(o=>{const u=s[o],i=aa(o,u),d=i==="r",p=i==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Ct(l,o=>{const u=o.options,i=u.id,d=aa(i,u),p=yt(u.type,o.dtype);(u.position===void 0||$u(u.position,d)!==$u(o.dposition))&&(u.position=o.dposition),a[i]=!0;let m=null;if(i in t&&t[i].type===p)m=t[i];else{const c=tn.getScale(p);m=new c({id:i,type:p,ctx:this.ctx,chart:this}),t[m.id]=m}m.init(u,r)}),Ct(a,(o,u)=>{o||delete t[u]}),Ct(t,o=>{Dr.configure(this,o,o.options),Dr.addBox(this,o)})}_updateMetasets(){const r=this._metasets,s=this.data.datasets.length,t=r.length;if(r.sort((a,l)=>a.index-l.index),t>s){for(let a=s;a<t;++a)this._destroyDatasetMeta(a);r.splice(s,t-s)}this._sortedMetasets=r.slice(0).sort(Zu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:r,data:{datasets:s}}=this;r.length>s.length&&delete this._stacks,r.forEach((t,a)=>{s.filter(l=>l===t._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const r=[],s=this.data.datasets;let t,a;for(this._removeUnreferencedMetasets(),t=0,a=s.length;t<a;t++){const l=s[t];let o=this.getDatasetMeta(t);const u=l.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(t),o=this.getDatasetMeta(t)),o.type=u,o.indexAxis=l.indexAxis||ia(u,this.options),o.order=l.order||0,o.index=t,o.label=""+l.label,o.visible=this.isDatasetVisible(t),o.controller)o.controller.updateIndex(t),o.controller.linkScales();else{const i=tn.getController(u),{datasetElementType:d,dataElementType:p}=Wt.datasets[u];Object.assign(i,{dataElementType:tn.getElement(p),datasetElementType:d&&tn.getElement(d)}),o.controller=new i(this,t),r.push(o.controller)}}return this._updateMetasets(),r}_resetElements(){Ct(this.data.datasets,(r,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(r){const s=this.config;s.update();const t=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!t.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:r,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),c=!a&&l.indexOf(m)===-1;m.buildOrUpdateElements(c),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=t.layout.autoPadding?o:0,this._updateLayout(o),a||Ct(l,d=>{d.reset()}),this._updateDatasets(r),this.notifyPlugins("afterUpdate",{mode:r}),this._layers.sort(Zu("z","_idx"));const{_active:u,_lastEvent:i}=this;i?this._eventHandler(i,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ct(this.scales,r=>{Dr.removeBox(this,r)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const r=this.options,s=new Set(Object.keys(this._listeners)),t=new Set(r.events);(!uu(s,t)||!!this._responsiveListeners!==r.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:r}=this,s=this._getUniformDataChanges()||[];for(const{method:t,start:a,count:l}of s){const o=t==="_removeElements"?-l:l;e1(r,a,o)}}_getUniformDataChanges(){const r=this._dataChanges;if(!r||!r.length)return;this._dataChanges=[];const s=this.data.datasets.length,t=l=>new Set(r.filter(o=>o[0]===l).map((o,u)=>u+","+o.splice(1).join(","))),a=t(0);for(let l=1;l<s;l++)if(!uu(a,t(l)))return;return Array.from(a).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(r){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dr.update(this,this.width,this.height,r);const s=this.chartArea,t=s.width<=0||s.height<=0;this._layers=[],Ct(this.boxes,a=>{t&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(r){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:r,cancelable:!0})!==!1){for(let s=0,t=this.data.datasets.length;s<t;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,t=this.data.datasets.length;s<t;++s)this._updateDataset(s,On(r)?r({datasetIndex:s}):r);this.notifyPlugins("afterDatasetsUpdate",{mode:r})}}_updateDataset(r,s){const t=this.getDatasetMeta(r),a={meta:t,index:r,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(t.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dn.has(this)?this.attached&&!dn.running(this)&&dn.start(this):(this.draw(),Ku({chart:this})))}draw(){let r;if(this._resizeBeforeDraw){const{width:t,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(r=0;r<s.length&&s[r].z<=0;++r)s[r].draw(this.chartArea);for(this._drawDatasets();r<s.length;++r)s[r].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(r){const s=this._sortedMetasets,t=[];let a,l;for(a=0,l=s.length;a<l;++a){const o=s[a];(!r||o.visible)&&t.push(o)}return t}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const r=this.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s)this._drawDataset(r[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(r){const s=this.ctx,t=r._clip,a=!t.disabled,l=r1(r,this.chartArea),o={meta:r,index:r.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(a&&fi(s,{left:t.left===!1?0:l.left-t.left,right:t.right===!1?this.width:l.right+t.right,top:t.top===!1?0:l.top-t.top,bottom:t.bottom===!1?this.height:l.bottom+t.bottom}),r.controller.draw(),a&&pi(s),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(r){return vn(r,this.chartArea,this._minPadding)}getElementsAtEventForMode(r,s,t,a){const l=Q0.modes[s];return typeof l=="function"?l(this,r,t,a):[]}getDatasetMeta(r){const s=this.data.datasets[r],t=this._metasets;let a=t.filter(l=>l&&l._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:r,_dataset:s,_parsed:[],_sorted:!1},t.push(a)),a}getContext(){return this.$context||(this.$context=Pn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(r){const s=this.data.datasets[r];if(!s)return!1;const t=this.getDatasetMeta(r);return typeof t.hidden=="boolean"?!t.hidden:!s.hidden}setDatasetVisibility(r,s){const t=this.getDatasetMeta(r);t.hidden=!s}toggleDataVisibility(r){this._hiddenIndices[r]=!this._hiddenIndices[r]}getDataVisibility(r){return!this._hiddenIndices[r]}_updateVisibility(r,s,t){const a=t?"show":"hide",l=this.getDatasetMeta(r),o=l.controller._resolveAnimations(void 0,a);Hs(s)?(l.data[s].hidden=!t,this.update()):(this.setDatasetVisibility(r,t),o.update(l,{visible:t}),this.update(u=>u.datasetIndex===r?a:void 0))}hide(r,s){this._updateVisibility(r,s,!1)}show(r,s){this._updateVisibility(r,s,!0)}_destroyDatasetMeta(r){const s=this._metasets[r];s&&s.controller&&s.controller._destroy(),delete this._metasets[r]}_stop(){let r,s;for(this.stop(),dn.remove(this),r=0,s=this.data.datasets.length;r<s;++r)this._destroyDatasetMeta(r)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:r,ctx:s}=this;this._stop(),this.config.clearCache(),r&&(this.unbindEvents(),vu(r,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete No[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...r){return this.canvas.toDataURL(...r)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const r=this._listeners,s=this.platform,t=(l,o)=>{s.addEventListener(this,l,o),r[l]=o},a=(l,o,u)=>{l.offsetX=o,l.offsetY=u,this._eventHandler(l)};Ct(this.options.events,l=>t(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const r=this._responsiveListeners,s=this.platform,t=(i,d)=>{s.addEventListener(this,i,d),r[i]=d},a=(i,d)=>{r[i]&&(s.removeEventListener(this,i,d),delete r[i])},l=(i,d)=>{this.canvas&&this.resize(i,d)};let o;const u=()=>{a("attach",u),this.attached=!0,this.resize(),t("resize",l),t("detach",o)};o=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),t("attach",u)},s.isAttached(this.canvas)?u():o()}unbindEvents(){Ct(this._listeners,(r,s)=>{this.platform.removeEventListener(this,s,r)}),this._listeners={},Ct(this._responsiveListeners,(r,s)=>{this.platform.removeEventListener(this,s,r)}),this._responsiveListeners=void 0}updateHoverStyle(r,s,t){const a=t?"set":"remove";let l,o,u,i;for(s==="dataset"&&(l=this.getDatasetMeta(r[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),u=0,i=r.length;u<i;++u){o=r[u];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(r){const s=this._active||[],t=r.map(({datasetIndex:l,index:o})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[o],index:o}});!Jo(t,s)&&(this._active=t,this._lastEvent=null,this._updateHoverStyles(t,s))}notifyPlugins(r,s,t){return this._plugins.notify(this,r,s,t)}isPluginEnabled(r){return this._plugins._cache.filter(s=>s.plugin.id===r).length===1}_updateHoverStyles(r,s,t){const a=this.options.hover,l=(i,d)=>i.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),o=l(s,r),u=t?r:l(r,s);o.length&&this.updateHoverStyle(o,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(r,s){const t={event:r,replay:s,cancelable:!0,inChartArea:this.isPointInArea(r)},a=o=>(o.options.events||this.options.events).includes(r.native.type);if(this.notifyPlugins("beforeEvent",t,a)===!1)return;const l=this._handleEvent(r,s,t.inChartArea);return t.cancelable=!1,this.notifyPlugins("afterEvent",t,a),(l||t.changed)&&this.render(),this}_handleEvent(r,s,t){const{_active:a=[],options:l}=this,o=s,u=this._getActiveElements(r,a,t,o),i=uy(r),d=t1(r,this._lastEvent,t,i);t&&(this._lastEvent=null,Lt(l.onHover,[r,u,this],this),i&&Lt(l.onClick,[r,u,this],this));const p=!Jo(u,a);return(p||s)&&(this._active=u,this._updateHoverStyles(u,a,s)),this._lastEvent=d,p}_getActiveElements(r,s,t,a){if(r.type==="mouseout")return[];if(!t)return s;const l=this.options.hover;return this.getElementsAtEventForMode(r,l.mode,l,a)}}Qe(pn,"defaults",Wt),Qe(pn,"instances",No),Qe(pn,"overrides",Qn),Qe(pn,"registry",tn),Qe(pn,"version",Kv),Qe(pn,"getChart",Qu);function Ju(){return Ct(pn.instances,n=>n._plugins.invalidate())}function n1(n,r,s){const{startAngle:t,pixelMargin:a,x:l,y:o,outerRadius:u,innerRadius:i}=r;let d=a/u;n.beginPath(),n.arc(l,o,u,t-d,s+d),i>a?(d=a/i,n.arc(l,o,i,s+d,t-d,!0)):n.arc(l,o,a,s+Qt,t-Qt),n.closePath(),n.clip()}function s1(n){return Oa(n,["outerStart","outerEnd","innerStart","innerEnd"])}function o1(n,r,s,t){const a=s1(n.options.borderRadius),l=(s-r)/2,o=Math.min(l,t*r/2),u=i=>{const d=(s-Math.min(l,i))*t/2;return fr(i,0,Math.min(l,d))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:fr(a.innerStart,0,o),innerEnd:fr(a.innerEnd,0,o)}}function cs(n,r,s,t){return{x:s+n*Math.cos(r),y:t+n*Math.sin(r)}}function oi(n,r,s,t,a,l){const{x:o,y:u,startAngle:i,pixelMargin:d,innerRadius:p}=r,m=Math.max(r.outerRadius+t+s-d,0),c=p>0?p+t+s+d:0;let h=0;const v=a-i;if(t){const I=p>0?p-t:0,N=m>0?m-t:0,H=(I+N)/2,V=H!==0?v*H/(H+t):v;h=(v-V)/2}const f=Math.max(.001,v*m-s/Ut)/m,y=(v-f)/2,g=i+y+h,b=a-y-h,{outerStart:x,outerEnd:_,innerStart:j,innerEnd:S}=o1(r,c,m,b-g),D=m-x,E=m-_,T=g+x/D,F=b-_/E,A=c+j,L=c+S,O=g+j/A,B=b-S/L;if(n.beginPath(),l){const I=(T+F)/2;if(n.arc(o,u,m,T,I),n.arc(o,u,m,I,F),_>0){const G=cs(E,F,o,u);n.arc(G.x,G.y,_,F,b+Qt)}const N=cs(L,b,o,u);if(n.lineTo(N.x,N.y),S>0){const G=cs(L,B,o,u);n.arc(G.x,G.y,S,b+Qt,B+Math.PI)}const H=(b-S/c+(g+j/c))/2;if(n.arc(o,u,c,b-S/c,H,!0),n.arc(o,u,c,H,g+j/c,!0),j>0){const G=cs(A,O,o,u);n.arc(G.x,G.y,j,O+Math.PI,g-Qt)}const V=cs(D,g,o,u);if(n.lineTo(V.x,V.y),x>0){const G=cs(D,T,o,u);n.arc(G.x,G.y,x,g-Qt,T)}}else{n.moveTo(o,u);const I=Math.cos(T)*m+o,N=Math.sin(T)*m+u;n.lineTo(I,N);const H=Math.cos(F)*m+o,V=Math.sin(F)*m+u;n.lineTo(H,V)}n.closePath()}function i1(n,r,s,t,a){const{fullCircles:l,startAngle:o,circumference:u}=r;let i=r.endAngle;if(l){oi(n,r,s,t,i,a);for(let d=0;d<l;++d)n.fill();isNaN(u)||(i=o+(u%Nt||Nt))}return oi(n,r,s,t,i,a),n.fill(),i}function a1(n,r,s,t,a){const{fullCircles:l,startAngle:o,circumference:u,options:i}=r,{borderWidth:d,borderJoinStyle:p,borderDash:m,borderDashOffset:c}=i,h=i.borderAlign==="inner";if(!d)return;n.setLineDash(m||[]),n.lineDashOffset=c,h?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let v=r.endAngle;if(l){oi(n,r,s,t,v,a);for(let f=0;f<l;++f)n.stroke();isNaN(u)||(v=o+(u%Nt||Nt))}h&&n1(n,r,v),l||(oi(n,r,s,t,v,a),n.stroke())}class Os extends Yr{constructor(s){super();Qe(this,"circumference");Qe(this,"endAngle");Qe(this,"fullCircles");Qe(this,"innerRadius");Qe(this,"outerRadius");Qe(this,"pixelMargin");Qe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,t,a){const l=this.getProps(["x","y"],a),{angle:o,distance:u}=wd(l,{x:s,y:t}),{startAngle:i,endAngle:d,innerRadius:p,outerRadius:m,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,v=yt(c,d-i),f=Ws(o,i,d)&&i!==d,y=v>=Nt||f,g=gn(u,p+h,m+h);return y&&g}getCenterPoint(s){const{x:t,y:a,startAngle:l,endAngle:o,innerRadius:u,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:p}=this.options,m=(l+o)/2,c=(u+i+p+d)/2;return{x:t+Math.cos(m)*c,y:a+Math.sin(m)*c}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:t,circumference:a}=this,l=(t.offset||0)/4,o=(t.spacing||0)/2,u=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=a>Nt?Math.floor(a/Nt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const i=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(i)*l,Math.sin(i)*l);const d=1-Math.sin(Math.min(Ut,a||0)),p=l*d;s.fillStyle=t.backgroundColor,s.strokeStyle=t.borderColor,i1(s,this,p,o,u),a1(s,this,p,o,u),s.restore()}}Qe(Os,"id","arc"),Qe(Os,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Qe(Os,"defaultRoutes",{backgroundColor:"backgroundColor"}),Qe(Os,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function th(n,r,s=r){n.lineCap=yt(s.borderCapStyle,r.borderCapStyle),n.setLineDash(yt(s.borderDash,r.borderDash)),n.lineDashOffset=yt(s.borderDashOffset,r.borderDashOffset),n.lineJoin=yt(s.borderJoinStyle,r.borderJoinStyle),n.lineWidth=yt(s.borderWidth,r.borderWidth),n.strokeStyle=yt(s.borderColor,r.borderColor)}function l1(n,r,s){n.lineTo(s.x,s.y)}function u1(n){return n.stepped?Oy:n.tension||n.cubicInterpolationMode==="monotone"?Fy:l1}function rh(n,r,s={}){const t=n.length,{start:a=0,end:l=t-1}=s,{start:o,end:u}=r,i=Math.max(a,o),d=Math.min(l,u),p=a<o&&l<o||a>u&&l>u;return{count:t,start:i,loop:r.loop,ilen:d<i&&!p?t+d-i:d-i}}function c1(n,r,s,t){const{points:a,options:l}=r,{count:o,start:u,loop:i,ilen:d}=rh(a,s,t),p=u1(l);let{move:m=!0,reverse:c}=t||{},h,v,f;for(h=0;h<=d;++h)v=a[(u+(c?d-h:h))%o],!v.skip&&(m?(n.moveTo(v.x,v.y),m=!1):p(n,f,v,c,l.stepped),f=v);return i&&(v=a[(u+(c?d:0))%o],p(n,f,v,c,l.stepped)),!!i}function d1(n,r,s,t){const a=r.points,{count:l,start:o,ilen:u}=rh(a,s,t),{move:i=!0,reverse:d}=t||{};let p=0,m=0,c,h,v,f,y,g;const b=_=>(o+(d?u-_:_))%l,x=()=>{f!==y&&(n.lineTo(p,y),n.lineTo(p,f),n.lineTo(p,g))};for(i&&(h=a[b(0)],n.moveTo(h.x,h.y)),c=0;c<=u;++c){if(h=a[b(c)],h.skip)continue;const _=h.x,j=h.y,S=_|0;S===v?(j<f?f=j:j>y&&(y=j),p=(m*p+_)/++m):(x(),n.lineTo(_,j),v=S,m=0,f=y=j),g=j}x()}function la(n){const r=n.options,s=r.borderDash&&r.borderDash.length;return!n._decimated&&!n._loop&&!r.tension&&r.cubicInterpolationMode!=="monotone"&&!r.stepped&&!s?d1:c1}function h1(n){return n.stepped?d0:n.tension||n.cubicInterpolationMode==="monotone"?h0:qn}function f1(n,r,s,t){let a=r._path;a||(a=r._path=new Path2D,r.path(a,s,t)&&a.closePath()),th(n,r.options),n.stroke(a)}function p1(n,r,s,t){const{segments:a,options:l}=r,o=la(r);for(const u of a)th(n,l,u.style),n.beginPath(),o(n,r,u,{start:s,end:s+t-1})&&n.closePath(),n.stroke()}const m1=typeof Path2D=="function";function g1(n,r,s,t){m1&&!r.options.segment?f1(n,r,s,t):p1(n,r,s,t)}class Cn extends Yr{constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,s){const t=this.options;if((t.tension||t.cubicInterpolationMode==="monotone")&&!t.stepped&&!this._pointsUpdated){const a=t.spanGaps?this._loop:this._fullLoop;n0(this._points,t,r,a,s),this._pointsUpdated=!0}}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=v0(this,this.options.segment))}first(){const r=this.segments,s=this.points;return r.length&&s[r[0].start]}last(){const r=this.segments,s=this.points,t=r.length;return t&&s[r[t-1].end]}interpolate(r,s){const t=this.options,a=r[s],l=this.points,o=Gd(this,{property:s,start:a,end:a});if(!o.length)return;const u=[],i=h1(t);let d,p;for(d=0,p=o.length;d<p;++d){const{start:m,end:c}=o[d],h=l[m],v=l[c];if(h===v){u.push(h);continue}const f=Math.abs((a-h[s])/(v[s]-h[s])),y=i(h,v,f,t.stepped);y[s]=r[s],u.push(y)}return u.length===1?u[0]:u}pathSegment(r,s,t){return la(this)(r,this,s,t)}path(r,s,t){const a=this.segments,l=la(this);let o=this._loop;s=s||0,t=t||this.points.length-s;for(const u of a)o&=l(r,this,u,{start:s,end:s+t-1});return!!o}draw(r,s,t,a){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(r.save(),g1(r,this,t,a),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Qe(Cn,"id","line"),Qe(Cn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Qe(Cn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Qe(Cn,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"});function ec(n,r,s,t){const a=n.options,{[s]:l}=n.getProps([s],t);return Math.abs(r-l)<a.radius+a.hitRadius}class Uo extends Yr{constructor(s){super();Qe(this,"parsed");Qe(this,"skip");Qe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,t,a){const l=this.options,{x:o,y:u}=this.getProps(["x","y"],a);return Math.pow(s-o,2)+Math.pow(t-u,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(s,t){return ec(this,s,"x",t)}inYRange(s,t){return ec(this,s,"y",t)}getCenterPoint(s){const{x:t,y:a}=this.getProps(["x","y"],s);return{x:t,y:a}}size(s){s=s||this.options||{};let t=s.radius||0;t=Math.max(t,t&&s.hoverRadius||0);const a=t&&s.borderWidth||0;return(t+a)*2}draw(s,t){const a=this.options;this.skip||a.radius<.1||!vn(this,t,this.size(a)/2)||(s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.fillStyle=a.backgroundColor,sa(s,a,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}Qe(Uo,"id","point"),Qe(Uo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Qe(Uo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nh(n,r){const{x:s,y:t,base:a,width:l,height:o}=n.getProps(["x","y","base","width","height"],r);let u,i,d,p,m;return n.horizontal?(m=o/2,u=Math.min(s,a),i=Math.max(s,a),d=t-m,p=t+m):(m=l/2,u=s-m,i=s+m,d=Math.min(t,a),p=Math.max(t,a)),{left:u,top:d,right:i,bottom:p}}function Mn(n,r,s,t){return n?0:fr(r,s,t)}function y1(n,r,s){const t=n.options.borderWidth,a=n.borderSkipped,l=kd(t);return{t:Mn(a.top,l.top,0,s),r:Mn(a.right,l.right,0,r),b:Mn(a.bottom,l.bottom,0,s),l:Mn(a.left,l.left,0,r)}}function v1(n,r,s){const{enableBorderRadius:t}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,l=Zn(a),o=Math.min(r,s),u=n.borderSkipped,i=t||xt(a);return{topLeft:Mn(!i||u.top||u.left,l.topLeft,0,o),topRight:Mn(!i||u.top||u.right,l.topRight,0,o),bottomLeft:Mn(!i||u.bottom||u.left,l.bottomLeft,0,o),bottomRight:Mn(!i||u.bottom||u.right,l.bottomRight,0,o)}}function b1(n){const r=nh(n),s=r.right-r.left,t=r.bottom-r.top,a=y1(n,s/2,t/2),l=v1(n,s/2,t/2);return{outer:{x:r.left,y:r.top,w:s,h:t,radius:l},inner:{x:r.left+a.l,y:r.top+a.t,w:s-a.l-a.r,h:t-a.t-a.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,l.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(a.b,a.r))}}}}function zi(n,r,s,t){const a=r===null,l=s===null,u=n&&!(a&&l)&&nh(n,t);return u&&(a||gn(r,u.left,u.right))&&(l||gn(s,u.top,u.bottom))}function _1(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function x1(n,r){n.rect(r.x,r.y,r.w,r.h)}function Gi(n,r,s={}){const t=n.x!==s.x?-r:0,a=n.y!==s.y?-r:0,l=(n.x+n.w!==s.x+s.w?r:0)-t,o=(n.y+n.h!==s.y+s.h?r:0)-a;return{x:n.x+t,y:n.y+a,w:n.w+l,h:n.h+o,radius:n.radius}}class zo extends Yr{constructor(r){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,r&&Object.assign(this,r)}draw(r){const{inflateAmount:s,options:{borderColor:t,backgroundColor:a}}=this,{inner:l,outer:o}=b1(this),u=_1(o.radius)?qs:x1;r.save(),(o.w!==l.w||o.h!==l.h)&&(r.beginPath(),u(r,Gi(o,s,l)),r.clip(),u(r,Gi(l,-s,o)),r.fillStyle=t,r.fill("evenodd")),r.beginPath(),u(r,Gi(l,s)),r.fillStyle=a,r.fill(),r.restore()}inRange(r,s,t){return zi(this,r,s,t)}inXRange(r,s){return zi(this,r,null,s)}inYRange(r,s){return zi(this,null,r,s)}getCenterPoint(r){const{x:s,y:t,base:a,horizontal:l}=this.getProps(["x","y","base","horizontal"],r);return{x:l?(s+a)/2:s,y:l?t:(t+a)/2}}getRange(r){return r==="x"?this.width/2:this.height/2}}Qe(zo,"id","bar"),Qe(zo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Qe(zo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var w1=Object.freeze({__proto__:null,ArcElement:Os,BarElement:zo,LineElement:Cn,PointElement:Uo});const ua=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],tc=ua.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function sh(n){return ua[n%ua.length]}function oh(n){return tc[n%tc.length]}function j1(n,r){return n.borderColor=sh(r),n.backgroundColor=oh(r),++r}function S1(n,r){return n.backgroundColor=n.data.map(()=>sh(r++)),r}function D1(n,r){return n.backgroundColor=n.data.map(()=>oh(r++)),r}function E1(n){let r=0;return(s,t)=>{const a=n.getDatasetMeta(t).controller;a instanceof Yn?r=S1(s,r):a instanceof Ns?r=D1(s,r):a&&(r=j1(s,r))}}function rc(n){let r;for(r in n)if(n[r].borderColor||n[r].backgroundColor)return!0;return!1}function C1(n){return n&&(n.borderColor||n.backgroundColor)}function M1(){return Wt.borderColor!=="rgba(0,0,0,0.1)"||Wt.backgroundColor!=="rgba(0,0,0,0.1)"}var A1={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,r,s){if(!s.enabled)return;const{data:{datasets:t},options:a}=n.config,{elements:l}=a,o=rc(t)||C1(a)||l&&rc(l)||M1();if(!s.forceOverride&&o)return;const u=E1(n);t.forEach(u)}};function T1(n,r,s,t,a){const l=a.samples||t;if(l>=s)return n.slice(r,r+s);const o=[],u=(s-2)/(l-2);let i=0;const d=r+s-1;let p=r,m,c,h,v,f;for(o[i++]=n[p],m=0;m<l-2;m++){let y=0,g=0,b;const x=Math.floor((m+1)*u)+1+r,_=Math.min(Math.floor((m+2)*u)+1,s)+r,j=_-x;for(b=x;b<_;b++)y+=n[b].x,g+=n[b].y;y/=j,g/=j;const S=Math.floor(m*u)+1+r,D=Math.min(Math.floor((m+1)*u)+1,s)+r,{x:E,y:T}=n[p];for(h=v=-1,b=S;b<D;b++)v=.5*Math.abs((E-y)*(n[b].y-T)-(E-n[b].x)*(g-T)),v>h&&(h=v,c=n[b],f=b);o[i++]=c,p=f}return o[i++]=n[d],o}function k1(n,r,s,t){let a=0,l=0,o,u,i,d,p,m,c,h,v,f;const y=[],g=r+s-1,b=n[r].x,_=n[g].x-b;for(o=r;o<r+s;++o){u=n[o],i=(u.x-b)/_*t,d=u.y;const j=i|0;if(j===p)d<v?(v=d,m=o):d>f&&(f=d,c=o),a=(l*a+u.x)/++l;else{const S=o-1;if(!_t(m)&&!_t(c)){const D=Math.min(m,c),E=Math.max(m,c);D!==h&&D!==S&&y.push({...n[D],x:a}),E!==h&&E!==S&&y.push({...n[E],x:a})}o>0&&S!==h&&y.push(n[S]),y.push(u),p=j,l=0,v=f=d,m=c=h=o}}return y}function ih(n){if(n._decimated){const r=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:r})}}function nc(n){n.data.datasets.forEach(r=>{ih(r)})}function O1(n,r){const s=r.length;let t=0,a;const{iScale:l}=n,{min:o,max:u,minDefined:i,maxDefined:d}=l.getUserBounds();return i&&(t=fr(yn(r,l.axis,o).lo,0,s-1)),d?a=fr(yn(r,l.axis,u).hi+1,t,s)-t:a=s-t,{start:t,count:a}}var F1={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,r,s)=>{if(!s.enabled){nc(n);return}const t=n.width;n.data.datasets.forEach((a,l)=>{const{_data:o,indexAxis:u}=a,i=n.getDatasetMeta(l),d=o||a.data;if(Ts([u,n.options.indexAxis])==="y"||!i.controller.supportsDecimation)return;const p=n.scales[i.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:m,count:c}=O1(i,d);const h=s.threshold||4*t;if(c<=h){ih(a);return}_t(o)&&(a._data=d,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(f){this._data=f}}));let v;switch(s.algorithm){case"lttb":v=T1(d,m,c,t,s);break;case"min-max":v=k1(d,m,c,t);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}a._decimated=v})},destroy(n){nc(n)}};function P1(n,r,s){const t=n.segments,a=n.points,l=r.points,o=[];for(const u of t){let{start:i,end:d}=u;d=Na(i,d,a);const p=ca(s,a[i],a[d],u.loop);if(!r.segments){o.push({source:u,target:p,start:a[i],end:a[d]});continue}const m=Gd(r,p);for(const c of m){const h=ca(s,l[c.start],l[c.end],c.loop),v=zd(u,a,h);for(const f of v)o.push({source:f,target:c,start:{[s]:sc(p,h,"start",Math.max)},end:{[s]:sc(p,h,"end",Math.min)}})}}return o}function ca(n,r,s,t){if(t)return;let a=r[n],l=s[n];return n==="angle"&&(a=Lr(a),l=Lr(l)),{property:n,start:a,end:l}}function L1(n,r){const{x:s=null,y:t=null}=n||{},a=r.points,l=[];return r.segments.forEach(({start:o,end:u})=>{u=Na(o,u,a);const i=a[o],d=a[u];t!==null?(l.push({x:i.x,y:t}),l.push({x:d.x,y:t})):s!==null&&(l.push({x:s,y:i.y}),l.push({x:s,y:d.y}))}),l}function Na(n,r,s){for(;r>n;r--){const t=s[r];if(!isNaN(t.x)&&!isNaN(t.y))break}return r}function sc(n,r,s,t){return n&&r?t(n[s],r[s]):n?n[s]:r?r[s]:0}function ah(n,r){let s=[],t=!1;return Ht(n)?(t=!0,s=n):s=L1(n,r),s.length?new Cn({points:s,options:{tension:0},_loop:t,_fullLoop:t}):null}function oc(n){return n&&n.fill!==!1}function R1(n,r,s){let a=n[r].fill;const l=[r];let o;if(!s)return a;for(;a!==!1&&l.indexOf(a)===-1;){if(!Kt(a))return a;if(o=n[a],!o)return!1;if(o.visible)return a;l.push(a),a=o.fill}return!1}function I1(n,r,s){const t=z1(n);if(xt(t))return isNaN(t.value)?!1:t;let a=parseFloat(t);return Kt(a)&&Math.floor(a)===a?B1(t[0],r,a,s):["origin","start","end","stack","shape"].indexOf(t)>=0&&t}function B1(n,r,s,t){return(n==="-"||n==="+")&&(s=r+s),s===r||s<0||s>=t?!1:s}function N1(n,r){let s=null;return n==="start"?s=r.bottom:n==="end"?s=r.top:xt(n)?s=r.getPixelForValue(n.value):r.getBasePixel&&(s=r.getBasePixel()),s}function U1(n,r,s){let t;return n==="start"?t=s:n==="end"?t=r.options.reverse?r.min:r.max:xt(n)?t=n.value:t=r.getBaseValue(),t}function z1(n){const r=n.options,s=r.fill;let t=yt(s&&s.target,s);return t===void 0&&(t=!!r.backgroundColor),t===!1||t===null?!1:t===!0?"origin":t}function G1(n){const{scale:r,index:s,line:t}=n,a=[],l=t.segments,o=t.points,u=V1(r,s);u.push(ah({x:null,y:r.bottom},t));for(let i=0;i<l.length;i++){const d=l[i];for(let p=d.start;p<=d.end;p++)H1(a,o[p],u)}return new Cn({points:a,options:{}})}function V1(n,r){const s=[],t=n.getMatchingVisibleMetas("line");for(let a=0;a<t.length;a++){const l=t[a];if(l.index===r)break;l.hidden||s.unshift(l.dataset)}return s}function H1(n,r,s){const t=[];for(let a=0;a<s.length;a++){const l=s[a],{first:o,last:u,point:i}=W1(l,r,"x");if(!(!i||o&&u)){if(o)t.unshift(i);else if(n.push(i),!u)break}}n.push(...t)}function W1(n,r,s){const t=n.interpolate(r,s);if(!t)return{};const a=t[s],l=n.segments,o=n.points;let u=!1,i=!1;for(let d=0;d<l.length;d++){const p=l[d],m=o[p.start][s],c=o[p.end][s];if(gn(a,m,c)){u=a===m,i=a===c;break}}return{first:u,last:i,point:t}}class lh{constructor(r){this.x=r.x,this.y=r.y,this.radius=r.radius}pathSegment(r,s,t){const{x:a,y:l,radius:o}=this;return s=s||{start:0,end:Nt},r.arc(a,l,o,s.end,s.start,!0),!t.bounds}interpolate(r){const{x:s,y:t,radius:a}=this,l=r.angle;return{x:s+Math.cos(l)*a,y:t+Math.sin(l)*a,angle:l}}}function q1(n){const{chart:r,fill:s,line:t}=n;if(Kt(s))return X1(r,s);if(s==="stack")return G1(n);if(s==="shape")return!0;const a=Y1(n);return a instanceof lh?a:ah(a,t)}function X1(n,r){const s=n.getDatasetMeta(r);return s&&n.isDatasetVisible(r)?s.dataset:null}function Y1(n){return(n.scale||{}).getPointPositionForValue?Z1(n):$1(n)}function $1(n){const{scale:r={},fill:s}=n,t=N1(s,r);if(Kt(t)){const a=r.isHorizontal();return{x:a?t:null,y:a?null:t}}return null}function Z1(n){const{scale:r,fill:s}=n,t=r.options,a=r.getLabels().length,l=t.reverse?r.max:r.min,o=U1(s,r,l),u=[];if(t.grid.circular){const i=r.getPointPositionForValue(0,l);return new lh({x:i.x,y:i.y,radius:r.getDistanceFromCenterForValue(o)})}for(let i=0;i<a;++i)u.push(r.getPointPositionForValue(i,o));return u}function Vi(n,r,s){const t=q1(r),{line:a,scale:l,axis:o}=r,u=a.options,i=u.fill,d=u.backgroundColor,{above:p=d,below:m=d}=i||{};t&&a.points.length&&(fi(n,s),K1(n,{line:a,target:t,above:p,below:m,area:s,scale:l,axis:o}),pi(n))}function K1(n,r){const{line:s,target:t,above:a,below:l,area:o,scale:u}=r,i=s._loop?"angle":r.axis;n.save(),i==="x"&&l!==a&&(ic(n,t,o.top),ac(n,{line:s,target:t,color:a,scale:u,property:i}),n.restore(),n.save(),ic(n,t,o.bottom)),ac(n,{line:s,target:t,color:l,scale:u,property:i}),n.restore()}function ic(n,r,s){const{segments:t,points:a}=r;let l=!0,o=!1;n.beginPath();for(const u of t){const{start:i,end:d}=u,p=a[i],m=a[Na(i,d,a)];l?(n.moveTo(p.x,p.y),l=!1):(n.lineTo(p.x,s),n.lineTo(p.x,p.y)),o=!!r.pathSegment(n,u,{move:o}),o?n.closePath():n.lineTo(m.x,s)}n.lineTo(r.first().x,s),n.closePath(),n.clip()}function ac(n,r){const{line:s,target:t,property:a,color:l,scale:o}=r,u=P1(s,t,a);for(const{source:i,target:d,start:p,end:m}of u){const{style:{backgroundColor:c=l}={}}=i,h=t!==!0;n.save(),n.fillStyle=c,Q1(n,o,h&&ca(a,p,m)),n.beginPath();const v=!!s.pathSegment(n,i);let f;if(h){v?n.closePath():lc(n,t,m,a);const y=!!t.pathSegment(n,d,{move:v,reverse:!0});f=v&&y,f||lc(n,t,p,a)}n.closePath(),n.fill(f?"evenodd":"nonzero"),n.restore()}}function Q1(n,r,s){const{top:t,bottom:a}=r.chart.chartArea,{property:l,start:o,end:u}=s||{};l==="x"&&(n.beginPath(),n.rect(o,t,u-o,a-t),n.clip())}function lc(n,r,s,t){const a=r.interpolate(s,t);a&&n.lineTo(a.x,a.y)}var J1={id:"filler",afterDatasetsUpdate(n,r,s){const t=(n.data.datasets||[]).length,a=[];let l,o,u,i;for(o=0;o<t;++o)l=n.getDatasetMeta(o),u=l.dataset,i=null,u&&u.options&&u instanceof Cn&&(i={visible:n.isDatasetVisible(o),index:o,fill:I1(u,o,t),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:u}),l.$filler=i,a.push(i);for(o=0;o<t;++o)i=a[o],!(!i||i.fill===!1)&&(i.fill=R1(a,o,s.propagate))},beforeDraw(n,r,s){const t=s.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let o=a.length-1;o>=0;--o){const u=a[o].$filler;u&&(u.line.updateControlPoints(l,u.axis),t&&u.fill&&Vi(n.ctx,u,l))}},beforeDatasetsDraw(n,r,s){if(s.drawTime!=="beforeDatasetsDraw")return;const t=n.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a){const l=t[a].$filler;oc(l)&&Vi(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,r,s){const t=r.meta.$filler;!oc(t)||s.drawTime!=="beforeDatasetDraw"||Vi(n.ctx,t,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const uc=(n,r)=>{let{boxHeight:s=r,boxWidth:t=r}=n;return n.usePointStyle&&(s=Math.min(s,r),t=n.pointStyleWidth||Math.min(t,r)),{boxWidth:t,boxHeight:s,itemHeight:Math.max(r,s)}},eb=(n,r)=>n!==null&&r!==null&&n.datasetIndex===r.datasetIndex&&n.index===r.index;class cc extends Yr{constructor(r){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=r.chart,this.options=r.options,this.ctx=r.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(r,s,t){this.maxWidth=r,this.maxHeight=s,this._margins=t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const r=this.options.labels||{};let s=Lt(r.generateLabels,[this.chart],this)||[];r.filter&&(s=s.filter(t=>r.filter(t,this.chart.data))),r.sort&&(s=s.sort((t,a)=>r.sort(t,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:r,ctx:s}=this;if(!r.display){this.width=this.height=0;return}const t=r.labels,a=lr(t.font),l=a.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:i}=uc(t,l);let d,p;s.font=a.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(o,l,u,i)+10):(p=this.maxHeight,d=this._fitCols(o,a,u,i)+10),this.width=Math.min(d,r.maxWidth||this.maxWidth),this.height=Math.min(p,r.maxHeight||this.maxHeight)}_fitRows(r,s,t,a){const{ctx:l,maxWidth:o,options:{labels:{padding:u}}}=this,i=this.legendHitBoxes=[],d=this.lineWidths=[0],p=a+u;let m=r;l.textAlign="left",l.textBaseline="middle";let c=-1,h=-p;return this.legendItems.forEach((v,f)=>{const y=t+s/2+l.measureText(v.text).width;(f===0||d[d.length-1]+y+2*u>o)&&(m+=p,d[d.length-(f>0?0:1)]=0,h+=p,c++),i[f]={left:0,top:h,row:c,width:y,height:a},d[d.length-1]+=y+u}),m}_fitCols(r,s,t,a){const{ctx:l,maxHeight:o,options:{labels:{padding:u}}}=this,i=this.legendHitBoxes=[],d=this.columnSizes=[],p=o-r;let m=u,c=0,h=0,v=0,f=0;return this.legendItems.forEach((y,g)=>{const{itemWidth:b,itemHeight:x}=tb(t,s,l,y,a);g>0&&h+x+2*u>p&&(m+=c+u,d.push({width:c,height:h}),v+=c+u,f++,c=h=0),i[g]={left:v,top:h,col:f,width:b,height:x},c=Math.max(c,b),h+=x+u}),m+=c,d.push({width:c,height:h}),m}adjustHitBoxes(){if(!this.options.display)return;const r=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:t,labels:{padding:a},rtl:l}}=this,o=hs(l,this.left,this.width);if(this.isHorizontal()){let u=0,i=jr(t,this.left+a,this.right-this.lineWidths[u]);for(const d of s)u!==d.row&&(u=d.row,i=jr(t,this.left+a,this.right-this.lineWidths[u])),d.top+=this.top+r+a,d.left=o.leftForLtr(o.x(i),d.width),i+=d.width+a}else{let u=0,i=jr(t,this.top+r+a,this.bottom-this.columnSizes[u].height);for(const d of s)d.col!==u&&(u=d.col,i=jr(t,this.top+r+a,this.bottom-this.columnSizes[u].height)),d.top=i,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),i+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const r=this.ctx;fi(r,this),this._draw(),pi(r)}}_draw(){const{options:r,columnSizes:s,lineWidths:t,ctx:a}=this,{align:l,labels:o}=r,u=Wt.color,i=hs(r.rtl,this.left,this.width),d=lr(o.font),{padding:p}=o,m=d.size,c=m/2;let h;this.drawTitle(),a.textAlign=i.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:v,boxHeight:f,itemHeight:y}=uc(o,m),g=function(S,D,E){if(isNaN(v)||v<=0||isNaN(f)||f<0)return;a.save();const T=yt(E.lineWidth,1);if(a.fillStyle=yt(E.fillStyle,u),a.lineCap=yt(E.lineCap,"butt"),a.lineDashOffset=yt(E.lineDashOffset,0),a.lineJoin=yt(E.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=yt(E.strokeStyle,u),a.setLineDash(yt(E.lineDash,[])),o.usePointStyle){const F={radius:f*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:T},A=i.xPlus(S,v/2),L=D+c;Td(a,F,A,L,o.pointStyleWidth&&v)}else{const F=D+Math.max((m-f)/2,0),A=i.leftForLtr(S,v),L=Zn(E.borderRadius);a.beginPath(),Object.values(L).some(O=>O!==0)?qs(a,{x:A,y:F,w:v,h:f,radius:L}):a.rect(A,F,v,f),a.fill(),T!==0&&a.stroke()}a.restore()},b=function(S,D,E){Jn(a,E.text,S,D+y/2,d,{strikethrough:E.hidden,textAlign:i.textAlign(E.textAlign)})},x=this.isHorizontal(),_=this._computeTitleHeight();x?h={x:jr(l,this.left+p,this.right-t[0]),y:this.top+p+_,line:0}:h={x:this.left+p,y:jr(l,this.top+_+p,this.bottom-s[0].height),line:0},Bd(this.ctx,r.textDirection);const j=y+p;this.legendItems.forEach((S,D)=>{a.strokeStyle=S.fontColor,a.fillStyle=S.fontColor;const E=a.measureText(S.text).width,T=i.textAlign(S.textAlign||(S.textAlign=o.textAlign)),F=v+c+E;let A=h.x,L=h.y;i.setWidth(this.width),x?D>0&&A+F+p>this.right&&(L=h.y+=j,h.line++,A=h.x=jr(l,this.left+p,this.right-t[h.line])):D>0&&L+j>this.bottom&&(A=h.x=A+s[h.line].width+p,h.line++,L=h.y=jr(l,this.top+_+p,this.bottom-s[h.line].height));const O=i.x(A);if(g(O,L,S),A=xy(T,A+v+c,x?A+F:this.right,r.rtl),b(i.x(A),L,S),x)h.x+=F+p;else if(typeof S.text!="string"){const B=d.lineHeight;h.y+=uh(S,B)+p}else h.y+=j}),Nd(this.ctx,r.textDirection)}drawTitle(){const r=this.options,s=r.title,t=lr(s.font),a=Cr(s.padding);if(!s.display)return;const l=hs(r.rtl,this.left,this.width),o=this.ctx,u=s.position,i=t.size/2,d=a.top+i;let p,m=this.left,c=this.width;if(this.isHorizontal())c=Math.max(...this.lineWidths),p=this.top+d,m=jr(r.align,m,this.right-c);else{const v=this.columnSizes.reduce((f,y)=>Math.max(f,y.height),0);p=d+jr(r.align,this.top,this.bottom-v-r.labels.padding-this._computeTitleHeight())}const h=jr(u,m,m+c);o.textAlign=l.textAlign(Ta(u)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=t.string,Jn(o,s.text,h,p,t)}_computeTitleHeight(){const r=this.options.title,s=lr(r.font),t=Cr(r.padding);return r.display?s.lineHeight+t.height:0}_getLegendItemAt(r,s){let t,a,l;if(gn(r,this.left,this.right)&&gn(s,this.top,this.bottom)){for(l=this.legendHitBoxes,t=0;t<l.length;++t)if(a=l[t],gn(r,a.left,a.left+a.width)&&gn(s,a.top,a.top+a.height))return this.legendItems[t]}return null}handleEvent(r){const s=this.options;if(!sb(r.type,s))return;const t=this._getLegendItemAt(r.x,r.y);if(r.type==="mousemove"||r.type==="mouseout"){const a=this._hoveredItem,l=eb(a,t);a&&!l&&Lt(s.onLeave,[r,a,this],this),this._hoveredItem=t,t&&!l&&Lt(s.onHover,[r,t,this],this)}else t&&Lt(s.onClick,[r,t,this],this)}}function tb(n,r,s,t,a){const l=rb(t,n,r,s),o=nb(a,t,r.lineHeight);return{itemWidth:l,itemHeight:o}}function rb(n,r,s,t){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((l,o)=>l.length>o.length?l:o)),r+s.size/2+t.measureText(a).width}function nb(n,r,s){let t=n;return typeof r.text!="string"&&(t=uh(r,s)),t}function uh(n,r){const s=n.text?n.text.length:0;return r*s}function sb(n,r){return!!((n==="mousemove"||n==="mouseout")&&(r.onHover||r.onLeave)||r.onClick&&(n==="click"||n==="mouseup"))}var ob={id:"legend",_element:cc,start(n,r,s){const t=n.legend=new cc({ctx:n.ctx,options:s,chart:n});Dr.configure(n,t,s),Dr.addBox(n,t)},stop(n){Dr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,r,s){const t=n.legend;Dr.configure(n,t,s),t.options=s},afterUpdate(n){const r=n.legend;r.buildLabels(),r.adjustHitBoxes()},afterEvent(n,r){r.replay||n.legend.handleEvent(r.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,r,s){const t=r.datasetIndex,a=s.chart;a.isDatasetVisible(t)?(a.hide(t),r.hidden=!0):(a.show(t),r.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const r=n.data.datasets,{labels:{usePointStyle:s,pointStyle:t,textAlign:a,color:l,useBorderRadius:o,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(i=>{const d=i.controller.getStyle(s?0:void 0),p=Cr(d.borderWidth);return{text:r[i.index].label,fillStyle:d.backgroundColor,fontColor:l,hidden:!i.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:t||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(u||d.borderRadius),datasetIndex:i.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Ua extends Yr{constructor(r){super(),this.chart=r.chart,this.options=r.options,this.ctx=r.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(r,s){const t=this.options;if(this.left=0,this.top=0,!t.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=r,this.height=this.bottom=s;const a=Ht(t.text)?t.text.length:1;this._padding=Cr(t.padding);const l=a*lr(t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const r=this.options.position;return r==="top"||r==="bottom"}_drawArgs(r){const{top:s,left:t,bottom:a,right:l,options:o}=this,u=o.align;let i=0,d,p,m;return this.isHorizontal()?(p=jr(u,t,l),m=s+r,d=l-t):(o.position==="left"?(p=t+r,m=jr(u,a,s),i=Ut*-.5):(p=l-r,m=jr(u,s,a),i=Ut*.5),d=a-s),{titleX:p,titleY:m,maxWidth:d,rotation:i}}draw(){const r=this.ctx,s=this.options;if(!s.display)return;const t=lr(s.font),l=t.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:i,rotation:d}=this._drawArgs(l);Jn(r,s.text,0,0,t,{color:s.color,maxWidth:i,rotation:d,textAlign:Ta(s.align),textBaseline:"middle",translation:[o,u]})}}function ib(n,r){const s=new Ua({ctx:n.ctx,options:r,chart:n});Dr.configure(n,s,r),Dr.addBox(n,s),n.titleBlock=s}var ab={id:"title",_element:Ua,start(n,r,s){ib(n,s)},stop(n){const r=n.titleBlock;Dr.removeBox(n,r),delete n.titleBlock},beforeUpdate(n,r,s){const t=n.titleBlock;Dr.configure(n,t,s),t.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _o=new WeakMap;var lb={id:"subtitle",start(n,r,s){const t=new Ua({ctx:n.ctx,options:s,chart:n});Dr.configure(n,t,s),Dr.addBox(n,t),_o.set(n,t)},stop(n){Dr.removeBox(n,_o.get(n)),_o.delete(n)},beforeUpdate(n,r,s){const t=_o.get(n);Dr.configure(n,t,s),t.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fs={average(n){if(!n.length)return!1;let r,s,t=new Set,a=0,l=0;for(r=0,s=n.length;r<s;++r){const u=n[r].element;if(u&&u.hasValue()){const i=u.tooltipPosition();t.add(i.x),a+=i.y,++l}}return l===0||t.size===0?!1:{x:[...t].reduce((u,i)=>u+i)/t.size,y:a/l}},nearest(n,r){if(!n.length)return!1;let s=r.x,t=r.y,a=Number.POSITIVE_INFINITY,l,o,u;for(l=0,o=n.length;l<o;++l){const i=n[l].element;if(i&&i.hasValue()){const d=i.getCenterPoint(),p=ra(r,d);p<a&&(a=p,u=i)}}if(u){const i=u.tooltipPosition();s=i.x,t=i.y}return{x:s,y:t}}};function en(n,r){return r&&(Ht(r)?Array.prototype.push.apply(n,r):n.push(r)),n}function hn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ub(n,r){const{element:s,datasetIndex:t,index:a}=r,l=n.getDatasetMeta(t).controller,{label:o,value:u}=l.getLabelAndValue(a);return{chart:n,label:o,parsed:l.getParsed(a),raw:n.data.datasets[t].data[a],formattedValue:u,dataset:l.getDataset(),dataIndex:a,datasetIndex:t,element:s}}function dc(n,r){const s=n.chart.ctx,{body:t,footer:a,title:l}=n,{boxWidth:o,boxHeight:u}=r,i=lr(r.bodyFont),d=lr(r.titleFont),p=lr(r.footerFont),m=l.length,c=a.length,h=t.length,v=Cr(r.padding);let f=v.height,y=0,g=t.reduce((_,j)=>_+j.before.length+j.lines.length+j.after.length,0);if(g+=n.beforeBody.length+n.afterBody.length,m&&(f+=m*d.lineHeight+(m-1)*r.titleSpacing+r.titleMarginBottom),g){const _=r.displayColors?Math.max(u,i.lineHeight):i.lineHeight;f+=h*_+(g-h)*i.lineHeight+(g-1)*r.bodySpacing}c&&(f+=r.footerMarginTop+c*p.lineHeight+(c-1)*r.footerSpacing);let b=0;const x=function(_){y=Math.max(y,s.measureText(_).width+b)};return s.save(),s.font=d.string,Ct(n.title,x),s.font=i.string,Ct(n.beforeBody.concat(n.afterBody),x),b=r.displayColors?o+2+r.boxPadding:0,Ct(t,_=>{Ct(_.before,x),Ct(_.lines,x),Ct(_.after,x)}),b=0,s.font=p.string,Ct(n.footer,x),s.restore(),y+=v.width,{width:y,height:f}}function cb(n,r){const{y:s,height:t}=r;return s<t/2?"top":s>n.height-t/2?"bottom":"center"}function db(n,r,s,t){const{x:a,width:l}=t,o=s.caretSize+s.caretPadding;if(n==="left"&&a+l+o>r.width||n==="right"&&a-l-o<0)return!0}function hb(n,r,s,t){const{x:a,width:l}=s,{width:o,chartArea:{left:u,right:i}}=n;let d="center";return t==="center"?d=a<=(u+i)/2?"left":"right":a<=l/2?d="left":a>=o-l/2&&(d="right"),db(d,n,r,s)&&(d="center"),d}function hc(n,r,s){const t=s.yAlign||r.yAlign||cb(n,s);return{xAlign:s.xAlign||r.xAlign||hb(n,r,s,t),yAlign:t}}function fb(n,r){let{x:s,width:t}=n;return r==="right"?s-=t:r==="center"&&(s-=t/2),s}function pb(n,r,s){let{y:t,height:a}=n;return r==="top"?t+=s:r==="bottom"?t-=a+s:t-=a/2,t}function fc(n,r,s,t){const{caretSize:a,caretPadding:l,cornerRadius:o}=n,{xAlign:u,yAlign:i}=s,d=a+l,{topLeft:p,topRight:m,bottomLeft:c,bottomRight:h}=Zn(o);let v=fb(r,u);const f=pb(r,i,d);return i==="center"?u==="left"?v+=d:u==="right"&&(v-=d):u==="left"?v-=Math.max(p,c)+a:u==="right"&&(v+=Math.max(m,h)+a),{x:fr(v,0,t.width-r.width),y:fr(f,0,t.height-r.height)}}function xo(n,r,s){const t=Cr(s.padding);return r==="center"?n.x+n.width/2:r==="right"?n.x+n.width-t.right:n.x+t.left}function pc(n){return en([],hn(n))}function mb(n,r,s){return Pn(n,{tooltip:r,tooltipItems:s,type:"tooltip"})}function mc(n,r){const s=r&&r.dataset&&r.dataset.tooltip&&r.dataset.tooltip.callbacks;return s?n.override(s):n}const ch={beforeTitle:cn,title(n){if(n.length>0){const r=n[0],s=r.chart.data.labels,t=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return r.dataset.label||"";if(r.label)return r.label;if(t>0&&r.dataIndex<t)return s[r.dataIndex]}return""},afterTitle:cn,beforeBody:cn,beforeLabel:cn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let r=n.dataset.label||"";r&&(r+=": ");const s=n.formattedValue;return _t(s)||(r+=s),r},labelColor(n){const s=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const s=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:cn,afterBody:cn,beforeFooter:cn,footer:cn,afterFooter:cn};function Mr(n,r,s,t){const a=n[r].call(s,t);return typeof a>"u"?ch[r].call(s,t):a}class da extends Yr{constructor(r){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=r.chart,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const r=this._cachedAnimations;if(r)return r;const s=this.chart,t=this.options.setContext(this.getContext()),a=t.enabled&&s.options.animation&&t.animations,l=new Vd(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=mb(this.chart.getContext(),this,this._tooltipItems))}getTitle(r,s){const{callbacks:t}=s,a=Mr(t,"beforeTitle",this,r),l=Mr(t,"title",this,r),o=Mr(t,"afterTitle",this,r);let u=[];return u=en(u,hn(a)),u=en(u,hn(l)),u=en(u,hn(o)),u}getBeforeBody(r,s){return pc(Mr(s.callbacks,"beforeBody",this,r))}getBody(r,s){const{callbacks:t}=s,a=[];return Ct(r,l=>{const o={before:[],lines:[],after:[]},u=mc(t,l);en(o.before,hn(Mr(u,"beforeLabel",this,l))),en(o.lines,Mr(u,"label",this,l)),en(o.after,hn(Mr(u,"afterLabel",this,l))),a.push(o)}),a}getAfterBody(r,s){return pc(Mr(s.callbacks,"afterBody",this,r))}getFooter(r,s){const{callbacks:t}=s,a=Mr(t,"beforeFooter",this,r),l=Mr(t,"footer",this,r),o=Mr(t,"afterFooter",this,r);let u=[];return u=en(u,hn(a)),u=en(u,hn(l)),u=en(u,hn(o)),u}_createItems(r){const s=this._active,t=this.chart.data,a=[],l=[],o=[];let u=[],i,d;for(i=0,d=s.length;i<d;++i)u.push(ub(this.chart,s[i]));return r.filter&&(u=u.filter((p,m,c)=>r.filter(p,m,c,t))),r.itemSort&&(u=u.sort((p,m)=>r.itemSort(p,m,t))),Ct(u,p=>{const m=mc(r.callbacks,p);a.push(Mr(m,"labelColor",this,p)),l.push(Mr(m,"labelPointStyle",this,p)),o.push(Mr(m,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=l,this.labelTextColors=o,this.dataPoints=u,u}update(r,s){const t=this.options.setContext(this.getContext()),a=this._active;let l,o=[];if(!a.length)this.opacity!==0&&(l={opacity:0});else{const u=Fs[t.position].call(this,a,this._eventPosition);o=this._createItems(t),this.title=this.getTitle(o,t),this.beforeBody=this.getBeforeBody(o,t),this.body=this.getBody(o,t),this.afterBody=this.getAfterBody(o,t),this.footer=this.getFooter(o,t);const i=this._size=dc(this,t),d=Object.assign({},u,i),p=hc(this.chart,t,d),m=fc(t,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,l={opacity:1,x:m.x,y:m.y,width:i.width,height:i.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,l&&this._resolveAnimations().update(this,l),r&&t.external&&t.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(r,s,t,a){const l=this.getCaretPosition(r,t,a);s.lineTo(l.x1,l.y1),s.lineTo(l.x2,l.y2),s.lineTo(l.x3,l.y3)}getCaretPosition(r,s,t){const{xAlign:a,yAlign:l}=this,{caretSize:o,cornerRadius:u}=t,{topLeft:i,topRight:d,bottomLeft:p,bottomRight:m}=Zn(u),{x:c,y:h}=r,{width:v,height:f}=s;let y,g,b,x,_,j;return l==="center"?(_=h+f/2,a==="left"?(y=c,g=y-o,x=_+o,j=_-o):(y=c+v,g=y+o,x=_-o,j=_+o),b=y):(a==="left"?g=c+Math.max(i,p)+o:a==="right"?g=c+v-Math.max(d,m)-o:g=this.caretX,l==="top"?(x=h,_=x-o,y=g-o,b=g+o):(x=h+f,_=x+o,y=g+o,b=g-o),j=x),{x1:y,x2:g,x3:b,y1:x,y2:_,y3:j}}drawTitle(r,s,t){const a=this.title,l=a.length;let o,u,i;if(l){const d=hs(t.rtl,this.x,this.width);for(r.x=xo(this,t.titleAlign,t),s.textAlign=d.textAlign(t.titleAlign),s.textBaseline="middle",o=lr(t.titleFont),u=t.titleSpacing,s.fillStyle=t.titleColor,s.font=o.string,i=0;i<l;++i)s.fillText(a[i],d.x(r.x),r.y+o.lineHeight/2),r.y+=o.lineHeight+u,i+1===l&&(r.y+=t.titleMarginBottom-u)}}_drawColorBox(r,s,t,a,l){const o=this.labelColors[t],u=this.labelPointStyles[t],{boxHeight:i,boxWidth:d}=l,p=lr(l.bodyFont),m=xo(this,"left",l),c=a.x(m),h=i<p.lineHeight?(p.lineHeight-i)/2:0,v=s.y+h;if(l.usePointStyle){const f={radius:Math.min(d,i)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},y=a.leftForLtr(c,d)+d/2,g=v+i/2;r.strokeStyle=l.multiKeyBackground,r.fillStyle=l.multiKeyBackground,sa(r,f,y,g),r.strokeStyle=o.borderColor,r.fillStyle=o.backgroundColor,sa(r,f,y,g)}else{r.lineWidth=xt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,r.strokeStyle=o.borderColor,r.setLineDash(o.borderDash||[]),r.lineDashOffset=o.borderDashOffset||0;const f=a.leftForLtr(c,d),y=a.leftForLtr(a.xPlus(c,1),d-2),g=Zn(o.borderRadius);Object.values(g).some(b=>b!==0)?(r.beginPath(),r.fillStyle=l.multiKeyBackground,qs(r,{x:f,y:v,w:d,h:i,radius:g}),r.fill(),r.stroke(),r.fillStyle=o.backgroundColor,r.beginPath(),qs(r,{x:y,y:v+1,w:d-2,h:i-2,radius:g}),r.fill()):(r.fillStyle=l.multiKeyBackground,r.fillRect(f,v,d,i),r.strokeRect(f,v,d,i),r.fillStyle=o.backgroundColor,r.fillRect(y,v+1,d-2,i-2))}r.fillStyle=this.labelTextColors[t]}drawBody(r,s,t){const{body:a}=this,{bodySpacing:l,bodyAlign:o,displayColors:u,boxHeight:i,boxWidth:d,boxPadding:p}=t,m=lr(t.bodyFont);let c=m.lineHeight,h=0;const v=hs(t.rtl,this.x,this.width),f=function(E){s.fillText(E,v.x(r.x+h),r.y+c/2),r.y+=c+l},y=v.textAlign(o);let g,b,x,_,j,S,D;for(s.textAlign=o,s.textBaseline="middle",s.font=m.string,r.x=xo(this,y,t),s.fillStyle=t.bodyColor,Ct(this.beforeBody,f),h=u&&y!=="right"?o==="center"?d/2+p:d+2+p:0,_=0,S=a.length;_<S;++_){for(g=a[_],b=this.labelTextColors[_],s.fillStyle=b,Ct(g.before,f),x=g.lines,u&&x.length&&(this._drawColorBox(s,r,_,v,t),c=Math.max(m.lineHeight,i)),j=0,D=x.length;j<D;++j)f(x[j]),c=m.lineHeight;Ct(g.after,f)}h=0,c=m.lineHeight,Ct(this.afterBody,f),r.y-=l}drawFooter(r,s,t){const a=this.footer,l=a.length;let o,u;if(l){const i=hs(t.rtl,this.x,this.width);for(r.x=xo(this,t.footerAlign,t),r.y+=t.footerMarginTop,s.textAlign=i.textAlign(t.footerAlign),s.textBaseline="middle",o=lr(t.footerFont),s.fillStyle=t.footerColor,s.font=o.string,u=0;u<l;++u)s.fillText(a[u],i.x(r.x),r.y+o.lineHeight/2),r.y+=o.lineHeight+t.footerSpacing}}drawBackground(r,s,t,a){const{xAlign:l,yAlign:o}=this,{x:u,y:i}=r,{width:d,height:p}=t,{topLeft:m,topRight:c,bottomLeft:h,bottomRight:v}=Zn(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(u+m,i),o==="top"&&this.drawCaret(r,s,t,a),s.lineTo(u+d-c,i),s.quadraticCurveTo(u+d,i,u+d,i+c),o==="center"&&l==="right"&&this.drawCaret(r,s,t,a),s.lineTo(u+d,i+p-v),s.quadraticCurveTo(u+d,i+p,u+d-v,i+p),o==="bottom"&&this.drawCaret(r,s,t,a),s.lineTo(u+h,i+p),s.quadraticCurveTo(u,i+p,u,i+p-h),o==="center"&&l==="left"&&this.drawCaret(r,s,t,a),s.lineTo(u,i+m),s.quadraticCurveTo(u,i,u+m,i),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(r){const s=this.chart,t=this.$animations,a=t&&t.x,l=t&&t.y;if(a||l){const o=Fs[r.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=dc(this,r),i=Object.assign({},o,this._size),d=hc(s,r,i),p=fc(r,i,d,s);(a._to!==p.x||l._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(r){const s=this.options.setContext(this.getContext());let t=this.opacity;if(!t)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},l={x:this.x,y:this.y};t=Math.abs(t)<.001?0:t;const o=Cr(s.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&u&&(r.save(),r.globalAlpha=t,this.drawBackground(l,r,a,s),Bd(r,s.textDirection),l.y+=o.top,this.drawTitle(l,r,s),this.drawBody(l,r,s),this.drawFooter(l,r,s),Nd(r,s.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,s){const t=this._active,a=r.map(({datasetIndex:u,index:i})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[i],index:i}}),l=!Jo(t,a),o=this._positionChanged(a,s);(l||o)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(r,s,t=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,l=this._active||[],o=this._getActiveElements(r,l,s,t),u=this._positionChanged(o,r),i=s||!Jo(o,l)||u;return i&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,s))),i}_getActiveElements(r,s,t,a){const l=this.options;if(r.type==="mouseout")return[];if(!a)return s.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(r,l.mode,l,t);return l.reverse&&o.reverse(),o}_positionChanged(r,s){const{caretX:t,caretY:a,options:l}=this,o=Fs[l.position].call(this,r,s);return o!==!1&&(t!==o.x||a!==o.y)}}Qe(da,"positioners",Fs);var gb={id:"tooltip",_element:da,positioners:Fs,afterInit(n,r,s){s&&(n.tooltip=new da({chart:n,options:s}))},beforeUpdate(n,r,s){n.tooltip&&n.tooltip.initialize(s)},reset(n,r,s){n.tooltip&&n.tooltip.initialize(s)},afterDraw(n){const r=n.tooltip;if(r&&r._willRender()){const s={tooltip:r};if(n.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;r.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",s)}},afterEvent(n,r){if(n.tooltip){const s=r.replay;n.tooltip.handleEvent(r.event,s,r.inChartArea)&&(r.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,r)=>r.bodyFont.size,boxWidth:(n,r)=>r.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ch},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yb=Object.freeze({__proto__:null,Colors:A1,Decimation:F1,Filler:J1,Legend:ob,SubTitle:lb,Title:ab,Tooltip:gb});const vb=(n,r,s,t)=>(typeof r=="string"?(s=n.push(r)-1,t.unshift({index:s,label:r})):isNaN(r)&&(s=null),s);function bb(n,r,s,t){const a=n.indexOf(r);if(a===-1)return vb(n,r,s,t);const l=n.lastIndexOf(r);return a!==l?s:a}const _b=(n,r)=>n===null?null:fr(Math.round(n),0,r);function gc(n){const r=this.getLabels();return n>=0&&n<r.length?r[n]:n}class ha extends es{constructor(r){super(r),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(r){const s=this._addedLabels;if(s.length){const t=this.getLabels();for(const{index:a,label:l}of s)t[a]===l&&t.splice(a,1);this._addedLabels=[]}super.init(r)}parse(r,s){if(_t(r))return null;const t=this.getLabels();return s=isFinite(s)&&t[s]===r?s:bb(t,r,yt(s,r),this._addedLabels),_b(s,t.length-1)}determineDataLimits(){const{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:t,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(r||(t=0),s||(a=this.getLabels().length-1)),this.min=t,this.max=a}buildTicks(){const r=this.min,s=this.max,t=this.options.offset,a=[];let l=this.getLabels();l=r===0&&s===l.length-1?l:l.slice(r,s+1),this._valueRange=Math.max(l.length-(t?0:1),1),this._startValue=this.min-(t?.5:0);for(let o=r;o<=s;o++)a.push({value:o});return a}getLabelForValue(r){return gc.call(this,r)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(r){return typeof r!="number"&&(r=this.parse(r)),r===null?NaN:this.getPixelForDecimal((r-this._startValue)/this._valueRange)}getPixelForTick(r){const s=this.ticks;return r<0||r>s.length-1?null:this.getPixelForValue(s[r].value)}getValueForPixel(r){return Math.round(this._startValue+this.getDecimalForPixel(r)*this._valueRange)}getBasePixel(){return this.bottom}}Qe(ha,"id","category"),Qe(ha,"defaults",{ticks:{callback:gc}});function xb(n,r){const s=[],{bounds:a,step:l,min:o,max:u,precision:i,count:d,maxTicks:p,maxDigits:m,includeBounds:c}=n,h=l||1,v=p-1,{min:f,max:y}=r,g=!_t(o),b=!_t(u),x=!_t(d),_=(y-f)/(m+1);let j=du((y-f)/v/h)*h,S,D,E,T;if(j<1e-14&&!g&&!b)return[{value:f},{value:y}];T=Math.ceil(y/j)-Math.floor(f/j),T>v&&(j=du(T*j/v/h)*h),_t(i)||(S=Math.pow(10,i),j=Math.ceil(j*S)/S),a==="ticks"?(D=Math.floor(f/j)*j,E=Math.ceil(y/j)*j):(D=f,E=y),g&&b&&l&&py((u-o)/l,j/1e3)?(T=Math.round(Math.min((u-o)/j,p)),j=(u-o)/T,D=o,E=u):x?(D=g?o:D,E=b?u:E,T=d-1,j=(E-D)/T):(T=(E-D)/j,Rs(T,Math.round(T),j/1e3)?T=Math.round(T):T=Math.ceil(T));const F=Math.max(hu(j),hu(D));S=Math.pow(10,_t(i)?F:i),D=Math.round(D*S)/S,E=Math.round(E*S)/S;let A=0;for(g&&(c&&D!==o?(s.push({value:o}),D<o&&A++,Rs(Math.round((D+A*j)*S)/S,o,yc(o,_,n))&&A++):D<o&&A++);A<T;++A){const L=Math.round((D+A*j)*S)/S;if(b&&L>u)break;s.push({value:L})}return b&&c&&E!==u?s.length&&Rs(s[s.length-1].value,u,yc(u,_,n))?s[s.length-1].value=u:s.push({value:u}):(!b||E===u)&&s.push({value:E}),s}function yc(n,r,{horizontal:s,minRotation:t}){const a=Wr(t),l=(s?Math.sin(a):Math.cos(a))||.001,o=.75*r*(""+n).length;return Math.min(r/l,o)}class ii extends es{constructor(r){super(r),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(r,s){return _t(r)||(typeof r=="number"||r instanceof Number)&&!isFinite(+r)?null:+r}handleTickRangeOptions(){const{beginAtZero:r}=this.options,{minDefined:s,maxDefined:t}=this.getUserBounds();let{min:a,max:l}=this;const o=i=>a=s?a:i,u=i=>l=t?l:i;if(r){const i=sn(a),d=sn(l);i<0&&d<0?u(0):i>0&&d>0&&o(0)}if(a===l){let i=l===0?1:Math.abs(l*.05);u(l+i),r||o(a-i)}this.min=a,this.max=l}getTickLimit(){const r=this.options.ticks;let{maxTicksLimit:s,stepSize:t}=r,a;return t?(a=Math.ceil(this.max/t)-Math.floor(this.min/t)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${t} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const r=this.options,s=r.ticks;let t=this.getTickLimit();t=Math.max(2,t);const a={maxTicks:t,bounds:r.bounds,min:r.min,max:r.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},l=this._range||this,o=xb(a,l);return r.bounds==="ticks"&&xd(o,this,"value"),r.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const r=this.ticks;let s=this.min,t=this.max;if(super.configure(),this.options.offset&&r.length){const a=(t-s)/Math.max(r.length-1,1)/2;s-=a,t+=a}this._startValue=s,this._endValue=t,this._valueRange=t-s}getLabelForValue(r){return Qs(r,this.chart.options.locale,this.options.ticks.format)}}class fa extends ii{determineDataLimits(){const{min:r,max:s}=this.getMinMax(!0);this.min=Kt(r)?r:0,this.max=Kt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const r=this.isHorizontal(),s=r?this.width:this.height,t=Wr(this.options.ticks.minRotation),a=(r?Math.sin(t):Math.cos(t))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,l.lineHeight/a))}getPixelForValue(r){return r===null?NaN:this.getPixelForDecimal((r-this._startValue)/this._valueRange)}getValueForPixel(r){return this._startValue+this.getDecimalForPixel(r)*this._valueRange}}Qe(fa,"id","linear"),Qe(fa,"defaults",{ticks:{callback:hi.formatters.numeric}});const Ys=n=>Math.floor(En(n)),Vn=(n,r)=>Math.pow(10,Ys(n)+r);function vc(n){return n/Math.pow(10,Ys(n))===1}function bc(n,r,s){const t=Math.pow(10,s),a=Math.floor(n/t);return Math.ceil(r/t)-a}function wb(n,r){const s=r-n;let t=Ys(s);for(;bc(n,r,t)>10;)t++;for(;bc(n,r,t)<10;)t--;return Math.min(t,Ys(n))}function jb(n,{min:r,max:s}){r=Pr(n.min,r);const t=[],a=Ys(r);let l=wb(r,s),o=l<0?Math.pow(10,Math.abs(l)):1;const u=Math.pow(10,l),i=a>l?Math.pow(10,a):0,d=Math.round((r-i)*o)/o,p=Math.floor((r-i)/u/10)*u*10;let m=Math.floor((d-p)/Math.pow(10,l)),c=Pr(n.min,Math.round((i+p+m*Math.pow(10,l))*o)/o);for(;c<s;)t.push({value:c,major:vc(c),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(l++,m=2,o=l>=0?1:o),c=Math.round((i+p+m*Math.pow(10,l))*o)/o;const h=Pr(n.max,c);return t.push({value:h,major:vc(h),significand:m}),t}class pa extends es{constructor(r){super(r),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(r,s){const t=ii.prototype.parse.apply(this,[r,s]);if(t===0){this._zero=!0;return}return Kt(t)&&t>0?t:null}determineDataLimits(){const{min:r,max:s}=this.getMinMax(!0);this.min=Kt(r)?Math.max(0,r):null,this.max=Kt(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Kt(this._userMin)&&(this.min=r===Vn(this.min,0)?Vn(this.min,-1):Vn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:r,maxDefined:s}=this.getUserBounds();let t=this.min,a=this.max;const l=u=>t=r?t:u,o=u=>a=s?a:u;t===a&&(t<=0?(l(1),o(10)):(l(Vn(t,-1)),o(Vn(a,1)))),t<=0&&l(Vn(a,-1)),a<=0&&o(Vn(t,1)),this.min=t,this.max=a}buildTicks(){const r=this.options,s={min:this._userMin,max:this._userMax},t=jb(s,this);return r.bounds==="ticks"&&xd(t,this,"value"),r.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(r){return r===void 0?"0":Qs(r,this.chart.options.locale,this.options.ticks.format)}configure(){const r=this.min;super.configure(),this._startValue=En(r),this._valueRange=En(this.max)-En(r)}getPixelForValue(r){return(r===void 0||r===0)&&(r=this.min),r===null||isNaN(r)?NaN:this.getPixelForDecimal(r===this.min?0:(En(r)-this._startValue)/this._valueRange)}getValueForPixel(r){const s=this.getDecimalForPixel(r);return Math.pow(10,this._startValue+s*this._valueRange)}}Qe(pa,"id","logarithmic"),Qe(pa,"defaults",{ticks:{callback:hi.formatters.logarithmic,major:{enabled:!0}}});function ma(n){const r=n.ticks;if(r.display&&n.display){const s=Cr(r.backdropPadding);return yt(r.font&&r.font.size,Wt.font.size)+s.height}return 0}function Sb(n,r,s){return s=Ht(s)?s:[s],{w:ky(n,r.string,s),h:s.length*r.lineHeight}}function _c(n,r,s,t,a){return n===t||n===a?{start:r-s/2,end:r+s/2}:n<t||n>a?{start:r-s,end:r}:{start:r,end:r+s}}function Db(n){const r={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},s=Object.assign({},r),t=[],a=[],l=n._pointLabels.length,o=n.options.pointLabels,u=o.centerPointLabels?Ut/l:0;for(let i=0;i<l;i++){const d=o.setContext(n.getPointLabelContext(i));a[i]=d.padding;const p=n.getPointPosition(i,n.drawingArea+a[i],u),m=lr(d.font),c=Sb(n.ctx,m,n._pointLabels[i]);t[i]=c;const h=Lr(n.getIndexAngle(i)+u),v=Math.round(Ma(h)),f=_c(v,p.x,c.w,0,180),y=_c(v,p.y,c.h,90,270);Eb(s,r,h,f,y)}n.setCenterPoint(r.l-s.l,s.r-r.r,r.t-s.t,s.b-r.b),n._pointLabelItems=Ab(n,t,a)}function Eb(n,r,s,t,a){const l=Math.abs(Math.sin(s)),o=Math.abs(Math.cos(s));let u=0,i=0;t.start<r.l?(u=(r.l-t.start)/l,n.l=Math.min(n.l,r.l-u)):t.end>r.r&&(u=(t.end-r.r)/l,n.r=Math.max(n.r,r.r+u)),a.start<r.t?(i=(r.t-a.start)/o,n.t=Math.min(n.t,r.t-i)):a.end>r.b&&(i=(a.end-r.b)/o,n.b=Math.max(n.b,r.b+i))}function Cb(n,r,s){const t=n.drawingArea,{extra:a,additionalAngle:l,padding:o,size:u}=s,i=n.getPointPosition(r,t+a+o,l),d=Math.round(Ma(Lr(i.angle+Qt))),p=Ob(i.y,u.h,d),m=Tb(d),c=kb(i.x,u.w,m);return{visible:!0,x:i.x,y:p,textAlign:m,left:c,top:p,right:c+u.w,bottom:p+u.h}}function Mb(n,r){if(!r)return!0;const{left:s,top:t,right:a,bottom:l}=n;return!(vn({x:s,y:t},r)||vn({x:s,y:l},r)||vn({x:a,y:t},r)||vn({x:a,y:l},r))}function Ab(n,r,s){const t=[],a=n._pointLabels.length,l=n.options,{centerPointLabels:o,display:u}=l.pointLabels,i={extra:ma(l)/2,additionalAngle:o?Ut/a:0};let d;for(let p=0;p<a;p++){i.padding=s[p],i.size=r[p];const m=Cb(n,p,i);t.push(m),u==="auto"&&(m.visible=Mb(m,d),m.visible&&(d=m))}return t}function Tb(n){return n===0||n===180?"center":n<180?"left":"right"}function kb(n,r,s){return s==="right"?n-=r:s==="center"&&(n-=r/2),n}function Ob(n,r,s){return s===90||s===270?n-=r/2:(s>270||s<90)&&(n-=r),n}function Fb(n,r,s){const{left:t,top:a,right:l,bottom:o}=s,{backdropColor:u}=r;if(!_t(u)){const i=Zn(r.borderRadius),d=Cr(r.backdropPadding);n.fillStyle=u;const p=t-d.left,m=a-d.top,c=l-t+d.width,h=o-a+d.height;Object.values(i).some(v=>v!==0)?(n.beginPath(),qs(n,{x:p,y:m,w:c,h,radius:i}),n.fill()):n.fillRect(p,m,c,h)}}function Pb(n,r){const{ctx:s,options:{pointLabels:t}}=n;for(let a=r-1;a>=0;a--){const l=n._pointLabelItems[a];if(!l.visible)continue;const o=t.setContext(n.getPointLabelContext(a));Fb(s,o,l);const u=lr(o.font),{x:i,y:d,textAlign:p}=l;Jn(s,n._pointLabels[a],i,d+u.lineHeight/2,u,{color:o.color,textAlign:p,textBaseline:"middle"})}}function dh(n,r,s,t){const{ctx:a}=n;if(s)a.arc(n.xCenter,n.yCenter,r,0,Nt);else{let l=n.getPointPosition(0,r);a.moveTo(l.x,l.y);for(let o=1;o<t;o++)l=n.getPointPosition(o,r),a.lineTo(l.x,l.y)}}function Lb(n,r,s,t,a){const l=n.ctx,o=r.circular,{color:u,lineWidth:i}=r;!o&&!t||!u||!i||s<0||(l.save(),l.strokeStyle=u,l.lineWidth=i,l.setLineDash(a.dash||[]),l.lineDashOffset=a.dashOffset,l.beginPath(),dh(n,s,o,t),l.closePath(),l.stroke(),l.restore())}function Rb(n,r,s){return Pn(n,{label:s,index:r,type:"pointLabel"})}class Ps extends ii{constructor(r){super(r),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const r=this._padding=Cr(ma(this.options)/2),s=this.width=this.maxWidth-r.width,t=this.height=this.maxHeight-r.height;this.xCenter=Math.floor(this.left+s/2+r.left),this.yCenter=Math.floor(this.top+t/2+r.top),this.drawingArea=Math.floor(Math.min(s,t)/2)}determineDataLimits(){const{min:r,max:s}=this.getMinMax(!1);this.min=Kt(r)&&!isNaN(r)?r:0,this.max=Kt(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ma(this.options))}generateTickLabels(r){ii.prototype.generateTickLabels.call(this,r),this._pointLabels=this.getLabels().map((s,t)=>{const a=Lt(this.options.pointLabels.callback,[s,t],this);return a||a===0?a:""}).filter((s,t)=>this.chart.getDataVisibility(t))}fit(){const r=this.options;r.display&&r.pointLabels.display?Db(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(r,s,t,a){this.xCenter+=Math.floor((r-s)/2),this.yCenter+=Math.floor((t-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(r,s,t,a))}getIndexAngle(r){const s=Nt/(this._pointLabels.length||1),t=this.options.startAngle||0;return Lr(r*s+Wr(t))}getDistanceFromCenterForValue(r){if(_t(r))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-r)*s:(r-this.min)*s}getValueForDistanceFromCenter(r){if(_t(r))return NaN;const s=r/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(r){const s=this._pointLabels||[];if(r>=0&&r<s.length){const t=s[r];return Rb(this.getContext(),r,t)}}getPointPosition(r,s,t=0){const a=this.getIndexAngle(r)-Qt+t;return{x:Math.cos(a)*s+this.xCenter,y:Math.sin(a)*s+this.yCenter,angle:a}}getPointPositionForValue(r,s){return this.getPointPosition(r,this.getDistanceFromCenterForValue(s))}getBasePosition(r){return this.getPointPositionForValue(r||0,this.getBaseValue())}getPointLabelPosition(r){const{left:s,top:t,right:a,bottom:l}=this._pointLabelItems[r];return{left:s,top:t,right:a,bottom:l}}drawBackground(){const{backgroundColor:r,grid:{circular:s}}=this.options;if(r){const t=this.ctx;t.save(),t.beginPath(),dh(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),t.closePath(),t.fillStyle=r,t.fill(),t.restore()}}drawGrid(){const r=this.ctx,s=this.options,{angleLines:t,grid:a,border:l}=s,o=this._pointLabels.length;let u,i,d;if(s.pointLabels.display&&Pb(this,o),a.display&&this.ticks.forEach((p,m)=>{if(m!==0||m===0&&this.min<0){i=this.getDistanceFromCenterForValue(p.value);const c=this.getContext(m),h=a.setContext(c),v=l.setContext(c);Lb(this,h,i,o,v)}}),t.display){for(r.save(),u=o-1;u>=0;u--){const p=t.setContext(this.getPointLabelContext(u)),{color:m,lineWidth:c}=p;!c||!m||(r.lineWidth=c,r.strokeStyle=m,r.setLineDash(p.borderDash),r.lineDashOffset=p.borderDashOffset,i=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),d=this.getPointPosition(u,i),r.beginPath(),r.moveTo(this.xCenter,this.yCenter),r.lineTo(d.x,d.y),r.stroke())}r.restore()}}drawBorder(){}drawLabels(){const r=this.ctx,s=this.options,t=s.ticks;if(!t.display)return;const a=this.getIndexAngle(0);let l,o;r.save(),r.translate(this.xCenter,this.yCenter),r.rotate(a),r.textAlign="center",r.textBaseline="middle",this.ticks.forEach((u,i)=>{if(i===0&&this.min>=0&&!s.reverse)return;const d=t.setContext(this.getContext(i)),p=lr(d.font);if(l=this.getDistanceFromCenterForValue(this.ticks[i].value),d.showLabelBackdrop){r.font=p.string,o=r.measureText(u.label).width,r.fillStyle=d.backdropColor;const m=Cr(d.backdropPadding);r.fillRect(-o/2-m.left,-l-p.size/2-m.top,o+m.width,p.size+m.height)}Jn(r,u.label,0,-l,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),r.restore()}drawTitle(){}}Qe(Ps,"id","radialLinear"),Qe(Ps,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:hi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}}),Qe(Ps,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Qe(Ps,"descriptors",{angleLines:{_fallback:"grid"}});const yi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kr=Object.keys(yi);function xc(n,r){return n-r}function wc(n,r){if(_t(r))return null;const s=n._adapter,{parser:t,round:a,isoWeekday:l}=n._parseOpts;let o=r;return typeof t=="function"&&(o=t(o)),Kt(o)||(o=typeof t=="string"?s.parse(o,t):s.parse(o)),o===null?null:(a&&(o=a==="week"&&(gs(l)||l===!0)?s.startOf(o,"isoWeek",l):s.startOf(o,a)),+o)}function jc(n,r,s,t){const a=kr.length;for(let l=kr.indexOf(n);l<a-1;++l){const o=yi[kr[l]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-r)/(u*o.size))<=t)return kr[l]}return kr[a-1]}function Ib(n,r,s,t,a){for(let l=kr.length-1;l>=kr.indexOf(s);l--){const o=kr[l];if(yi[o].common&&n._adapter.diff(a,t,o)>=r-1)return o}return kr[s?kr.indexOf(s):0]}function Bb(n){for(let r=kr.indexOf(n)+1,s=kr.length;r<s;++r)if(yi[kr[r]].common)return kr[r]}function Sc(n,r,s){if(!s)n[r]=!0;else if(s.length){const{lo:t,hi:a}=Aa(s,r),l=s[t]>=r?s[t]:s[a];n[l]=!0}}function Nb(n,r,s,t){const a=n._adapter,l=+a.startOf(r[0].value,t),o=r[r.length-1].value;let u,i;for(u=l;u<=o;u=+a.add(u,1,t))i=s[u],i>=0&&(r[i].major=!0);return r}function Dc(n,r,s){const t=[],a={},l=r.length;let o,u;for(o=0;o<l;++o)u=r[o],a[u]=o,t.push({value:u,major:!1});return l===0||!s?t:Nb(n,t,a,s)}class $s extends es{constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,s={}){const t=r.time||(r.time={}),a=this._adapter=new X0._date(r.adapters.date);a.init(s),Ls(t.displayFormats,a.formats()),this._parseOpts={parser:t.parser,round:t.round,isoWeekday:t.isoWeekday},super.init(r),this._normalized=s.normalized}parse(r,s){return r===void 0?null:wc(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const r=this.options,s=this._adapter,t=r.time.unit||"day";let{min:a,max:l,minDefined:o,maxDefined:u}=this.getUserBounds();function i(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!u&&!isNaN(d.max)&&(l=Math.max(l,d.max))}(!o||!u)&&(i(this._getLabelBounds()),(r.bounds!=="ticks"||r.ticks.source!=="labels")&&i(this.getMinMax(!1))),a=Kt(a)&&!isNaN(a)?a:+s.startOf(Date.now(),t),l=Kt(l)&&!isNaN(l)?l:+s.endOf(Date.now(),t)+1,this.min=Math.min(a,l-1),this.max=Math.max(a+1,l)}_getLabelBounds(){const r=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;return r.length&&(s=r[0],t=r[r.length-1]),{min:s,max:t}}buildTicks(){const r=this.options,s=r.time,t=r.ticks,a=t.source==="labels"?this.getLabelTimestamps():this._generate();r.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const l=this.min,o=this.max,u=vy(a,l,o);return this._unit=s.unit||(t.autoSkip?jc(s.minUnit,this.min,this.max,this._getLabelCapacity(l)):Ib(this,u.length,s.minUnit,this.min,this.max)),this._majorUnit=!t.major.enabled||this._unit==="year"?void 0:Bb(this._unit),this.initOffsets(a),r.reverse&&u.reverse(),Dc(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(r=>+r.value))}initOffsets(r=[]){let s=0,t=0,a,l;this.options.offset&&r.length&&(a=this.getDecimalForValue(r[0]),r.length===1?s=1-a:s=(this.getDecimalForValue(r[1])-a)/2,l=this.getDecimalForValue(r[r.length-1]),r.length===1?t=l:t=(l-this.getDecimalForValue(r[r.length-2]))/2);const o=r.length<3?.5:.25;s=fr(s,0,o),t=fr(t,0,o),this._offsets={start:s,end:t,factor:1/(s+1+t)}}_generate(){const r=this._adapter,s=this.min,t=this.max,a=this.options,l=a.time,o=l.unit||jc(l.minUnit,s,t,this._getLabelCapacity(s)),u=yt(a.ticks.stepSize,1),i=o==="week"?l.isoWeekday:!1,d=gs(i)||i===!0,p={};let m=s,c,h;if(d&&(m=+r.startOf(m,"isoWeek",i)),m=+r.startOf(m,d?"day":o),r.diff(t,s,o)>1e5*u)throw new Error(s+" and "+t+" are too far apart with stepSize of "+u+" "+o);const v=a.ticks.source==="data"&&this.getDataTimestamps();for(c=m,h=0;c<t;c=+r.add(c,u,o),h++)Sc(p,c,v);return(c===t||a.bounds==="ticks"||h===1)&&Sc(p,c,v),Object.keys(p).sort(xc).map(f=>+f)}getLabelForValue(r){const s=this._adapter,t=this.options.time;return t.tooltipFormat?s.format(r,t.tooltipFormat):s.format(r,t.displayFormats.datetime)}format(r,s){const a=this.options.time.displayFormats,l=this._unit,o=s||a[l];return this._adapter.format(r,o)}_tickFormatFunction(r,s,t,a){const l=this.options,o=l.ticks.callback;if(o)return Lt(o,[r,s,t],this);const u=l.time.displayFormats,i=this._unit,d=this._majorUnit,p=i&&u[i],m=d&&u[d],c=t[s],h=d&&m&&c&&c.major;return this._adapter.format(r,a||(h?m:p))}generateTickLabels(r){let s,t,a;for(s=0,t=r.length;s<t;++s)a=r[s],a.label=this._tickFormatFunction(a.value,s,r)}getDecimalForValue(r){return r===null?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){const s=this._offsets,t=this.getDecimalForValue(r);return this.getPixelForDecimal((s.start+t)*s.factor)}getValueForPixel(r){const s=this._offsets,t=this.getDecimalForPixel(r)/s.factor-s.end;return this.min+t*(this.max-this.min)}_getLabelSize(r){const s=this.options.ticks,t=this.ctx.measureText(r).width,a=Wr(this.isHorizontal()?s.maxRotation:s.minRotation),l=Math.cos(a),o=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:t*l+u*o,h:t*o+u*l}}_getLabelCapacity(r){const s=this.options.time,t=s.displayFormats,a=t[s.unit]||t.millisecond,l=this._tickFormatFunction(r,0,Dc(this,[r],this._majorUnit),a),o=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let r=this._cache.data||[],s,t;if(r.length)return r;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,t=a.length;s<t;++s)r=r.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const r=this._cache.labels||[];let s,t;if(r.length)return r;const a=this.getLabels();for(s=0,t=a.length;s<t;++s)r.push(wc(this,a[s]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return Sd(r.sort(xc))}}Qe($s,"id","time"),Qe($s,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function wo(n,r,s){let t=0,a=n.length-1,l,o,u,i;s?(r>=n[t].pos&&r<=n[a].pos&&({lo:t,hi:a}=yn(n,"pos",r)),{pos:l,time:u}=n[t],{pos:o,time:i}=n[a]):(r>=n[t].time&&r<=n[a].time&&({lo:t,hi:a}=yn(n,"time",r)),{time:l,pos:u}=n[t],{time:o,pos:i}=n[a]);const d=o-l;return d?u+(i-u)*(r-l)/d:u}class ga extends $s{constructor(r){super(r),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const r=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(r);this._minPos=wo(s,this.min),this._tableRange=wo(s,this.max)-this._minPos,super.initOffsets(r)}buildLookupTable(r){const{min:s,max:t}=this,a=[],l=[];let o,u,i,d,p;for(o=0,u=r.length;o<u;++o)d=r[o],d>=s&&d<=t&&a.push(d);if(a.length<2)return[{time:s,pos:0},{time:t,pos:1}];for(o=0,u=a.length;o<u;++o)p=a[o+1],i=a[o-1],d=a[o],Math.round((p+i)/2)!==d&&l.push({time:d,pos:o/(u-1)});return l}_generate(){const r=this.min,s=this.max;let t=super.getDataTimestamps();return(!t.includes(r)||!t.length)&&t.splice(0,0,r),(!t.includes(s)||t.length===1)&&t.push(s),t.sort((a,l)=>a-l)}_getTimestampsForTable(){let r=this._cache.all||[];if(r.length)return r;const s=this.getDataTimestamps(),t=this.getLabelTimestamps();return s.length&&t.length?r=this.normalize(s.concat(t)):r=s.length?s:t,r=this._cache.all=r,r}getDecimalForValue(r){return(wo(this._table,r)-this._minPos)/this._tableRange}getValueForPixel(r){const s=this._offsets,t=this.getDecimalForPixel(r)/s.factor-s.end;return wo(this._table,t*this._tableRange+this._minPos,!0)}}Qe(ga,"id","timeseries"),Qe(ga,"defaults",$s.defaults);var Ub=Object.freeze({__proto__:null,CategoryScale:ha,LinearScale:fa,LogarithmicScale:pa,RadialLinearScale:Ps,TimeScale:$s,TimeSeriesScale:ga});const zb=[q0,w1,yb,Ub],Gb=(n,r)=>({type:"line",data:{labels:[],datasets:[{label:n,data:[],borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!1,tension:.1}]},options:{responsive:!1,scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:r}},y:{title:{display:!0,text:n}}},maintainAspectRatio:!1}});pn.register(...zb);const Vb=()=>{const n=document.createElement("canvas");n.className="certaintyChart",n.width=800,n.height=400,document.querySelector(Og).appendChild(n);const r=n.getContext("2d");return new pn(r,Gb("",""))},Hb=(n,r)=>{const s=n.map(u=>u.epoch),t=n.map(u=>u.certainty),a=Math.floor(n.length/100),l=s.filter((u,i)=>i%a===0),o=t.filter((u,i)=>i%a===0);r.data.labels=l,r.data.datasets[0].data=o,r.update()};function jo(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hi={exports:{}};/*! p5.js v1.11.3 January 22, 2025 */var Ec;function Wb(){return Ec||(Ec=1,function(n,r){(function(s){n.exports=s()})(function(){var s;return function t(a,l,o){function u(p,m){if(!l[p]){if(!a[p]){var c=typeof jo=="function"&&jo;if(!m&&c)return c(p,!0);if(i)return i(p,!0);throw(m=new Error("Cannot find module '"+p+"'")).code="MODULE_NOT_FOUND",m}c=l[p]={exports:{}},a[p][0].call(c.exports,function(h){return u(a[p][1][h]||h)},c,c.exports,t,a,l,o)}return l[p].exports}for(var i=typeof jo=="function"&&jo,d=0;d<o.length;d++)u(o[d]);return u}({1:[function(t,a,l){l.byteLength=function(f){var f=c(f),v=f[0],f=f[1];return 3*(v+f)/4-f},l.toByteArray=function(h){var v,f,g=c(h),y=g[0],g=g[1],b=new i(function(j,S){return 3*(j+S)/4-S}(y,g)),x=0,_=0<g?y-4:y;for(f=0;f<_;f+=4)v=u[h.charCodeAt(f)]<<18|u[h.charCodeAt(f+1)]<<12|u[h.charCodeAt(f+2)]<<6|u[h.charCodeAt(f+3)],b[x++]=v>>16&255,b[x++]=v>>8&255,b[x++]=255&v;return g===2&&(v=u[h.charCodeAt(f)]<<2|u[h.charCodeAt(f+1)]>>4,b[x++]=255&v),g===1&&(v=u[h.charCodeAt(f)]<<10|u[h.charCodeAt(f+1)]<<4|u[h.charCodeAt(f+2)]>>2,b[x++]=v>>8&255,b[x++]=255&v),b},l.fromByteArray=function(h){for(var v,f=h.length,y=f%3,g=[],b=0,x=f-y;b<x;b+=16383)g.push(function(_,j,S){for(var D,E=[],T=j;T<S;T+=3)D=(_[T]<<16&16711680)+(_[T+1]<<8&65280)+(255&_[T+2]),E.push(function(F){return o[F>>18&63]+o[F>>12&63]+o[F>>6&63]+o[63&F]}(D));return E.join("")}(h,b,x<b+16383?x:b+16383));return y==1?(v=h[f-1],g.push(o[v>>2]+o[v<<4&63]+"==")):y==2&&(v=(h[f-2]<<8)+h[f-1],g.push(o[v>>10]+o[v>>4&63]+o[v<<2&63]+"=")),g.join("")};for(var o=[],u=[],i=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=d.length;p<m;++p)o[p]=d[p],u[d.charCodeAt(p)]=p;function c(h){var v=h.length;if(0<v%4)throw new Error("Invalid string. Length must be a multiple of 4");return h=h.indexOf("="),v=(h=h===-1?v:h)===v?0:4-h%4,[h,v]}u[45]=62,u[95]=63},{}],2:[function(t,a,l){},{}],3:[function(t,a,l){},{}],4:[function(t,a,l){(function(c){var u=t("base64-js"),i=t("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,p=(l.Buffer=c,l.SlowBuffer=function(M){return+M!=M&&(M=0),c.alloc(+M)},l.INSPECT_MAX_BYTES=50,2147483647);function m(M){if(p<M)throw new RangeError('The value "'+M+'" is invalid for option "size"');return M=new Uint8Array(M),Object.setPrototypeOf(M,c.prototype),M}function c(M,R,z){if(typeof M!="number")return h(M,R,z);if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(M)}function h(M,R,z){if(typeof M=="string"){var W=M,J=R;if(c.isEncoding(J=typeof J=="string"&&J!==""?J:"utf8"))return te=0|b(W,J),ie=m(te),ie=(W=ie.write(W,J))!==te?ie.slice(0,W):ie;throw new TypeError("Unknown encoding: "+J)}if(ArrayBuffer.isView(M))return y(M);if(M!=null){if(Y(M,ArrayBuffer)||M&&Y(M.buffer,ArrayBuffer)){var te=M,W=R,ie=z;if(W<0||te.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<W+(ie||0))throw new RangeError('"length" is outside of buffer bounds');return te=W===void 0&&ie===void 0?new Uint8Array(te):ie===void 0?new Uint8Array(te,W):new Uint8Array(te,W,ie),Object.setPrototypeOf(te,c.prototype),te}if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(J=M.valueOf&&M.valueOf(),J!=null&&J!==M)return c.from(J,R,z);var de=function(oe){{var he,le;if(c.isBuffer(oe))return he=0|g(oe.length),(le=m(he)).length!==0&&oe.copy(le,0,0,he),le}if(oe.length!==void 0)return typeof oe.length!="number"||K(oe.length)?m(0):y(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return y(oe.data)}(M);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return c.from(M[Symbol.toPrimitive]("string"),R,z)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}function v(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function f(M){return v(M),m(M<0?0:0|g(M))}function y(M){for(var R=M.length<0?0:0|g(M.length),z=m(R),W=0;W<R;W+=1)z[W]=255&M[W];return z}function g(M){if(p<=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|M}function b(M,R){if(c.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||Y(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var z=M.length,W=2<arguments.length&&arguments[2]===!0;if(!W&&z===0)return 0;for(var J=!1;;)switch(R){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return H(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return V(M).length;default:if(J)return W?-1:H(M).length;R=(""+R).toLowerCase(),J=!0}}function x(M,R,z){var W,J=!1;if((R=R===void 0||R<0?0:R)>this.length||(z=z===void 0||z>this.length?this.length:z)<=0||(z>>>=0)<=(R>>>=0))return"";for(M=M||"utf8";;)switch(M){case"hex":var te=this,xe=R,ie=z,le=te.length;(!ie||ie<0||le<ie)&&(ie=le);for(var de="",oe=xe=!xe||xe<0?0:xe;oe<ie;++oe)de+=se[te[oe]];return de;case"utf8":case"utf-8":return T(this,R,z);case"ascii":var he=this,le=R,ee=z,pe="";ee=Math.min(he.length,ee);for(var _e=le;_e<ee;++_e)pe+=String.fromCharCode(127&he[_e]);return pe;case"latin1":case"binary":var De=this,xe=R,je=z,Te="";je=Math.min(De.length,je);for(var Ge=xe;Ge<je;++Ge)Te+=String.fromCharCode(De[Ge]);return Te;case"base64":return Oe=this,W=z,(ae=R)===0&&W===Oe.length?u.fromByteArray(Oe):u.fromByteArray(Oe.slice(ae,W));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Oe=R,ae=z,ge=this.slice(Oe,ae),we="",Me=0;Me<ge.length;Me+=2)we+=String.fromCharCode(ge[Me]+256*ge[Me+1]);return we;default:if(J)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),J=!0}}function _(M,R,z){var W=M[R];M[R]=M[z],M[z]=W}function j(M,R,z,W,J){if(M.length===0)return-1;if(typeof z=="string"?(W=z,z=0):2147483647<z?z=2147483647:z<-2147483648&&(z=-2147483648),(z=(z=K(z=+z)?J?0:M.length-1:z)<0?M.length+z:z)>=M.length){if(J)return-1;z=M.length-1}else if(z<0){if(!J)return-1;z=0}if(typeof R=="string"&&(R=c.from(R,W)),c.isBuffer(R))return R.length===0?-1:S(M,R,z,W,J);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?(J?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(M,R,z):S(M,[R],z,W,J);throw new TypeError("val must be string, number or Buffer")}function S(M,R,z,W,J){var te=1,ie=M.length,de=R.length;if(W!==void 0&&((W=String(W).toLowerCase())==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(M.length<2||R.length<2)return-1;ie/=te=2,de/=2,z/=2}function oe(_e,De){return te===1?_e[De]:_e.readUInt16BE(De*te)}if(J)for(var he=-1,le=z;le<ie;le++)if(oe(M,le)===oe(R,he===-1?0:le-he)){if(le-(he=he===-1?le:he)+1===de)return he*te}else he!==-1&&(le-=le-he),he=-1;else for(le=z=ie<z+de?ie-de:z;0<=le;le--){for(var ee=!0,pe=0;pe<de;pe++)if(oe(M,le+pe)!==oe(R,pe)){ee=!1;break}if(ee)return le}return-1}function D(M,R,z,W){return G(function(J){for(var te=[],ie=0;ie<J.length;++ie)te.push(255&J.charCodeAt(ie));return te}(R),M,z,W)}function E(M,R,z,W){return G(function(J,te){for(var ie,de,oe=[],he=0;he<J.length&&!((te-=2)<0);++he)de=J.charCodeAt(he),ie=de>>8,de=de%256,oe.push(de),oe.push(ie);return oe}(R,M.length-z),M,z,W)}function T(M,R,z){z=Math.min(M.length,z);for(var W=[],J=R;J<z;){var te,ie,de,oe,he=M[J],le=null,ee=239<he?4:223<he?3:191<he?2:1;if(J+ee<=z)switch(ee){case 1:he<128&&(le=he);break;case 2:(192&(te=M[J+1]))==128&&127<(oe=(31&he)<<6|63&te)&&(le=oe);break;case 3:te=M[J+1],ie=M[J+2],(192&te)==128&&(192&ie)==128&&2047<(oe=(15&he)<<12|(63&te)<<6|63&ie)&&(oe<55296||57343<oe)&&(le=oe);break;case 4:te=M[J+1],ie=M[J+2],de=M[J+3],(192&te)==128&&(192&ie)==128&&(192&de)==128&&65535<(oe=(15&he)<<18|(63&te)<<12|(63&ie)<<6|63&de)&&oe<1114112&&(le=oe)}le===null?(le=65533,ee=1):65535<le&&(le-=65536,W.push(le>>>10&1023|55296),le=56320|1023&le),W.push(le),J+=ee}var pe=W,_e=pe.length;if(_e<=F)return String.fromCharCode.apply(String,pe);for(var De="",xe=0;xe<_e;)De+=String.fromCharCode.apply(String,pe.slice(xe,xe+=F));return De}l.kMaxLength=p,(c.TYPED_ARRAY_SUPPORT=function(){try{var M=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(M,R),M.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=h,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(M,R,z){return R=R,z=z,v(M=M),!(M<=0)&&R!==void 0?typeof z=="string"?m(M).fill(R,z):m(M).fill(R):m(M)},c.allocUnsafe=f,c.allocUnsafeSlow=f,c.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==c.prototype},c.compare=function(M,R){if(Y(M,Uint8Array)&&(M=c.from(M,M.offset,M.byteLength)),Y(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(M)||!c.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===R)return 0;for(var z=M.length,W=R.length,J=0,te=Math.min(z,W);J<te;++J)if(M[J]!==R[J]){z=M[J],W=R[J];break}return z<W?-1:W<z?1:0},c.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(M,R){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return c.alloc(0);if(R===void 0)for(J=R=0;J<M.length;++J)R+=M[J].length;for(var z=c.allocUnsafe(R),W=0,J=0;J<M.length;++J){var te=M[J];if(Y(te,Uint8Array)&&(te=c.from(te)),!c.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(z,W),W+=te.length}return z},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<M;R+=2)_(this,R,R+1);return this},c.prototype.swap32=function(){var M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<M;R+=4)_(this,R,R+3),_(this,R+1,R+2);return this},c.prototype.swap64=function(){var M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<M;R+=8)_(this,R,R+7),_(this,R+1,R+6),_(this,R+2,R+5),_(this,R+3,R+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var M=this.length;return M===0?"":arguments.length===0?T(this,0,M):x.apply(this,arguments)},c.prototype.equals=function(M){if(c.isBuffer(M))return this===M||c.compare(this,M)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var R="",M=l.INSPECT_MAX_BYTES,R=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim();return this.length>M&&(R+=" ... "),"<Buffer "+R+">"},d&&(c.prototype[d]=c.prototype.inspect),c.prototype.compare=function(M,R,z,W,J){if(Y(M,Uint8Array)&&(M=c.from(M,M.offset,M.byteLength)),!c.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(z===void 0&&(z=M?M.length:0),W===void 0&&(W=0),J===void 0&&(J=this.length),(R=R===void 0?0:R)<0||z>M.length||W<0||J>this.length)throw new RangeError("out of range index");if(J<=W&&z<=R)return 0;if(J<=W)return-1;if(z<=R)return 1;if(this===M)return 0;for(var te=(J>>>=0)-(W>>>=0),ie=(z>>>=0)-(R>>>=0),de=Math.min(te,ie),oe=this.slice(W,J),he=M.slice(R,z),le=0;le<de;++le)if(oe[le]!==he[le]){te=oe[le],ie=he[le];break}return te<ie?-1:ie<te?1:0},c.prototype.includes=function(M,R,z){return this.indexOf(M,R,z)!==-1},c.prototype.indexOf=function(M,R,z){return j(this,M,R,z,!0)},c.prototype.lastIndexOf=function(M,R,z){return j(this,M,R,z,!1)},c.prototype.write=function(M,R,z,W){if(R===void 0)W="utf8",z=this.length,R=0;else if(z===void 0&&typeof R=="string")W=R,z=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(z)?(z>>>=0,W===void 0&&(W="utf8")):(W=z,z=void 0)}var J=this.length-R;if((z===void 0||J<z)&&(z=J),0<M.length&&(z<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");W=W||"utf8";for(var te,ie,de,oe=!1;;)switch(W){case"hex":var he=this,le=M,ee=R,pe=z,_e=(ee=Number(ee)||0,he.length-ee);(!pe||_e<(pe=Number(pe)))&&(pe=_e),(_e=le.length)/2<pe&&(pe=_e/2);for(var De=0;De<pe;++De){var xe=parseInt(le.substr(2*De,2),16);if(K(xe))return De;he[ee+De]=xe}return De;case"utf8":case"utf-8":return _e=R,de=z,G(H(M,(ie=this).length-_e),ie,_e,de);case"ascii":return D(this,M,R,z);case"latin1":case"binary":return D(this,M,R,z);case"base64":return ie=this,de=R,te=z,G(V(M),ie,de,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,M,R,z);default:if(oe)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),oe=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function A(M,R,z){if(M%1!=0||M<0)throw new RangeError("offset is not uint");if(z<M+R)throw new RangeError("Trying to access beyond buffer length")}function L(M,R,z,W,J,te){if(!c.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(J<R||R<te)throw new RangeError('"value" argument is out of bounds');if(z+W>M.length)throw new RangeError("Index out of range")}function O(M,R,z,W){if(z+W>M.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function B(M,R,z,W,J){return R=+R,z>>>=0,J||O(M,0,z,4),i.write(M,R,z,W,23,4),z+4}function I(M,R,z,W,J){return R=+R,z>>>=0,J||O(M,0,z,8),i.write(M,R,z,W,52,8),z+8}c.prototype.slice=function(M,R){var z=this.length,z=((M=~~M)<0?(M+=z)<0&&(M=0):z<M&&(M=z),(R=R===void 0?z:~~R)<0?(R+=z)<0&&(R=0):z<R&&(R=z),R<M&&(R=M),this.subarray(M,R));return Object.setPrototypeOf(z,c.prototype),z},c.prototype.readUIntLE=function(M,R,z){M>>>=0,R>>>=0,z||A(M,R,this.length);for(var W=this[M],J=1,te=0;++te<R&&(J*=256);)W+=this[M+te]*J;return W},c.prototype.readUIntBE=function(M,R,z){M>>>=0,R>>>=0,z||A(M,R,this.length);for(var W=this[M+--R],J=1;0<R&&(J*=256);)W+=this[M+--R]*J;return W},c.prototype.readUInt8=function(M,R){return M>>>=0,R||A(M,1,this.length),this[M]},c.prototype.readUInt16LE=function(M,R){return M>>>=0,R||A(M,2,this.length),this[M]|this[M+1]<<8},c.prototype.readUInt16BE=function(M,R){return M>>>=0,R||A(M,2,this.length),this[M]<<8|this[M+1]},c.prototype.readUInt32LE=function(M,R){return M>>>=0,R||A(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},c.prototype.readUInt32BE=function(M,R){return M>>>=0,R||A(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},c.prototype.readIntLE=function(M,R,z){M>>>=0,R>>>=0,z||A(M,R,this.length);for(var W=this[M],J=1,te=0;++te<R&&(J*=256);)W+=this[M+te]*J;return(J*=128)<=W&&(W-=Math.pow(2,8*R)),W},c.prototype.readIntBE=function(M,R,z){M>>>=0,R>>>=0,z||A(M,R,this.length);for(var W=R,J=1,te=this[M+--W];0<W&&(J*=256);)te+=this[M+--W]*J;return(J*=128)<=te&&(te-=Math.pow(2,8*R)),te},c.prototype.readInt8=function(M,R){return M>>>=0,R||A(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},c.prototype.readInt16LE=function(M,R){return M>>>=0,R||A(M,2,this.length),R=this[M]|this[M+1]<<8,32768&R?4294901760|R:R},c.prototype.readInt16BE=function(M,R){return M>>>=0,R||A(M,2,this.length),R=this[M+1]|this[M]<<8,32768&R?4294901760|R:R},c.prototype.readInt32LE=function(M,R){return M>>>=0,R||A(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},c.prototype.readInt32BE=function(M,R){return M>>>=0,R||A(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},c.prototype.readFloatLE=function(M,R){return M>>>=0,R||A(M,4,this.length),i.read(this,M,!0,23,4)},c.prototype.readFloatBE=function(M,R){return M>>>=0,R||A(M,4,this.length),i.read(this,M,!1,23,4)},c.prototype.readDoubleLE=function(M,R){return M>>>=0,R||A(M,8,this.length),i.read(this,M,!0,52,8)},c.prototype.readDoubleBE=function(M,R){return M>>>=0,R||A(M,8,this.length),i.read(this,M,!1,52,8)},c.prototype.writeUIntLE=function(M,R,z,W){M=+M,R>>>=0,z>>>=0,W||L(this,M,R,z,Math.pow(2,8*z)-1,0);var J=1,te=0;for(this[R]=255&M;++te<z&&(J*=256);)this[R+te]=M/J&255;return R+z},c.prototype.writeUIntBE=function(M,R,z,W){M=+M,R>>>=0,z>>>=0,W||L(this,M,R,z,Math.pow(2,8*z)-1,0);var J=z-1,te=1;for(this[R+J]=255&M;0<=--J&&(te*=256);)this[R+J]=M/te&255;return R+z},c.prototype.writeUInt8=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,1,255,0),this[R]=255&M,R+1},c.prototype.writeUInt16LE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,2,65535,0),this[R]=255&M,this[R+1]=M>>>8,R+2},c.prototype.writeUInt16BE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,2,65535,0),this[R]=M>>>8,this[R+1]=255&M,R+2},c.prototype.writeUInt32LE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,4,4294967295,0),this[R+3]=M>>>24,this[R+2]=M>>>16,this[R+1]=M>>>8,this[R]=255&M,R+4},c.prototype.writeUInt32BE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,4,4294967295,0),this[R]=M>>>24,this[R+1]=M>>>16,this[R+2]=M>>>8,this[R+3]=255&M,R+4},c.prototype.writeIntLE=function(M,R,z,W){M=+M,R>>>=0,W||L(this,M,R,z,(W=Math.pow(2,8*z-1))-1,-W);var J=0,te=1,ie=0;for(this[R]=255&M;++J<z&&(te*=256);)M<0&&ie===0&&this[R+J-1]!==0&&(ie=1),this[R+J]=(M/te>>0)-ie&255;return R+z},c.prototype.writeIntBE=function(M,R,z,W){M=+M,R>>>=0,W||L(this,M,R,z,(W=Math.pow(2,8*z-1))-1,-W);var J=z-1,te=1,ie=0;for(this[R+J]=255&M;0<=--J&&(te*=256);)M<0&&ie===0&&this[R+J+1]!==0&&(ie=1),this[R+J]=(M/te>>0)-ie&255;return R+z},c.prototype.writeInt8=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,1,127,-128),this[R]=255&(M=M<0?255+M+1:M),R+1},c.prototype.writeInt16LE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,2,32767,-32768),this[R]=255&M,this[R+1]=M>>>8,R+2},c.prototype.writeInt16BE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,2,32767,-32768),this[R]=M>>>8,this[R+1]=255&M,R+2},c.prototype.writeInt32LE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,4,2147483647,-2147483648),this[R]=255&M,this[R+1]=M>>>8,this[R+2]=M>>>16,this[R+3]=M>>>24,R+4},c.prototype.writeInt32BE=function(M,R,z){return M=+M,R>>>=0,z||L(this,M,R,4,2147483647,-2147483648),this[R]=(M=M<0?4294967295+M+1:M)>>>24,this[R+1]=M>>>16,this[R+2]=M>>>8,this[R+3]=255&M,R+4},c.prototype.writeFloatLE=function(M,R,z){return B(this,M,R,!0,z)},c.prototype.writeFloatBE=function(M,R,z){return B(this,M,R,!1,z)},c.prototype.writeDoubleLE=function(M,R,z){return I(this,M,R,!0,z)},c.prototype.writeDoubleBE=function(M,R,z){return I(this,M,R,!1,z)},c.prototype.copy=function(M,R,z,W){if(!c.isBuffer(M))throw new TypeError("argument should be a Buffer");if(z=z||0,W||W===0||(W=this.length),R>=M.length&&(R=M.length),(W=0<W&&W<z?z:W)===z||M.length===0||this.length===0)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length);var J=(W=M.length-R<W-z?M.length-R+z:W)-z;if(this===M&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,z,W);else if(this===M&&z<R&&R<W)for(var te=J-1;0<=te;--te)M[te+R]=this[te+z];else Uint8Array.prototype.set.call(M,this.subarray(z,W),R);return J},c.prototype.fill=function(M,R,z,W){if(typeof M=="string"){if(typeof R=="string"?(W=R,R=0,z=this.length):typeof z=="string"&&(W=z,z=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!c.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var J;M.length===1&&(J=M.charCodeAt(0),(W==="utf8"&&J<128||W==="latin1")&&(M=J))}else typeof M=="number"?M&=255:typeof M=="boolean"&&(M=Number(M));if(R<0||this.length<R||this.length<z)throw new RangeError("Out of range index");var te;if(!(z<=R))if(R>>>=0,z=z===void 0?this.length:z>>>0,typeof(M=M||0)=="number")for(te=R;te<z;++te)this[te]=M;else{var ie=c.isBuffer(M)?M:c.from(M,W),de=ie.length;if(de===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(te=0;te<z-R;++te)this[te+R]=ie[te%de]}return this};var N=/[^+/0-9A-Za-z-_]/g;function H(M,R){R=R||1/0;for(var z,W=M.length,J=null,te=[],ie=0;ie<W;++ie){if(55295<(z=M.charCodeAt(ie))&&z<57344){if(!J){if(56319<z){-1<(R-=3)&&te.push(239,191,189);continue}if(ie+1===W){-1<(R-=3)&&te.push(239,191,189);continue}J=z;continue}if(z<56320){-1<(R-=3)&&te.push(239,191,189),J=z;continue}z=65536+(J-55296<<10|z-56320)}else J&&-1<(R-=3)&&te.push(239,191,189);if(J=null,z<128){if(--R<0)break;te.push(z)}else if(z<2048){if((R-=2)<0)break;te.push(z>>6|192,63&z|128)}else if(z<65536){if((R-=3)<0)break;te.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;te.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return te}function V(M){return u.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(M))}function G(M,R,z,W){for(var J=0;J<W&&!(J+z>=R.length||J>=M.length);++J)R[J+z]=M[J];return J}function Y(M,R){return M instanceof R||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===R.name}function K(M){return M!=M}var se=function(){for(var M="0123456789abcdef",R=new Array(256),z=0;z<16;++z)for(var W=16*z,J=0;J<16;++J)R[W+J]=M[z]+M[J];return R}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,a,l){a.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},{}],6:[function(t,a,l){var o=t("../internals/is-object");a.exports=function(u){if(o(u)||u===null)return u;throw TypeError("Can't set "+String(u)+" as a prototype")}},{"../internals/is-object":75}],7:[function(i,a,l){var o=i("../internals/well-known-symbol"),u=i("../internals/object-create"),i=i("../internals/object-define-property"),d=o("unscopables"),p=Array.prototype;p[d]==null&&i.f(p,d,{configurable:!0,value:u(null)}),a.exports=function(m){p[d][m]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,a,l){var o=t("../internals/string-multibyte").charAt;a.exports=function(u,i,d){return i+(d?o(u,i).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,a,l){a.exports=function(o,u,i){if(o instanceof u)return o;throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}},{}],10:[function(t,a,l){var o=t("../internals/is-object");a.exports=function(u){if(o(u))return u;throw TypeError(String(u)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,a,l){a.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,a,l){function o(I){return m(I)&&c(B,h(I))}var u,i=O("../internals/array-buffer-native"),d=O("../internals/descriptors"),p=O("../internals/global"),m=O("../internals/is-object"),c=O("../internals/has"),h=O("../internals/classof"),v=O("../internals/create-non-enumerable-property"),f=O("../internals/redefine"),y=O("../internals/object-define-property").f,g=O("../internals/object-get-prototype-of"),b=O("../internals/object-set-prototype-of"),F=O("../internals/well-known-symbol"),O=O("../internals/uid"),x=p.Int8Array,_=x&&x.prototype,j=p.Uint8ClampedArray,j=j&&j.prototype,S=x&&g(x),D=_&&g(_),E=Object.prototype,T=E.isPrototypeOf,F=F("toStringTag"),A=O("TYPED_ARRAY_TAG"),L=i&&!!b&&h(p.opera)!=="Opera",O=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(u in B)p[u]||(L=!1);if((!L||typeof S!="function"||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},L))for(u in B)p[u]&&b(p[u],S);if((!L||!D||D===E)&&(D=S.prototype,L))for(u in B)p[u]&&b(p[u].prototype,D);if(L&&g(j)!==D&&b(j,D),d&&!c(D,F))for(u in O=!0,y(D,F,{get:function(){return m(this)?this[A]:void 0}}),B)p[u]&&v(p[u],A,u);a.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:O&&A,aTypedArray:function(I){if(o(I))return I;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(I){if(b){if(T.call(S,I))return I}else for(var N in B)if(c(B,u)&&(N=p[N],N&&(I===N||T.call(N,I))))return I;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(I,N,H){if(d){if(H)for(var V in B)V=p[V],V&&c(V.prototype,I)&&delete V.prototype[I];D[I]&&!H||f(D,I,!H&&L&&_[I]||N)}},exportTypedArrayStaticMethod:function(I,N,H){var V,G;if(d){if(b){if(H)for(V in B)(G=p[V])&&c(G,I)&&delete G[I];if(S[I]&&!H)return;try{return f(S,I,!H&&L&&x[I]||N)}catch{}}for(V in B)!(G=p[V])||G[I]&&!H||f(G,I,N)}},isView:function(I){return I=h(I),I==="DataView"||c(B,I)},isTypedArray:o,TypedArray:S,TypedArrayPrototype:D}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(z,a,l){function o(ee){return[255&ee]}function u(ee){return[255&ee,ee>>8&255]}function i(ee){return[255&ee,ee>>8&255,ee>>16&255,ee>>24&255]}function d(ee){return ee[3]<<24|ee[2]<<16|ee[1]<<8|ee[0]}function p(ee){return te(ee,23,4)}function m(ee){return te(ee,52,8)}function c(ee,pe){O(ee[Y],pe,{get:function(){return N(this)[pe]}})}function h(Te,pe,je,De){if(je=E(je),Te=N(Te),je+pe>Te.byteLength)throw J(K);var xe=N(Te.buffer).bytes,je=je+Te.byteOffset,Te=xe.slice(je,je+pe);return De?Te:Te.reverse()}function v(ee,pe,_e,De,xe,je){if(_e=E(_e),ee=N(ee),_e+pe>ee.byteLength)throw J(K);for(var Te=N(ee.buffer).bytes,Ge=_e+ee.byteOffset,Oe=De(+xe),ae=0;ae<pe;ae++)Te[Ge+ae]=Oe[je?ae:pe-ae-1]}var f=z("../internals/global"),y=z("../internals/descriptors"),g=z("../internals/array-buffer-native"),b=z("../internals/create-non-enumerable-property"),x=z("../internals/redefine-all"),_=z("../internals/fails"),j=z("../internals/an-instance"),S=z("../internals/to-integer"),D=z("../internals/to-length"),E=z("../internals/to-index"),T=z("../internals/ieee754"),F=z("../internals/object-get-prototype-of"),A=z("../internals/object-set-prototype-of"),L=z("../internals/object-get-own-property-names").f,O=z("../internals/object-define-property").f,B=z("../internals/array-fill"),I=z("../internals/set-to-string-tag"),z=z("../internals/internal-state"),N=z.get,H=z.set,V="ArrayBuffer",G="DataView",Y="prototype",K="Wrong index",se=f[V],M=se,R=f[G],z=R&&R[Y],W=Object.prototype,J=f.RangeError,te=T.pack,ie=T.unpack;if(g){if(!_(function(){se(1)})||!_(function(){new se(-1)})||_(function(){return new se,new se(1.5),new se(NaN),se.name!=V})){for(var de,f=(M=function(_e){return j(this,M),new se(E(_e))})[Y]=se[Y],oe=L(se),he=0;oe.length>he;)(de=oe[he++])in M||b(M,de,se[de]);f.constructor=M}A&&F(z)!==W&&A(z,W);var T=new R(new M(2)),le=z.setInt8;T.setInt8(0,2147483648),T.setInt8(1,2147483649),!T.getInt8(0)&&T.getInt8(1)||x(z,{setInt8:function(pe,_e){le.call(this,pe,_e<<24>>24)},setUint8:function(pe,_e){le.call(this,pe,_e<<24>>24)}},{unsafe:!0})}else M=function(ee){j(this,M,V),ee=E(ee),H(this,{bytes:B.call(new Array(ee),0),byteLength:ee}),y||(this.byteLength=ee)},R=function(ee,xe,_e){j(this,R,G),j(ee,M,G);var De=N(ee).byteLength,xe=S(xe);if(xe<0||De<xe)throw J("Wrong offset");if(De<xe+(_e=_e===void 0?De-xe:D(_e)))throw J("Wrong length");H(this,{buffer:ee,byteLength:_e,byteOffset:xe}),y||(this.buffer=ee,this.byteLength=_e,this.byteOffset=xe)},y&&(c(M,"byteLength"),c(R,"buffer"),c(R,"byteLength"),c(R,"byteOffset")),x(R[Y],{getInt8:function(ee){return h(this,1,ee)[0]<<24>>24},getUint8:function(ee){return h(this,1,ee)[0]},getInt16:function(ee){return ee=h(this,2,ee,1<arguments.length?arguments[1]:void 0),(ee[1]<<8|ee[0])<<16>>16},getUint16:function(ee){return ee=h(this,2,ee,1<arguments.length?arguments[1]:void 0),ee[1]<<8|ee[0]},getInt32:function(ee){return d(h(this,4,ee,1<arguments.length?arguments[1]:void 0))},getUint32:function(ee){return d(h(this,4,ee,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ee){return ie(h(this,4,ee,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ee){return ie(h(this,8,ee,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ee,pe){v(this,1,ee,o,pe)},setUint8:function(ee,pe){v(this,1,ee,o,pe)},setInt16:function(ee,pe){v(this,2,ee,u,pe,2<arguments.length?arguments[2]:void 0)},setUint16:function(ee,pe){v(this,2,ee,u,pe,2<arguments.length?arguments[2]:void 0)},setInt32:function(ee,pe){v(this,4,ee,i,pe,2<arguments.length?arguments[2]:void 0)},setUint32:function(ee,pe){v(this,4,ee,i,pe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ee,pe){v(this,4,ee,p,pe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ee,pe){v(this,8,ee,m,pe,2<arguments.length?arguments[2]:void 0)}});I(M,V),I(R,G),a.exports={ArrayBuffer:M,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,a,l){var o=t("../internals/to-object"),u=t("../internals/to-absolute-index"),i=t("../internals/to-length"),d=Math.min;a.exports=[].copyWithin||function(y,m){var c=o(this),h=i(c.length),v=u(y,h),f=u(m,h),y=2<arguments.length?arguments[2]:void 0,g=d((y===void 0?h:u(y,h))-f,h-v),b=1;for(f<v&&v<f+g&&(b=-1,f+=g-1,v+=g-1);0<g--;)f in c?c[v]=c[f]:delete c[v],v+=b,f+=b;return c}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,a,l){var o=t("../internals/to-object"),u=t("../internals/to-absolute-index"),i=t("../internals/to-length");a.exports=function(d){for(var p=o(this),m=i(p.length),h=arguments.length,c=u(1<h?arguments[1]:void 0,m),h=2<h?arguments[2]:void 0,v=h===void 0?m:u(h,m);c<v;)p[c++]=d;return p}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(i,a,l){var o=i("../internals/array-iteration").forEach,u=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),u=u("forEach"),i=i("forEach");a.exports=u&&i?[].forEach:function(d){return o(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,a,l){var o=t("../internals/function-bind-context"),u=t("../internals/to-object"),i=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),p=t("../internals/to-length"),m=t("../internals/create-property"),c=t("../internals/get-iterator-method");a.exports=function(j){var v,f,y,g,b,x,_=u(j),j=typeof this=="function"?this:Array,S=arguments.length,D=1<S?arguments[1]:void 0,E=D!==void 0,T=c(_),F=0;if(E&&(D=o(D,2<S?arguments[2]:void 0,2)),T==null||j==Array&&d(T))for(f=new j(v=p(_.length));F<v;F++)x=E?D(_[F],F):_[F],m(f,F,x);else for(b=(g=T.call(_)).next,f=new j;!(y=b.call(g)).done;F++)x=E?i(g,D,[y.value,F],!0):y.value,m(f,F,x);return f.length=F,f}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,a,l){function o(p){return function(m,c,h){var v,f=u(m),y=i(f.length),g=d(h,y);if(p&&c!=c){for(;g<y;)if((v=f[g++])!=v)return!0}else for(;g<y;g++)if((p||g in f)&&f[g]===c)return p||g||0;return!p&&-1}}var u=t("../internals/to-indexed-object"),i=t("../internals/to-length"),d=t("../internals/to-absolute-index");a.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,a,l){function o(h){var v=h==1,f=h==2,y=h==3,g=h==4,b=h==6,x=h==5||b;return function(_,j,S,D){for(var E,T,F=d(_),A=i(F),L=u(j,S,3),O=p(A.length),B=0,j=D||m,I=v?j(_,O):f?j(_,0):void 0;B<O;B++)if((x||B in A)&&(T=L(E=A[B],B,F),h)){if(v)I[B]=T;else if(T)switch(h){case 3:return!0;case 5:return E;case 6:return B;case 2:c.call(I,E)}else if(g)return!1}return b?-1:y||g?g:I}}var u=t("../internals/function-bind-context"),i=t("../internals/indexed-object"),d=t("../internals/to-object"),p=t("../internals/to-length"),m=t("../internals/array-species-create"),c=[].push;a.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(h,a,l){var o=h("../internals/to-indexed-object"),u=h("../internals/to-integer"),i=h("../internals/to-length"),c=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),d=Math.min,p=[].lastIndexOf,m=!!p&&1/[1].lastIndexOf(1,-0)<0,c=c("lastIndexOf"),h=h("indexOf",{ACCESSORS:!0,1:0});a.exports=m||!c||!h?function(v){if(m)return p.apply(this,arguments)||0;var f=o(this),y=i(f.length),g=y-1;for((g=1<arguments.length?d(g,u(arguments[1])):g)<0&&(g=y+g);0<=g;g--)if(g in f&&f[g]===v)return g||0;return-1}:p},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,a,l){var o=t("../internals/fails"),u=t("../internals/well-known-symbol"),i=t("../internals/engine-v8-version"),d=u("species");a.exports=function(p){return 51<=i||!o(function(){var m=[];return(m.constructor={})[d]=function(){return{foo:1}},m[p](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,a,l){var o=t("../internals/fails");a.exports=function(u,i){var d=[][u];return!!d&&o(function(){d.call(null,i||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,a,l){function o(c){throw c}var u=t("../internals/descriptors"),i=t("../internals/fails"),d=t("../internals/has"),p=Object.defineProperty,m={};a.exports=function(c,h){var v,f,y,g;return d(m,c)?m[c]:(v=[][c],f=!!d(h=h||{},"ACCESSORS")&&h.ACCESSORS,y=d(h,0)?h[0]:o,g=d(h,1)?h[1]:void 0,m[c]=!!v&&!i(function(){if(f&&!u)return!0;var b={length:-1};f?p(b,1,{enumerable:!0,get:o}):b[1]=1,v.call(b,y,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,a,l){function o(m){return function(c,h,v,f){u(h);var y=i(c),g=d(y),b=p(y.length),x=m?b-1:0,_=m?-1:1;if(v<2)for(;;){if(x in g){f=g[x],x+=_;break}if(x+=_,m?x<0:b<=x)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=x:x<b;x+=_)x in g&&(f=h(f,g[x],x,y));return f}}var u=t("../internals/a-function"),i=t("../internals/to-object"),d=t("../internals/indexed-object"),p=t("../internals/to-length");a.exports={left:o(!1),right:o(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,a,l){var o=t("../internals/is-object"),u=t("../internals/is-array"),i=t("../internals/well-known-symbol")("species");a.exports=function(d,p){var m;return new((m=u(d)&&(typeof(m=d.constructor)=="function"&&(m===Array||u(m.prototype))||o(m)&&(m=m[i])===null)?void 0:m)===void 0?Array:m)(p===0?0:p)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,a,l){var o=t("../internals/an-object");a.exports=function(u,i,d,p){try{return p?i(o(d)[0],d[1]):i(d)}catch(m){throw p=u.return,p!==void 0&&o(p.call(u)),m}}},{"../internals/an-object":10}],27:[function(t,a,l){var o=t("../internals/well-known-symbol")("iterator"),u=!1;try{var i=0,d={next:function(){return{done:!!i++}},return:function(){u=!0}};d[o]=function(){return this},Array.from(d,function(){throw 2})}catch{}a.exports=function(p,m){if(!m&&!u)return!1;var c=!1;try{var h={};h[o]=function(){return{next:function(){return{done:c=!0}}}},p(h)}catch{}return c}},{"../internals/well-known-symbol":150}],28:[function(t,a,l){var o={}.toString;a.exports=function(u){return o.call(u).slice(8,-1)}},{}],29:[function(t,a,l){var o=t("../internals/to-string-tag-support"),u=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("toStringTag"),d=u(function(){return arguments}())=="Arguments";a.exports=o?u:function(p){var m;return p===void 0?"Undefined":p===null?"Null":typeof(m=function(c,h){try{return c[h]}catch{}}(p=Object(p),i))=="string"?m:d?u(p):(m=u(p))=="Object"&&typeof p.callee=="function"?"Arguments":m}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(y,a,l){var o=y("../internals/object-define-property").f,u=y("../internals/object-create"),i=y("../internals/redefine-all"),d=y("../internals/function-bind-context"),p=y("../internals/an-instance"),m=y("../internals/iterate"),c=y("../internals/define-iterator"),h=y("../internals/set-species"),v=y("../internals/descriptors"),f=y("../internals/internal-metadata").fastKey,y=y("../internals/internal-state"),g=y.set,b=y.getterFor;a.exports={getConstructor:function(x,_,j,S){function D(A,L,O){var B,I=F(A),N=E(A,L);return N?N.value=O:(I.last=N={index:B=f(L,!0),key:L,value:O,previous:L=I.last,next:void 0,removed:!1},I.first||(I.first=N),L&&(L.next=N),v?I.size++:A.size++,B!=="F"&&(I.index[B]=N)),A}function E(B,L){var O,B=F(B),I=f(L);if(I!=="F")return B.index[I];for(O=B.first;O;O=O.next)if(O.key==L)return O}var T=x(function(A,L){p(A,T,_),g(A,{type:_,index:u(null),first:void 0,last:void 0,size:0}),v||(A.size=0),L!=null&&m(L,A[S],A,j)}),F=b(_);return i(T.prototype,{clear:function(){for(var A=F(this),L=A.index,O=A.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete L[O.index],O=O.next;A.first=A.last=void 0,v?A.size=0:this.size=0},delete:function(I){var L,O,B=F(this),I=E(this,I);return I&&(L=I.next,O=I.previous,delete B.index[I.index],I.removed=!0,O&&(O.next=L),L&&(L.previous=O),B.first==I&&(B.first=L),B.last==I&&(B.last=O),v?B.size--:this.size--),!!I},forEach:function(A){for(var L,O=F(this),B=d(A,1<arguments.length?arguments[1]:void 0,3);L=L?L.next:O.first;)for(B(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(A){return!!E(this,A)}}),i(T.prototype,j?{get:function(A){return A=E(this,A),A&&A.value},set:function(A,L){return D(this,A===0?0:A,L)}}:{add:function(A){return D(this,A=A===0?0:A,A)}}),v&&o(T.prototype,"size",{get:function(){return F(this).size}}),T},setStrong:function(x,_,j){var S=_+" Iterator",D=b(_),E=b(S);c(x,_,function(T,F){g(this,{type:S,target:T,state:D(T),kind:F,last:void 0})},function(){for(var T=E(this),F=T.kind,A=T.last;A&&A.removed;)A=A.previous;return T.target&&(T.last=A=A?A.next:T.state.first)?F=="keys"?{value:A.key,done:!1}:F=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:T.target=void 0,done:!0}},j?"entries":"values",!j,!0),h(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(g,a,l){function o(D){return D.frozen||(D.frozen=new u)}function u(){this.entries=[]}function i(D,E){return _(D.entries,function(T){return T[0]===E})}var d=g("../internals/redefine-all"),p=g("../internals/internal-metadata").getWeakData,m=g("../internals/an-object"),c=g("../internals/is-object"),h=g("../internals/an-instance"),v=g("../internals/iterate"),f=g("../internals/array-iteration"),y=g("../internals/has"),g=g("../internals/internal-state"),b=g.set,x=g.getterFor,_=f.find,j=f.findIndex,S=0;u.prototype={get:function(D){if(D=i(this,D),D)return D[1]},has:function(D){return!!i(this,D)},set:function(D,E){var T=i(this,D);T?T[1]=E:this.entries.push([D,E])},delete:function(D){var E=j(this.entries,function(T){return T[0]===D});return~E&&this.entries.splice(E,1),!!~E}},a.exports={getConstructor:function(D,E,T,F){function A(B,I,N){var H=O(B),V=p(m(I),!0);return V===!0?o(H).set(I,N):V[H.id]=N,B}var L=D(function(B,I){h(B,L,E),b(B,{type:E,id:S++,frozen:void 0}),I!=null&&v(I,B[F],B,T)}),O=x(E);return d(L.prototype,{delete:function(B){var I,N=O(this);return!!c(B)&&((I=p(B))===!0?o(N).delete(B):I&&y(I,N.id)&&delete I[N.id])},has:function(B){var I,N=O(this);return!!c(B)&&((I=p(B))===!0?o(N).has(B):I&&y(I,N.id))}}),d(L.prototype,T?{get:function(B){var I,N=O(this);if(c(B))return(I=p(B))===!0?o(N).get(B):I?I[N.id]:void 0},set:function(B,I){return A(this,B,I)}}:{add:function(B){return A(this,B,!0)}}),L}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/global"),i=t("../internals/is-forced"),d=t("../internals/redefine"),p=t("../internals/internal-metadata"),m=t("../internals/iterate"),c=t("../internals/an-instance"),h=t("../internals/is-object"),v=t("../internals/fails"),f=t("../internals/check-correctness-of-iteration"),y=t("../internals/set-to-string-tag"),g=t("../internals/inherit-if-required");a.exports=function(b,x,_){function j(V){var G=I[V];d(I,V,V=="add"?function(Y){return G.call(this,Y===0?0:Y),this}:V=="delete"?function(Y){return!(L&&!h(Y))&&G.call(this,Y===0?0:Y)}:V=="get"?function(Y){return L&&!h(Y)?void 0:G.call(this,Y===0?0:Y)}:V=="has"?function(Y){return!(L&&!h(Y))&&G.call(this,Y===0?0:Y)}:function(Y,K){return G.call(this,Y===0?0:Y,K),this})}var S,D,E,T,F,A=b.indexOf("Map")!==-1,L=b.indexOf("Weak")!==-1,O=A?"set":"add",B=u[b],I=B&&B.prototype,N=B,H={};return i(b,typeof B!="function"||!(L||I.forEach&&!v(function(){new B().entries().next()})))?(N=_.getConstructor(x,b,A,O),p.REQUIRED=!0):i(b,!0)&&(D=(S=new N)[O](L?{}:-0,1)!=S,E=v(function(){S.has(1)}),T=f(function(V){new B(V)}),F=!L&&v(function(){for(var V=new B,G=5;G--;)V[O](G,G);return!V.has(-0)}),T||(((N=x(function(V,G){return c(V,N,b),V=g(new B,V,N),G!=null&&m(G,V[O],V,A),V})).prototype=I).constructor=N),(E||F)&&(j("delete"),j("has"),A&&j("get")),(F||D)&&j(O),L&&I.clear&&delete I.clear),H[b]=N,o({global:!0,forced:N!=B},H),y(N,b),L||_.setStrong(N,b,A),N}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,a,l){var o=t("../internals/has"),u=t("../internals/own-keys"),i=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-define-property");a.exports=function(p,m){for(var c=u(m),h=d.f,v=i.f,f=0;f<c.length;f++){var y=c[f];o(p,y)||h(p,y,v(m,y))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,a,l){var o=t("../internals/well-known-symbol")("match");a.exports=function(u){var i=/./;try{"/./"[u](i)}catch{try{return i[o]=!1,"/./"[u](i)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,a,l){t=t("../internals/fails"),a.exports=!t(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":51}],36:[function(t,a,l){var o=t("../internals/require-object-coercible"),u=/"/g;a.exports=function(c,d,p,m){var c=String(o(c)),h="<"+d;return p!==""&&(h+=" "+p+'="'+String(m).replace(u,"&quot;")+'"'),h+">"+c+"</"+d+">"}},{"../internals/require-object-coercible":115}],37:[function(t,a,l){function o(){return this}var u=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),p=t("../internals/set-to-string-tag"),m=t("../internals/iterators");a.exports=function(c,h,v){return h+=" Iterator",c.prototype=i(u,{next:d(1,v)}),p(c,h,!1,!0),m[h]=o,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,a,l){var o=t("../internals/descriptors"),u=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");a.exports=o?function(d,p,m){return u.f(d,p,i(1,m))}:function(d,p,m){return d[p]=m,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,a,l){a.exports=function(o,u){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:u}}},{}],40:[function(t,a,l){var o=t("../internals/to-primitive"),u=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");a.exports=function(d,p,m){p=o(p),p in d?u.f(d,p,i(0,m)):d[p]=m}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(g,a,l){function o(){return this}var u=g("../internals/export"),i=g("../internals/create-iterator-constructor"),d=g("../internals/object-get-prototype-of"),p=g("../internals/object-set-prototype-of"),m=g("../internals/set-to-string-tag"),c=g("../internals/create-non-enumerable-property"),h=g("../internals/redefine"),v=g("../internals/well-known-symbol"),f=g("../internals/is-pure"),y=g("../internals/iterators"),g=g("../internals/iterators-core"),b=g.IteratorPrototype,x=g.BUGGY_SAFARI_ITERATORS,_=v("iterator"),j="values",S="entries";a.exports=function(D,E,T,H,A,L,O){i(T,E,H);function B(M){if(M===A&&K)return K;if(!x&&M in G)return G[M];switch(M){case"keys":case j:case S:return function(){return new T(this,M)}}return function(){return new T(this)}}var I,N,H=E+" Iterator",V=!1,G=D.prototype,Y=G[_]||G["@@iterator"]||A&&G[A],K=!x&&Y||B(A),se=E=="Array"&&G.entries||Y;if(se&&(se=d(se.call(new D)),b!==Object.prototype&&se.next&&(f||d(se)===b||(p?p(se,b):typeof se[_]!="function"&&c(se,_,o)),m(se,H,!0,!0),f&&(y[H]=o))),A==j&&Y&&Y.name!==j&&(V=!0,K=function(){return Y.call(this)}),f&&!O||G[_]===K||c(G,_,K),y[E]=K,A)if(I={values:B(j),keys:L?K:B("keys"),entries:B(S)},O)for(N in I)!x&&!V&&N in G||h(G,N,I[N]);else u({target:E,proto:!0,forced:x||V},I);return I}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,a,l){var o=t("../internals/path"),u=t("../internals/has"),i=t("../internals/well-known-symbol-wrapped"),d=t("../internals/object-define-property").f;a.exports=function(p){var m=o.Symbol||(o.Symbol={});u(m,p)||d(m,p,{value:i.f(p)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,a,l){t=t("../internals/fails"),a.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(u,a,l){var o=u("../internals/global"),u=u("../internals/is-object"),i=o.document,d=u(i)&&u(i.createElement);a.exports=function(p){return d?i.createElement(p):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,a,l){t=t("../internals/engine-user-agent"),a.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,a,l){t=t("../internals/get-built-in"),a.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(i,a,l){var o,u,d=i("../internals/global"),i=i("../internals/engine-user-agent"),d=d.process,d=d&&d.versions,d=d&&d.v8;d?u=(o=d.split("."))[0]+o[1]:i&&(!(o=i.match(/Edge\/(\d+)/))||74<=o[1])&&(o=i.match(/Chrome\/(\d+)/))&&(u=o[1]),a.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,a,l){var o=t("../internals/global"),u=t("../internals/object-get-own-property-descriptor").f,i=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),p=t("../internals/set-global"),m=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");a.exports=function(h,v){var f,y,g,b=h.target,x=h.global,_=h.stat,j=x?o:_?o[b]||p(b,{}):(o[b]||{}).prototype;if(j)for(f in v){if(y=v[f],g=h.noTargetGet?(g=u(j,f))&&g.value:j[f],!c(x?f:b+(_?".":"#")+f,h.forced)&&g!==void 0){if(typeof y==typeof g)continue;m(y,g)}(h.sham||g&&g.sham)&&i(y,"sham",!0),d(j,f,y,h)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,a,l){a.exports=function(o){try{return!!o()}catch{return!0}}},{}],52:[function(v,a,l){v("../modules/es.regexp.exec");var o=v("../internals/redefine"),u=v("../internals/fails"),i=v("../internals/well-known-symbol"),d=v("../internals/regexp-exec"),p=v("../internals/create-non-enumerable-property"),m=i("species"),c=!u(function(){var g=/./;return g.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(g,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",v=i("replace"),f=!!/./[v]&&/./[v]("a","$0")==="",y=!u(function(){var b=/(?:)/,g=b.exec,b=(b.exec=function(){return g.apply(this,arguments)},"ab".split(b));return b.length!==2||b[0]!=="a"||b[1]!=="b"});a.exports=function(g,b,x,_){var j,S,D=i(g),E=!u(function(){var F={};return F[D]=function(){return 7},""[g](F)!=7}),T=E&&!u(function(){var F=!1,A=/a/;return g==="split"&&((A={constructor:{}}).constructor[m]=function(){return A},A.flags="",A[D]=/./[D]),A.exec=function(){return F=!0,null},A[D](""),!F});E&&T&&(g!=="replace"||c&&h&&!f)&&(g!=="split"||y)||(j=/./[D],x=(T=x(D,""[g],function(F,A,L,O,B){return A.exec===d?E&&!B?{done:!0,value:j.call(A,L,O)}:{done:!0,value:F.call(L,A,O)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}))[0],S=T[1],o(String.prototype,g,x),o(RegExp.prototype,D,b==2?function(F,A){return S.call(F,this,A)}:function(F){return S.call(F,this)})),_&&p(RegExp.prototype[D],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,a,l){function o(p,m,c,h,v,f,y,g){for(var b,x=v,_=0,j=!!y&&d(y,g,3);_<h;){if(_ in c){if(b=j?j(c[_],_,m):c[_],0<f&&u(b))x=o(p,m,b,i(b.length),x,f-1)-1;else{if(9007199254740991<=x)throw TypeError("Exceed the acceptable array length");p[x]=b}x++}_++}return x}var u=t("../internals/is-array"),i=t("../internals/to-length"),d=t("../internals/function-bind-context");a.exports=o},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,a,l){t=t("../internals/fails"),a.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,a,l){var o=t("../internals/a-function");a.exports=function(u,i,d){if(o(u),i===void 0)return u;switch(d){case 0:return function(){return u.call(i)};case 1:return function(p){return u.call(i,p)};case 2:return function(p,m){return u.call(i,p,m)};case 3:return function(p,m,c){return u.call(i,p,m,c)}}return function(){return u.apply(i,arguments)}}},{"../internals/a-function":5}],56:[function(t,a,l){var o=t("../internals/a-function"),u=t("../internals/is-object"),i=[].slice,d={};a.exports=Function.bind||function(p){var m=o(this),c=i.call(arguments,1),h=function(){var v=c.concat(i.call(arguments));if(this instanceof h){var f=m,y=v.length,g=v;if(!(y in d)){for(var b=[],x=0;x<y;x++)b[x]="a["+x+"]";d[y]=Function("C,a","return new C("+b.join(",")+")")}return d[y](f,g)}return m.apply(p,v)};return u(m.prototype)&&(h.prototype=m.prototype),h}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,a,l){function o(d){return typeof d=="function"?d:void 0}var u=t("../internals/path"),i=t("../internals/global");a.exports=function(d,p){return arguments.length<2?o(u[d])||o(i[d]):u[d]&&u[d][p]||i[d]&&i[d][p]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,a,l){var o=t("../internals/classof"),u=t("../internals/iterators"),i=t("../internals/well-known-symbol")("iterator");a.exports=function(d){if(d!=null)return d[i]||d["@@iterator"]||u[o(d)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,a,l){var o=t("../internals/an-object"),u=t("../internals/get-iterator-method");a.exports=function(i){var d=u(i);if(typeof d!="function")throw TypeError(String(i)+" is not iterable");return o(d.call(i))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,a,l){(function(o){function u(i){return i&&i.Math==Math&&i}a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof o=="object"&&o)||Function("return this")()}).call(this,typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,a,l){var o={}.hasOwnProperty;a.exports=function(u,i){return o.call(u,i)}},{}],62:[function(t,a,l){a.exports={}},{}],63:[function(t,a,l){var o=t("../internals/global");a.exports=function(u,i){var d=o.console;d&&d.error&&(arguments.length===1?d.error(u):d.error(u,i))}},{"../internals/global":60}],64:[function(t,a,l){t=t("../internals/get-built-in"),a.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,a,l){var o=t("../internals/descriptors"),u=t("../internals/fails"),i=t("../internals/document-create-element");a.exports=!o&&!u(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,a,l){var o=Math.abs,u=Math.pow,i=Math.floor,d=Math.log,p=Math.LN2;a.exports={pack:function(m,c,x){var v,f,y,g=new Array(x),b=8*x-c-1,x=(1<<b)-1,_=x>>1,j=c===23?u(2,-24)-u(2,-77):0,S=m<0||m===0&&1/m<0?1:0,D=0;for((m=o(m))!=m||m===1/0?(f=m!=m?1:0,v=x):(v=i(d(m)/p),m*(y=u(2,-v))<1&&(v--,y*=2),2<=(m+=1<=v+_?j/y:j*u(2,1-_))*y&&(v++,y/=2),x<=v+_?(f=0,v=x):1<=v+_?(f=(m*y-1)*u(2,c),v+=_):(f=m*u(2,_-1)*u(2,c),v=0));8<=c;g[D++]=255&f,f/=256,c-=8);for(v=v<<c|f,b+=c;0<b;g[D++]=255&v,v/=256,b-=8);return g[--D]|=128*S,g},unpack:function(m,c){var h,v=m.length,x=8*v-c-1,f=(1<<x)-1,y=f>>1,g=x-7,b=v-1,x=m[b--],_=127&x;for(x>>=7;0<g;_=256*_+m[b],b--,g-=8);for(h=_&(1<<-g)-1,_>>=-g,g+=c;0<g;h=256*h+m[b],b--,g-=8);if(_===0)_=1-y;else{if(_===f)return h?NaN:x?-1/0:1/0;h+=u(2,c),_-=y}return(x?-1:1)*h*u(2,_-c)}}},{}],67:[function(t,a,l){var o=t("../internals/fails"),u=t("../internals/classof-raw"),i="".split;a.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return u(d)=="String"?i.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,a,l){var o=t("../internals/is-object"),u=t("../internals/object-set-prototype-of");a.exports=function(i,d,p){return u&&typeof(d=d.constructor)=="function"&&d!==p&&o(d=d.prototype)&&d!==p.prototype&&u(i,d),i}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(o,a,l){var o=o("../internals/shared-store"),u=Function.toString;typeof o.inspectSource!="function"&&(o.inspectSource=function(i){return u.call(i)}),a.exports=o.inspectSource},{"../internals/shared-store":121}],70:[function(t,a,l){function o(g){p(g,h,{value:{objectID:"O"+ ++v,weakData:{}}})}var u=t("../internals/hidden-keys"),i=t("../internals/is-object"),d=t("../internals/has"),p=t("../internals/object-define-property").f,m=t("../internals/uid"),c=t("../internals/freezing"),h=m("meta"),v=0,f=Object.isExtensible||function(){return!0},y=a.exports={REQUIRED:!1,fastKey:function(g,b){if(!i(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!d(g,h)){if(!f(g))return"F";if(!b)return"E";o(g)}return g[h].objectID},getWeakData:function(g,b){if(!d(g,h)){if(!f(g))return!0;if(!b)return!1;o(g)}return g[h].weakData},onFreeze:function(g){return c&&y.REQUIRED&&f(g)&&!d(g,h)&&o(g),g}};u[h]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(x,a,l){var o,u,i,d,p,m,c,h,v=x("../internals/native-weak-map"),_=x("../internals/global"),f=x("../internals/is-object"),y=x("../internals/create-non-enumerable-property"),g=x("../internals/has"),b=x("../internals/shared-key"),x=x("../internals/hidden-keys"),_=_.WeakMap;c=v?(o=new _,u=o.get,i=o.has,d=o.set,p=function(j,S){return d.call(o,j,S),S},m=function(j){return u.call(o,j)||{}},function(j){return i.call(o,j)}):(x[h=b("state")]=!0,p=function(j,S){return y(j,h,S),S},m=function(j){return g(j,h)?j[h]:{}},function(j){return g(j,h)}),a.exports={set:p,get:m,has:c,enforce:function(j){return c(j)?m(j):p(j,{})},getterFor:function(j){return function(S){if(f(S)&&(S=m(S)).type===j)return S;throw TypeError("Incompatible receiver, "+j+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,a,l){var o=t("../internals/well-known-symbol"),u=t("../internals/iterators"),i=o("iterator"),d=Array.prototype;a.exports=function(p){return p!==void 0&&(u.Array===p||d[i]===p)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,a,l){var o=t("../internals/classof-raw");a.exports=Array.isArray||function(u){return o(u)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,a,l){function o(h,v){return(h=p[d(h)])==c||h!=m&&(typeof v=="function"?u(v):!!v)}var u=t("../internals/fails"),i=/#|\.prototype\./,d=o.normalize=function(h){return String(h).replace(i,".").toLowerCase()},p=o.data={},m=o.NATIVE="N",c=o.POLYFILL="P";a.exports=o},{"../internals/fails":51}],75:[function(t,a,l){a.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},{}],76:[function(t,a,l){a.exports=!1},{}],77:[function(t,a,l){var o=t("../internals/is-object"),u=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("match");a.exports=function(d){var p;return o(d)&&((p=d[i])!==void 0?!!p:u(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,a,l){function o(h,v){this.stopped=h,this.result=v}var u=t("../internals/an-object"),i=t("../internals/is-array-iterator-method"),d=t("../internals/to-length"),p=t("../internals/function-bind-context"),m=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(a.exports=function(h,v,f,y,g){var b,x,_,j,S,D,E=p(v,f,y?2:1);if(g)b=h;else{if(typeof(v=m(h))!="function")throw TypeError("Target is not iterable");if(i(v)){for(x=0,_=d(h.length);x<_;x++)if((j=y?E(u(D=h[x])[0],D[1]):E(h[x]))&&j instanceof o)return j;return new o(!1)}b=v.call(h)}for(S=b.next;!(D=S.call(b)).done;)if(typeof(j=c(b,E,D.value,y))=="object"&&j&&j instanceof o)return j;return new o(!1)}).stop=function(h){return new o(!0,h)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(m,a,l){var o,u,i=m("../internals/object-get-prototype-of"),d=m("../internals/create-non-enumerable-property"),p=m("../internals/has"),c=m("../internals/well-known-symbol"),m=m("../internals/is-pure"),c=c("iterator"),h=!1;[].keys&&("next"in(u=[].keys())?(i=i(i(u)))!==Object.prototype&&(o=i):h=!0),o==null&&(o={}),m||p(o,c)||d(o,c,function(){return this}),a.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,a,l){a.exports={}},{}],81:[function(t,a,l){a.exports=Math.sign||function(o){return(o=+o)==0||o!=o?o:o<0?-1:1}},{}],82:[function(y,a,l){var o,u,i,d,p,m,c,h,v=y("../internals/global"),S=y("../internals/object-get-own-property-descriptor").f,j=y("../internals/classof-raw"),f=y("../internals/task").set,y=y("../internals/engine-is-ios"),g=v.MutationObserver||v.WebKitMutationObserver,b=v.process,x=v.Promise,_=j(b)=="process",j=S(v,"queueMicrotask"),S=j&&j.value;S||(o=function(){var D,E;for(_&&(D=b.domain)&&D.exit();u;){E=u.fn,u=u.next;try{E()}catch(T){throw u?d():i=void 0,T}}i=void 0,D&&D.enter()},d=_?function(){b.nextTick(o)}:g&&!y?(p=!0,m=document.createTextNode(""),new g(o).observe(m,{characterData:!0}),function(){m.data=p=!p}):x&&x.resolve?(c=x.resolve(void 0),h=c.then,function(){h.call(c,o)}):function(){f.call(v,o)}),a.exports=S||function(D){D={fn:D,next:void 0},i&&(i.next=D),u||(u=D,d()),i=D}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,a,l){t=t("../internals/global"),a.exports=t.Promise},{"../internals/global":60}],84:[function(t,a,l){t=t("../internals/fails"),a.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,a,l){var o=t("../internals/fails"),u=t("../internals/well-known-symbol"),i=t("../internals/is-pure"),d=u("iterator");a.exports=!o(function(){var p=new URL("b?a=1&b=2&c=3","http://a"),m=p.searchParams,c="";return p.pathname="c%20d",m.forEach(function(h,v){m.delete("b"),c+=v+h}),i&&!p.toJSON||!m.sort||p.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(o,a,l){var u=o("../internals/global"),o=o("../internals/inspect-source"),u=u.WeakMap;a.exports=typeof u=="function"&&/native code/.test(o(u))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,a,l){function o(i){var d,p;this.promise=new i(function(m,c){if(d!==void 0||p!==void 0)throw TypeError("Bad Promise constructor");d=m,p=c}),this.resolve=u(d),this.reject=u(p)}var u=t("../internals/a-function");a.exports.f=function(i){return new o(i)}},{"../internals/a-function":5}],88:[function(t,a,l){var o=t("../internals/is-regexp");a.exports=function(u){if(o(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":77}],89:[function(t,a,l){var o=t("../internals/global").isFinite;a.exports=Number.isFinite||function(u){return typeof u=="number"&&o(u)}},{"../internals/global":60}],90:[function(t,a,l){var o=t("../internals/descriptors"),u=t("../internals/fails"),i=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),m=t("../internals/to-object"),c=t("../internals/indexed-object"),h=Object.assign,v=Object.defineProperty;a.exports=!h||u(function(){var f,y,g,b;return!(!o||h({b:1},h(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(y={},b="abcdefghijklmnopqrst",(f={})[g=Symbol()]=7,b.split("").forEach(function(x){y[x]=x}),h({},f)[g]!=7||i(h({},y)).join("")!=b)})?function(f,y){for(var g=m(f),b=arguments.length,x=1,_=d.f,j=p.f;x<b;)for(var S,D=c(arguments[x++]),E=_?i(D).concat(_(D)):i(D),T=E.length,F=0;F<T;)S=E[F++],o&&!j.call(D,S)||(g[S]=D[S]);return g}:h},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(v,a,l){function o(){}var u,i=v("../internals/an-object"),d=v("../internals/object-define-properties"),p=v("../internals/enum-bug-keys"),m=v("../internals/hidden-keys"),c=v("../internals/html"),h=v("../internals/document-create-element"),v=v("../internals/shared-key"),f="prototype",y="script",g=v("IE_PROTO"),b=function(_){return"<"+y+">"+_+"</"+y+">"},x=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}x=u?((_=u).write(b("")),_.close(),j=_.parentWindow.Object,_=null,j):(_=h("iframe"),j="java"+y+":",_.style.display="none",c.appendChild(_),_.src=String(j),(j=_.contentWindow.document).open(),j.write(b("document.F=Object")),j.close(),j.F);for(var _,j,S=p.length;S--;)delete x[f][p[S]];return x()};m[g]=!0,a.exports=Object.create||function(_,j){var S;return _!==null?(o[f]=i(_),S=new o,o[f]=null,S[g]=_):S=x(),j===void 0?S:d(S,j)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,a,l){var o=t("../internals/descriptors"),u=t("../internals/object-define-property"),i=t("../internals/an-object"),d=t("../internals/object-keys");a.exports=o?Object.defineProperties:function(p,m){i(p);for(var c,h=d(m),v=h.length,f=0;f<v;)u.f(p,c=h[f++],m[c]);return p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,a,l){var o=t("../internals/descriptors"),u=t("../internals/ie8-dom-define"),i=t("../internals/an-object"),d=t("../internals/to-primitive"),p=Object.defineProperty;l.f=o?p:function(m,c,h){if(i(m),c=d(c,!0),i(h),u)try{return p(m,c,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(m[c]=h.value),m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,a,l){var o=t("../internals/descriptors"),u=t("../internals/object-property-is-enumerable"),i=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),p=t("../internals/to-primitive"),m=t("../internals/has"),c=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;l.f=o?h:function(v,f){if(v=d(v),f=p(f,!0),c)try{return h(v,f)}catch{}if(m(v,f))return i(!u.f.call(v,f),v[f])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,a,l){var o=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,i={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(p){if(!d||i.call(p)!="[object Window]")return u(o(p));try{return u(p)}catch{return d.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,a,l){var o=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(i){return o(i,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,a,l){l.f=Object.getOwnPropertySymbols},{}],98:[function(d,a,l){var o=d("../internals/has"),u=d("../internals/to-object"),i=d("../internals/shared-key"),d=d("../internals/correct-prototype-getter"),p=i("IE_PROTO"),m=Object.prototype;a.exports=d?Object.getPrototypeOf:function(c){return c=u(c),o(c,p)?c[p]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?m:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,a,l){var o=t("../internals/has"),u=t("../internals/to-indexed-object"),i=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys");a.exports=function(p,m){var c,h=u(p),v=0,f=[];for(c in h)!o(d,c)&&o(h,c)&&f.push(c);for(;m.length>v;)!o(h,c=m[v++])||~i(f,c)||f.push(c);return f}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,a,l){var o=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys");a.exports=Object.keys||function(i){return o(i,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,a,l){var o={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,i=u&&!o.call({1:2},1);l.f=i?function(d){return d=u(this,d),!!d&&d.enumerable}:o},{}],102:[function(t,a,l){var o=t("../internals/an-object"),u=t("../internals/a-possible-prototype");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i,d=!1,p={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(p,[]),d=p instanceof Array}catch{}return function(m,c){return o(m),u(c),d?i.call(m,c):m.__proto__=c,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,a,l){function o(m){return function(c){for(var h,v=d(c),f=i(v),y=f.length,g=0,b=[];g<y;)h=f[g++],u&&!p.call(v,h)||b.push(m?[h,v[h]]:v[h]);return b}}var u=t("../internals/descriptors"),i=t("../internals/object-keys"),d=t("../internals/to-indexed-object"),p=t("../internals/object-property-is-enumerable").f;a.exports={entries:o(!0),values:o(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,a,l){var o=t("../internals/to-string-tag-support"),u=t("../internals/classof");a.exports=o?{}.toString:function(){return"[object "+u(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,a,l){var o=t("../internals/get-built-in"),u=t("../internals/object-get-own-property-names"),i=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object");a.exports=o("Reflect","ownKeys")||function(p){var m=u.f(d(p)),c=i.f;return c?m.concat(c(p)):m}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,a,l){t=t("../internals/global"),a.exports=t},{"../internals/global":60}],107:[function(t,a,l){a.exports=function(o){try{return{error:!1,value:o()}}catch(u){return{error:!0,value:u}}}},{}],108:[function(t,a,l){var o=t("../internals/an-object"),u=t("../internals/is-object"),i=t("../internals/new-promise-capability");a.exports=function(d,p){return o(d),u(p)&&p.constructor===d?p:((0,(d=i.f(d)).resolve)(p),d.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,a,l){var o=t("../internals/redefine");a.exports=function(u,i,d){for(var p in i)o(u,p,i[p],d);return u}},{"../internals/redefine":110}],110:[function(m,a,l){var o=m("../internals/global"),u=m("../internals/create-non-enumerable-property"),i=m("../internals/has"),d=m("../internals/set-global"),p=m("../internals/inspect-source"),m=m("../internals/internal-state"),c=m.get,h=m.enforce,v=String(String).split("String");(a.exports=function(f,y,g,j){var x=!!j&&!!j.unsafe,_=!!j&&!!j.enumerable,j=!!j&&!!j.noTargetGet;typeof g=="function"&&(typeof y!="string"||i(g,"name")||u(g,"name",y),h(g).source=v.join(typeof y=="string"?y:"")),f===o?_?f[y]=g:d(y,g):(x?!j&&f[y]&&(_=!0):delete f[y],_?f[y]=g:u(f,y,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||p(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,a,l){var o=t("./classof-raw"),u=t("./regexp-exec");a.exports=function(i,d){var p=i.exec;if(typeof p=="function"){if(p=p.call(i,d),typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(o(i)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(i,d)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(d,a,l){var o,u,i=d("./regexp-flags"),d=d("./regexp-sticky-helpers"),p=RegExp.prototype.exec,m=String.prototype.replace,c=p,h=(o=/a/,u=/b*/g,p.call(o,"a"),p.call(u,"a"),o.lastIndex!==0||u.lastIndex!==0),v=d.UNSUPPORTED_Y||d.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0;a.exports=c=h||f||v?function(y){var g,b,x,_,j=this,S=v&&j.sticky,D=i.call(j),E=j.source,T=0,F=y;return S&&((D=D.replace("y","")).indexOf("g")===-1&&(D+="g"),F=String(y).slice(j.lastIndex),0<j.lastIndex&&(!j.multiline||j.multiline&&y[j.lastIndex-1]!==`
`)&&(E="(?: "+E+")",F=" "+F,T++),b=new RegExp("^(?:"+E+")",D)),f&&(b=new RegExp("^"+E+"$(?!\\s)",D)),h&&(g=j.lastIndex),x=p.call(S?b:j,F),S?x?(x.input=x.input.slice(T),x[0]=x[0].slice(T),x.index=j.lastIndex,j.lastIndex+=x[0].length):j.lastIndex=0:h&&x&&(j.lastIndex=j.global?x.index+x[0].length:g),f&&x&&1<x.length&&m.call(x[0],b,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(x[_]=void 0)}),x}:c},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,a,l){var o=t("../internals/an-object");a.exports=function(){var u=o(this),i="";return u.global&&(i+="g"),u.ignoreCase&&(i+="i"),u.multiline&&(i+="m"),u.dotAll&&(i+="s"),u.unicode&&(i+="u"),u.sticky&&(i+="y"),i}},{"../internals/an-object":10}],114:[function(t,a,l){t=t("./fails");function o(u,i){return RegExp(u,i)}l.UNSUPPORTED_Y=t(function(){var u=o("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),l.BROKEN_CARET=t(function(){var u=o("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":51}],115:[function(t,a,l){a.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},{}],116:[function(t,a,l){a.exports=Object.is||function(o,u){return o===u?o!==0||1/o==1/u:o!=o&&u!=u}},{}],117:[function(t,a,l){var o=t("../internals/global"),u=t("../internals/create-non-enumerable-property");a.exports=function(i,d){try{u(o,i,d)}catch{o[i]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,a,l){var o=t("../internals/get-built-in"),u=t("../internals/object-define-property"),i=t("../internals/well-known-symbol"),d=t("../internals/descriptors"),p=i("species");a.exports=function(c){var c=o(c),h=u.f;d&&c&&!c[p]&&h(c,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,a,l){var o=t("../internals/object-define-property").f,u=t("../internals/has"),i=t("../internals/well-known-symbol")("toStringTag");a.exports=function(d,p,m){d&&!u(d=m?d:d.prototype,i)&&o(d,i,{configurable:!0,value:p})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,a,l){var o=t("../internals/shared"),u=t("../internals/uid"),i=o("keys");a.exports=function(d){return i[d]||(i[d]=u(d))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(o,a,l){var i=o("../internals/global"),o=o("../internals/set-global"),u="__core-js_shared__",i=i[u]||o(u,{});a.exports=i},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,a,l){var o=t("../internals/is-pure"),u=t("../internals/shared-store");(a.exports=function(i,d){return u[i]||(u[i]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,a,l){var o=t("../internals/an-object"),u=t("../internals/a-function"),i=t("../internals/well-known-symbol")("species");a.exports=function(m,p){var m=o(m).constructor;return m===void 0||(m=o(m)[i])==null?p:u(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,a,l){var o=t("../internals/fails");a.exports=function(u){return o(function(){var i=""[u]('"');return i!==i.toLowerCase()||3<i.split('"').length})}},{"../internals/fails":51}],125:[function(t,a,l){function o(d){return function(h,v){var c,h=String(i(h)),v=u(v),f=h.length;return v<0||f<=v?d?"":void 0:(c=h.charCodeAt(v))<55296||56319<c||v+1===f||(f=h.charCodeAt(v+1))<56320||57343<f?d?h.charAt(v):c:d?h.slice(v,v+2):f-56320+(c-55296<<10)+65536}}var u=t("../internals/to-integer"),i=t("../internals/require-object-coercible");a.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,a,l){t=t("../internals/engine-user-agent"),a.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,a,l){function o(m){return function(f,b,g){var f=String(d(f)),y=f.length,g=g===void 0?" ":String(g),b=u(b);return b<=y||g==""?f:((y=i.call(g,p((b=b-y)/g.length))).length>b&&(y=y.slice(0,b)),m?f+y:y+f)}}var u=t("../internals/to-length"),i=t("../internals/string-repeat"),d=t("../internals/require-object-coercible"),p=Math.ceil;a.exports={start:o(!1),end:o(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,a,l){function o(x){return x+22+75*(x<26)}function u(x){var _,j=[],S=(x=function(Y){for(var K=[],se=0,M=Y.length;se<M;){var R,z=Y.charCodeAt(se++);55296<=z&&z<=56319&&se<M?(64512&(R=Y.charCodeAt(se++)))==56320?K.push(((1023&z)<<10)+(1023&R)+65536):(K.push(z),se--):K.push(z)}return K}(x)).length,D=128,E=0,T=72;for(O=0;O<x.length;O++)(_=x[O])<128&&j.push(b(_));var F=j.length,A=F;for(F&&j.push("-");A<S;){for(var L=i,O=0;O<x.length;O++)D<=(_=x[O])&&_<L&&(L=_);var B=A+1;if(L-D>g((i-E)/B))throw RangeError(f);for(E+=(L-D)*B,D=L,O=0;O<x.length;O++){if((_=x[O])<D&&++E>i)throw RangeError(f);if(_==D){for(var I=E,N=d;;N+=d){var H=N<=T?1:T+p<=N?p:N-T;if(I<H)break;var V=I-H,G=d-H;j.push(b(o(H+V%G))),I=g(V/G)}j.push(b(o(I))),T=function(Y,K,se){var M=0;for(Y=se?g(Y/c):Y>>1,Y+=g(Y/K);y*p>>1<Y;M+=d)Y=g(Y/y);return g(M+(y+1)*Y/(Y+m))}(E,B,A==F),E=0,++A}}++E,++D}return j.join("")}var i=2147483647,d=36,p=26,m=38,c=700,h=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",y=d-1,g=Math.floor,b=String.fromCharCode;a.exports=function(x){for(var _,j=[],S=x.toLowerCase().replace(v,".").split("."),D=0;D<S.length;D++)_=S[D],j.push(h.test(_)?"xn--"+u(_):_);return j.join(".")}},{}],129:[function(t,a,l){var o=t("../internals/to-integer"),u=t("../internals/require-object-coercible");a.exports="".repeat||function(i){var d=String(u(this)),p="",m=o(i);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(d+=d))1&m&&(p+=d);return p}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,a,l){var o=t("../internals/fails"),u=t("../internals/whitespaces");a.exports=function(i){return o(function(){return!!u[i]()||""[i]()!=""||u[i].name!==i})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(i,a,l){function o(m){return function(c){return c=String(u(c)),1&m&&(c=c.replace(d,"")),c=2&m?c.replace(p,""):c}}var u=i("../internals/require-object-coercible"),i="["+i("../internals/whitespaces")+"]",d=RegExp("^"+i+i+"*"),p=RegExp(i+i+"*$");a.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(y,a,l){function o(A){return function(){F(A)}}function u(A){F(A.data)}function i(A){p.postMessage(A+"",g.protocol+"//"+g.host)}var d,p=y("../internals/global"),m=y("../internals/fails"),c=y("../internals/classof-raw"),h=y("../internals/function-bind-context"),v=y("../internals/html"),f=y("../internals/document-create-element"),y=y("../internals/engine-is-ios"),g=p.location,b=p.setImmediate,x=p.clearImmediate,_=p.process,j=p.MessageChannel,S=p.Dispatch,D=0,E={},T="onreadystatechange",F=function(A){var L;E.hasOwnProperty(A)&&(L=E[A],delete E[A],L())};b&&x||(b=function(A){for(var L=[],O=1;O<arguments.length;)L.push(arguments[O++]);return E[++D]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,L)},d(D),D},x=function(A){delete E[A]},c(_)=="process"?d=function(A){_.nextTick(o(A))}:S&&S.now?d=function(A){S.now(o(A))}:j&&!y?(y=(c=new j).port2,c.port1.onmessage=u,d=h(y.postMessage,y,1)):!p.addEventListener||typeof postMessage!="function"||p.importScripts||m(i)||g.protocol==="file:"?d=T in f("script")?function(A){v.appendChild(f("script"))[T]=function(){v.removeChild(this),F(A)}}:function(A){setTimeout(o(A),0)}:(d=i,p.addEventListener("message",u,!1))),a.exports={set:b,clear:x}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,a,l){var o=t("../internals/classof-raw");a.exports=function(u){if(typeof u!="number"&&o(u)!="Number")throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],134:[function(t,a,l){var o=t("../internals/to-integer"),u=Math.max,i=Math.min;a.exports=function(d,p){return d=o(d),d<0?u(d+p,0):i(d,p)}},{"../internals/to-integer":137}],135:[function(t,a,l){var o=t("../internals/to-integer"),u=t("../internals/to-length");a.exports=function(d){if(d===void 0)return 0;var d=o(d),p=u(d);if(d!==p)throw RangeError("Wrong length or index");return p}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,a,l){var o=t("../internals/indexed-object"),u=t("../internals/require-object-coercible");a.exports=function(i){return o(u(i))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,a,l){var o=Math.ceil,u=Math.floor;a.exports=function(i){return isNaN(i=+i)?0:(0<i?u:o)(i)}},{}],138:[function(t,a,l){var o=t("../internals/to-integer"),u=Math.min;a.exports=function(i){return 0<i?u(o(i),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,a,l){var o=t("../internals/require-object-coercible");a.exports=function(u){return Object(o(u))}},{"../internals/require-object-coercible":115}],140:[function(t,a,l){var o=t("../internals/to-positive-integer");a.exports=function(u,i){if(u=o(u),u%i)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":141}],141:[function(t,a,l){var o=t("../internals/to-integer");a.exports=function(u){if(u=o(u),u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":137}],142:[function(t,a,l){var o=t("../internals/is-object");a.exports=function(u,i){if(!o(u))return u;var d,p;if(i&&typeof(d=u.toString)=="function"&&!o(p=d.call(u))||typeof(d=u.valueOf)=="function"&&!o(p=d.call(u))||!i&&typeof(d=u.toString)=="function"&&!o(p=d.call(u)))return p;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,a,l){var o={};o[t("../internals/well-known-symbol")("toStringTag")]="z",a.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,a,l){function o(xe,je){for(var Te=0,Ge=je.length,Oe=new(ee(xe))(Ge);Te<Ge;)Oe[Te]=je[Te++];return Oe}function u(xe,je){R(xe,je,{get:function(){return se(this)[je]}})}function i(xe){return xe instanceof te||(xe=F(xe))=="ArrayBuffer"||xe=="SharedArrayBuffer"}function d(xe,je){return pe(xe)&&typeof je!="symbol"&&je in xe&&String(+je)==String(je)}function p(xe,je){return d(xe,je=E(je,!0))?x(2,xe[je]):z(xe,je)}function m(xe,je,Te){return!(d(xe,je=E(je,!0))&&A(Te)&&T(Te,"value"))||T(Te,"get")||T(Te,"set")||Te.configurable||T(Te,"writable")&&!Te.writable||T(Te,"enumerable")&&!Te.enumerable?R(xe,je,Te):(xe[je]=Te.value,xe)}var c=t("../internals/export"),h=t("../internals/global"),v=t("../internals/descriptors"),f=t("../internals/typed-array-constructors-require-wrappers"),y=t("../internals/array-buffer-view-core"),g=t("../internals/array-buffer"),b=t("../internals/an-instance"),x=t("../internals/create-property-descriptor"),_=t("../internals/create-non-enumerable-property"),j=t("../internals/to-length"),S=t("../internals/to-index"),D=t("../internals/to-offset"),E=t("../internals/to-primitive"),T=t("../internals/has"),F=t("../internals/classof"),A=t("../internals/is-object"),L=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),B=t("../internals/object-get-own-property-names").f,I=t("../internals/typed-array-from"),N=t("../internals/array-iteration").forEach,H=t("../internals/set-species"),V=t("../internals/object-define-property"),G=t("../internals/object-get-own-property-descriptor"),Y=t("../internals/internal-state"),K=t("../internals/inherit-if-required"),se=Y.get,M=Y.set,R=V.f,z=G.f,W=Math.round,J=h.RangeError,te=g.ArrayBuffer,ie=g.DataView,de=y.NATIVE_ARRAY_BUFFER_VIEWS,oe=y.TYPED_ARRAY_TAG,he=y.TypedArray,le=y.TypedArrayPrototype,ee=y.aTypedArrayConstructor,pe=y.isTypedArray,_e="BYTES_PER_ELEMENT",De="Wrong length";v?(de||(G.f=p,V.f=m,u(le,"buffer"),u(le,"byteOffset"),u(le,"byteLength"),u(le,"length")),c({target:"Object",stat:!0,forced:!de},{getOwnPropertyDescriptor:p,defineProperty:m}),a.exports=function(ce,je,Te){function Ge(me,Z){R(me,Z,{get:function(){var Q=this,$=Z;return(Q=se(Q)).view[ge]($*Oe+Q.byteOffset,!0)},set:function(Q){var $=this,ne=Z;$=se($),Te&&(Q=(Q=W(Q))<0?0:255<Q?255:255&Q),$.view[we](ne*Oe+$.byteOffset,Q,!0)},enumerable:!0})}var Oe=ce.match(/\d+$/)[0]/8,ae=ce+(Te?"Clamped":"")+"Array",ge="get"+ce,we="set"+ce,Me=h[ae],ke=Me,ce=ke&&ke.prototype,Ce={};de?f&&(ke=je(function(me,Z,Q,$){return b(me,ke,ae),K(A(Z)?i(Z)?$!==void 0?new Me(Z,D(Q,Oe),$):Q!==void 0?new Me(Z,D(Q,Oe)):new Me(Z):pe(Z)?o(ke,Z):I.call(ke,Z):new Me(S(Z)),me,ke)}),O&&O(ke,he),N(B(Me),function(me){me in ke||_(ke,me,Me[me])}),ke.prototype=ce):(ke=je(function(me,Z,Q,$){b(me,ke,ae);var ne,be,Ee=0,Re=0;if(A(Z)){if(!i(Z))return pe(Z)?o(ke,Z):I.call(ke,Z);var Ve=Z,Re=D(Q,Oe),Q=Z.byteLength;if($===void 0){if(Q%Oe||(ne=Q-Re)<0)throw J(De)}else if(Q<(ne=j($)*Oe)+Re)throw J(De);be=ne/Oe}else be=S(Z),Ve=new te(ne=be*Oe);for(M(me,{buffer:Ve,byteOffset:Re,byteLength:ne,length:be,view:new ie(Ve)});Ee<be;)Ge(me,Ee++)}),O&&O(ke,he),ce=ke.prototype=L(le)),ce.constructor!==ke&&_(ce,"constructor",ke),oe&&_(ce,oe,ae),Ce[ae]=ke,c({global:!0,forced:ke!=Me,sham:!de},Ce),_e in ke||_(ke,_e,Oe),_e in ce||_(ce,_e,Oe),H(ae)}):a.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(d,a,l){var o=d("../internals/global"),u=d("../internals/fails"),i=d("../internals/check-correctness-of-iteration"),d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,p=o.ArrayBuffer,m=o.Int8Array;a.exports=!d||!u(function(){m(1)})||!u(function(){new m(-1)})||!i(function(c){new m,new m(null),new m(1.5),new m(c)},!0)||u(function(){return new m(new p(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,a,l){var o=t("../internals/to-object"),u=t("../internals/to-length"),i=t("../internals/get-iterator-method"),d=t("../internals/is-array-iterator-method"),p=t("../internals/function-bind-context"),m=t("../internals/array-buffer-view-core").aTypedArrayConstructor;a.exports=function(c){var h,v,f,y,g,b,x=o(c),_=arguments.length,j=1<_?arguments[1]:void 0,S=j!==void 0,D=i(x);if(D!=null&&!d(D))for(b=(g=D.call(x)).next,x=[];!(y=b.call(g)).done;)x.push(y.value);for(S&&2<_&&(j=p(j,arguments[2],2)),v=u(x.length),f=new(m(this))(v),h=0;h<v;h++)f[h]=S?j(x[h],h):x[h];return f}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,a,l){var o=0,u=Math.random();a.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++o+u).toString(36)}},{}],148:[function(t,a,l){t=t("../internals/native-symbol"),a.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,a,l){t=t("../internals/well-known-symbol"),l.f=t},{"../internals/well-known-symbol":150}],150:[function(m,a,l){var o=m("../internals/global"),u=m("../internals/shared"),i=m("../internals/has"),d=m("../internals/uid"),p=m("../internals/native-symbol"),m=m("../internals/use-symbol-as-uid"),c=u("wks"),h=o.Symbol,v=m?h:h&&h.withoutSetter||d;a.exports=function(f){return i(c,f)||(p&&i(h,f)?c[f]=h[f]:c[f]=v("Symbol."+f)),c[f]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,a,l){a.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(i,a,l){var o=i("../internals/export"),u=i("../internals/global"),p=i("../internals/array-buffer"),i=i("../internals/set-species"),d="ArrayBuffer",p=p[d];o({global:!0,forced:u[d]!==p},{ArrayBuffer:p}),i(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(x,a,l){var o=x("../internals/export"),u=x("../internals/fails"),i=x("../internals/is-array"),d=x("../internals/is-object"),p=x("../internals/to-object"),m=x("../internals/to-length"),c=x("../internals/create-property"),h=x("../internals/array-species-create"),v=x("../internals/array-method-has-species-support"),b=x("../internals/well-known-symbol"),x=x("../internals/engine-v8-version"),f=b("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",b=51<=x||!u(function(){var _=[];return _[f]=!1,_.concat()[0]!==_}),x=v("concat");o({target:"Array",proto:!0,forced:!b||!x},{concat:function(_){for(var j,S,D,E,T,F=p(this),A=h(F,0),L=0,O=-1,B=arguments.length;O<B;O++)if(T=void 0,!d(E=D=O===-1?F:arguments[O])||((T=E[f])!==void 0?!T:!i(E))){if(y<=L)throw TypeError(g);c(A,L++,D)}else{if(S=m(D.length),y<L+S)throw TypeError(g);for(j=0;j<S;j++,L++)j in D&&c(A,L,D[j])}return A.length=L,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(i,a,l){var o=i("../internals/export"),u=i("../internals/array-copy-within"),i=i("../internals/add-to-unscopables");o({target:"Array",proto:!0},{copyWithin:u}),i("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(d,a,l){var o=d("../internals/export"),u=d("../internals/array-iteration").every,i=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),i=i("every"),d=d("every");o({target:"Array",proto:!0,forced:!i||!d},{every:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(i,a,l){var o=i("../internals/export"),u=i("../internals/array-fill"),i=i("../internals/add-to-unscopables");o({target:"Array",proto:!0},{fill:u}),i("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(d,a,l){var o=d("../internals/export"),u=d("../internals/array-iteration").filter,i=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),i=i("filter"),d=d("filter");o({target:"Array",proto:!0,forced:!i||!d},{filter:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(m,a,l){var o=m("../internals/export"),u=m("../internals/array-iteration").findIndex,i=m("../internals/add-to-unscopables"),m=m("../internals/array-method-uses-to-length"),d="findIndex",p=!0,m=m(d);d in[]&&Array(1)[d](function(){p=!1}),o({target:"Array",proto:!0,forced:p||!m},{findIndex:function(c){return u(this,c,1<arguments.length?arguments[1]:void 0)}}),i(d)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/flatten-into-array"),i=t("../internals/to-object"),d=t("../internals/to-length"),p=t("../internals/a-function"),m=t("../internals/array-species-create");o({target:"Array",proto:!0},{flatMap:function(c){var h,v=i(this),f=d(v.length);return p(c),(h=m(v,0)).length=u(h,v,v,f,0,1,c,1<arguments.length?arguments[1]:void 0),h}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/flatten-into-array"),i=t("../internals/to-object"),d=t("../internals/to-length"),p=t("../internals/to-integer"),m=t("../internals/array-species-create");o({target:"Array",proto:!0},{flat:function(){var c=arguments.length?arguments[0]:void 0,h=i(this),v=d(h.length),f=m(h,0);return f.length=u(f,h,h,v,0,c===void 0?1:p(c)),f}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(u,a,l){var o=u("../internals/export"),u=u("../internals/array-for-each");o({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/array-from");o({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(i){Array.from(i)})},{from:u})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/array-includes").includes,i=t("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return u(this,d,1<arguments.length?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(m,a,l){var o=m("../internals/export"),u=m("../internals/array-includes").indexOf,p=m("../internals/array-method-is-strict"),m=m("../internals/array-method-uses-to-length"),i=[].indexOf,d=!!i&&1/[1].indexOf(1,-0)<0,p=p("indexOf"),m=m("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:d||!p||!m},{indexOf:function(c){return d?i.apply(this,arguments)||0:u(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(p,a,l){var o=p("../internals/to-indexed-object"),u=p("../internals/add-to-unscopables"),i=p("../internals/iterators"),d=p("../internals/internal-state"),p=p("../internals/define-iterator"),m="Array Iterator",c=d.set,h=d.getterFor(m);a.exports=p(Array,"Array",function(v,f){c(this,{type:m,target:o(v),index:0,kind:f})},function(){var v=h(this),f=v.target,y=v.kind,g=v.index++;return!f||g>=f.length?{value:v.target=void 0,done:!0}:y=="keys"?{value:g,done:!1}:y=="values"?{value:f[g],done:!1}:{value:[g,f[g]],done:!1}},"values"),i.Arguments=i.Array,u("keys"),u("values"),u("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(p,a,l){var o=p("../internals/export"),d=p("../internals/indexed-object"),u=p("../internals/to-indexed-object"),p=p("../internals/array-method-is-strict"),i=[].join,d=d!=Object,p=p("join",",");o({target:"Array",proto:!0,forced:d||!p},{join:function(m){return i.call(u(this),m===void 0?",":m)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(u,a,l){var o=u("../internals/export"),u=u("../internals/array-last-index-of");o({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(d,a,l){var o=d("../internals/export"),u=d("../internals/array-iteration").map,i=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),i=i("map"),d=d("map");o({target:"Array",proto:!0,forced:!i||!d},{map:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(f,a,l){var o=f("../internals/export"),u=f("../internals/is-object"),i=f("../internals/is-array"),d=f("../internals/to-absolute-index"),p=f("../internals/to-length"),m=f("../internals/to-indexed-object"),c=f("../internals/create-property"),h=f("../internals/well-known-symbol"),v=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),v=v("slice"),f=f("slice",{ACCESSORS:!0,0:0,1:2}),y=h("species"),g=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!v||!f},{slice:function(x,_){var j,S,D,E=m(this),T=p(E.length),F=d(x,T),A=d(_===void 0?T:_,T);if(i(E)&&((j=typeof(j=E.constructor)=="function"&&(j===Array||i(j.prototype))||u(j)&&(j=j[y])===null?void 0:j)===Array||j===void 0))return g.call(E,F,A);for(S=new(j===void 0?Array:j)(b(A-F,0)),D=0;F<A;F++,D++)F in E&&c(S,D,E[F]);return S.length=D,S}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(d,a,l){var o=d("../internals/export"),u=d("../internals/array-iteration").some,i=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),i=i("some"),d=d("some");o({target:"Array",proto:!0,forced:!i||!d},{some:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(v,a,l){var o=v("../internals/export"),u=v("../internals/to-absolute-index"),i=v("../internals/to-integer"),d=v("../internals/to-length"),p=v("../internals/to-object"),m=v("../internals/array-species-create"),c=v("../internals/create-property"),h=v("../internals/array-method-has-species-support"),v=v("../internals/array-method-uses-to-length"),h=h("splice"),v=v("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,y=Math.min;o({target:"Array",proto:!0,forced:!h||!v},{splice:function(L,b){var x,_,j,S,D,E,T=p(this),F=d(T.length),A=u(L,F),L=arguments.length;if(L===0?x=_=0:_=L===1?(x=0,F-A):(x=L-2,y(f(i(b),0),F-A)),9007199254740991<F+x-_)throw TypeError("Maximum allowed length exceeded");for(j=m(T,_),S=0;S<_;S++)(D=A+S)in T&&c(j,S,T[D]);if(x<(j.length=_)){for(S=A;S<F-_;S++)E=S+x,(D=S+_)in T?T[E]=T[D]:delete T[E];for(S=F;F-_+x<S;S--)delete T[S-1]}else if(_<x)for(S=F-_;A<S;S--)E=S+x-1,(D=S+_-1)in T?T[E]=T[D]:delete T[E];for(S=0;S<x;S++)T[S+A]=arguments[S+2];return T.length=F-_+x,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,a,l){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,a,l){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(u,a,l){var o=u("../internals/descriptors"),u=u("../internals/object-define-property").f,i=Function.prototype,d=i.toString,p=/^\s*function ([^ (]*)/;!o||"name"in i||u(i,"name",{configurable:!0,get:function(){try{return d.call(this).match(p)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(u,a,l){var o=u("../internals/collection"),u=u("../internals/collection-strong");a.exports=o("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(o,a,l){var o=o("../internals/export"),u=Math.hypot,i=Math.abs,d=Math.sqrt;o({target:"Math",stat:!0,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(p,m){for(var c,h,v=0,f=0,y=arguments.length,g=0;f<y;)g<(c=i(arguments[f++]))?(v=v*(h=g/c)*h+1,g=c):v+=0<c?(h=c/g)*h:c;return g===1/0?1/0:g*d(v)}})},{"../internals/export":50}],177:[function(o,a,l){var o=o("../internals/export"),u=Math.log,i=Math.LN2;o({target:"Math",stat:!0},{log2:function(d){return u(d)/i}})},{"../internals/export":50}],178:[function(t,a,l){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,a,l){function o(O){var B,I,N,H,V,G,Y,K=v(O,!1);if(typeof K=="string"&&2<K.length){if((O=(K=_(K)).charCodeAt(0))===43||O===45){if((B=K.charCodeAt(2))===88||B===120)return NaN}else if(O===48){switch(K.charCodeAt(1)){case 66:case 98:I=2,N=49;break;case 79:case 111:I=8,N=55;break;default:return+K}for(V=(H=K.slice(2)).length,G=0;G<V;G++)if((Y=H.charCodeAt(G))<48||N<Y)return NaN;return parseInt(H,I)}}return+K}var u=t("../internals/descriptors"),i=t("../internals/global"),d=t("../internals/is-forced"),p=t("../internals/redefine"),m=t("../internals/has"),c=t("../internals/classof-raw"),h=t("../internals/inherit-if-required"),v=t("../internals/to-primitive"),f=t("../internals/fails"),y=t("../internals/object-create"),g=t("../internals/object-get-own-property-names").f,b=t("../internals/object-get-own-property-descriptor").f,x=t("../internals/object-define-property").f,_=t("../internals/string-trim").trim,j="Number",S=i[j],D=S.prototype,E=c(y(D))==j;if(d(j,!S(" 0o1")||!S("0b1")||S("+0x1"))){for(var T,F=function(B){var B=arguments.length<1?0:B,I=this;return I instanceof F&&(E?f(function(){D.valueOf.call(I)}):c(I)!=j)?h(new S(o(B)),I,F):o(B)},A=u?g(S):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;A.length>L;L++)m(S,T=A[L])&&!m(F,T)&&x(F,T,b(S,T));(F.prototype=D).constructor=F,p(i,j,F)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,a,l){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,a,l){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(m,a,l){function o(v,f,y){return f===0?y:f%2==1?o(v,f-1,y*v):o(v*v,f/2,y)}var u=m("../internals/export"),i=m("../internals/to-integer"),d=m("../internals/this-number-value"),p=m("../internals/string-repeat"),m=m("../internals/fails"),c=1 .toFixed,h=Math.floor;u({target:"Number",proto:!0,forced:c&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!m(function(){c.call({})})},{toFixed:function(j){function f(T,F){for(var A=-1,L=F;++A<6;)L+=T*S[A],S[A]=L%1e7,L=h(L/1e7)}function y(T){for(var F=6,A=0;0<=--F;)A+=S[F],S[F]=h(A/T),A=A%T*1e7}function g(){for(var T,F=6,A="";0<=--F;)A===""&&F!==0&&S[F]===0||(T=String(S[F]),A=A===""?T:A+p.call("0",7-T.length)+T);return A}var b,x,_=d(this),j=i(j),S=[0,0,0,0,0,0],D="",E="0";if(j<0||20<j)throw RangeError("Incorrect fraction digits");if(_!=_)return"NaN";if(_<=-1e21||1e21<=_)return String(_);if(_<0&&(D="-",_=-_),1e-21<_)if(_=(b=function(T){for(var F=0,A=T;4096<=A;)F+=12,A/=4096;for(;2<=A;)F+=1,A/=2;return F}(_*o(2,69,1))-69)<0?_*o(2,-b,1):_/o(2,b,1),_*=4503599627370496,0<(b=52-b)){for(f(0,_),x=j;7<=x;)f(1e7,0),x-=7;for(f(o(10,x,1),0),x=b-1;23<=x;)y(1<<23),x-=23;y(1<<x),f(1,1),y(2),E=g()}else f(0,_),f(1<<-b,0),E=g()+p.call("0",j);return E=0<j?D+((_=E.length)<=j?"0."+p.call("0",j-_)+E:E.slice(0,_-j)+"."+E.slice(_-j)):D+E}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(u,a,l){var o=u("../internals/export"),u=u("../internals/object-assign");o({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/object-to-array").entries;o({target:"Object",stat:!0},{entries:function(i){return u(i)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/iterate"),i=t("../internals/create-property");o({target:"Object",stat:!0},{fromEntries:function(d){var p={};return u(d,function(m,c){i(p,m,c)},void 0,!0),p}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(d,a,l){var o=d("../internals/export"),p=d("../internals/fails"),u=d("../internals/to-indexed-object"),i=d("../internals/object-get-own-property-descriptor").f,d=d("../internals/descriptors"),p=p(function(){i(1)});o({target:"Object",stat:!0,forced:!d||p,sham:!d},{getOwnPropertyDescriptor:function(m,c){return i(u(m),c)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(i,a,l){var o=i("../internals/export"),u=i("../internals/fails"),i=i("../internals/object-get-own-property-names-external").f;o({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(p,a,l){var o=p("../internals/export"),u=p("../internals/fails"),i=p("../internals/to-object"),d=p("../internals/object-get-prototype-of"),p=p("../internals/correct-prototype-getter");o({target:"Object",stat:!0,forced:u(function(){d(1)}),sham:!p},{getPrototypeOf:function(m){return d(i(m))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/to-object"),i=t("../internals/object-keys");o({target:"Object",stat:!0,forced:t("../internals/fails")(function(){i(1)})},{keys:function(d){return i(u(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(i,a,l){var o=i("../internals/to-string-tag-support"),u=i("../internals/redefine"),i=i("../internals/object-to-string");o||u(Object.prototype,"toString",i,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Te,a,l){var o,u,i,d,p=Te("../internals/export"),m=Te("../internals/is-pure"),c=Te("../internals/global"),h=Te("../internals/get-built-in"),v=Te("../internals/native-promise-constructor"),f=Te("../internals/redefine"),y=Te("../internals/redefine-all"),g=Te("../internals/set-to-string-tag"),b=Te("../internals/set-species"),x=Te("../internals/is-object"),_=Te("../internals/a-function"),j=Te("../internals/an-instance"),S=Te("../internals/classof-raw"),D=Te("../internals/inspect-source"),E=Te("../internals/iterate"),T=Te("../internals/check-correctness-of-iteration"),F=Te("../internals/species-constructor"),A=Te("../internals/task").set,L=Te("../internals/microtask"),O=Te("../internals/promise-resolve"),B=Te("../internals/host-report-errors"),I=Te("../internals/new-promise-capability"),N=Te("../internals/perform"),H=Te("../internals/internal-state"),V=Te("../internals/is-forced"),Ge=Te("../internals/well-known-symbol"),G=Te("../internals/engine-v8-version"),Y=Ge("species"),K="Promise",se=H.get,M=H.set,R=H.getterFor(K),z=v,W=c.TypeError,J=c.document,te=c.process,ie=h("fetch"),de=I.f,oe=de,he=S(te)=="process",le=!!(J&&J.createEvent&&c.dispatchEvent),ee="unhandledrejection",pe="rejectionhandled",_e=1,De=2,xe=1,je=2,Te=V(K,function(){var Ce,me;return D(z)===String(z)&&(G===66||!he&&typeof PromiseRejectionEvent!="function")?!0:!(!m||z.prototype.finally)||!(51<=G&&/native code/.test(z))&&(me=function(Z){Z(function(){},function(){})},((Ce=z.resolve(1)).constructor={})[Y]=me,!(Ce.then(function(){})instanceof me))}),Ge=Te||!T(function(Ce){z.all(Ce).catch(function(){})}),Oe=function(Ce){var me;return!(!x(Ce)||typeof(me=Ce.then)!="function")&&me},ae=function(Ce,me,Z){var Q;me.notified||(me.notified=!0,Q=me.reactions,L(function(){for(var $,ne,be=me.value,Ee=me.state==_e,Re=0;Q.length>Re;){var Ve,Xe,Ye,Ke=Q[Re++],ft=Ee?Ke.ok:Ke.fail,ct=Ke.resolve,tt=Ke.reject,dt=Ke.domain;try{ft?(Ee||(me.rejection===je&&function(at,Mt){A.call(c,function(){he?te.emit("rejectionHandled",at):ge(pe,at,Mt.value)})}(Ce,me),me.rejection=xe),ft===!0?Ve=be:(dt&&dt.enter(),Ve=ft(be),dt&&(dt.exit(),Ye=!0)),Ve===Ke.promise?tt(W("Promise-chain cycle")):(Xe=Oe(Ve))?Xe.call(Ve,ct,tt):ct(Ve)):tt(be)}catch(at){dt&&!Ye&&dt.exit(),tt(at)}}me.reactions=[],me.notified=!1,Z&&!me.rejection&&($=Ce,ne=me,A.call(c,function(){var at=ne.value,Mt=we(ne);if(Mt&&(Mt=N(function(){he?te.emit("unhandledRejection",at,$):ge(ee,$,at)}),ne.rejection=he||we(ne)?je:xe,Mt.error))throw Mt.value}))}))},ge=function(Ce,me,Z){var Q;le?((Q=J.createEvent("Event")).promise=me,Q.reason=Z,Q.initEvent(Ce,!1,!0),c.dispatchEvent(Q)):Q={promise:me,reason:Z},(me=c["on"+Ce])?me(Q):Ce===ee&&B("Unhandled promise rejection",Z)},we=function(Ce){return Ce.rejection!==xe&&!Ce.parent},Me=function(Ce,me,Z,Q){return function($){Ce(me,Z,$,Q)}},ke=function(Ce,me,Z,Q){me.done||(me.done=!0,(me=Q||me).value=Z,me.state=De,ae(Ce,me,!0))},ce=function(Ce,me,Z,Q){if(!me.done){me.done=!0,Q&&(me=Q);try{if(Ce===Z)throw W("Promise can't be resolved itself");var $=Oe(Z);$?L(function(){var ne={done:!1};try{$.call(Z,Me(ce,Ce,ne,me),Me(ke,Ce,ne,me))}catch(be){ke(Ce,ne,be,me)}}):(me.value=Z,me.state=_e,ae(Ce,me,!1))}catch(ne){ke(Ce,{done:!1},ne,me)}}};Te&&(z=function(Ce){j(this,z,K),_(Ce),o.call(this);var me=se(this);try{Ce(Me(ce,this,me),Me(ke,this,me))}catch(Z){ke(this,me,Z)}},(o=function(Ce){M(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(z.prototype,{then:function(Ce,me){var Z=R(this),Q=de(F(this,z));return Q.ok=typeof Ce!="function"||Ce,Q.fail=typeof me=="function"&&me,Q.domain=he?te.domain:void 0,Z.parent=!0,Z.reactions.push(Q),Z.state!=0&&ae(this,Z,!1),Q.promise},catch:function(Ce){return this.then(void 0,Ce)}}),u=function(){var Ce=new o,me=se(Ce);this.promise=Ce,this.resolve=Me(ce,Ce,me),this.reject=Me(ke,Ce,me)},I.f=de=function(Ce){return Ce===z||Ce===i?new u:oe(Ce)},m||typeof v!="function"||(d=v.prototype.then,f(v.prototype,"then",function(Ce,me){var Z=this;return new z(function(Q,$){d.call(Z,Q,$)}).then(Ce,me)},{unsafe:!0}),typeof ie=="function"&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(Ce){return O(z,ie.apply(c,arguments))}}))),p({global:!0,wrap:!0,forced:Te},{Promise:z}),g(z,K,!1,!0),b(K),i=h(K),p({target:K,stat:!0,forced:Te},{reject:function(Ce){var me=de(this);return me.reject.call(void 0,Ce),me.promise}}),p({target:K,stat:!0,forced:m||Te},{resolve:function(Ce){return O(m&&this===i?z:this,Ce)}}),p({target:K,stat:!0,forced:Ge},{all:function(Ce){var me=this,Z=de(me),Q=Z.resolve,$=Z.reject,ne=N(function(){var be=_(me.resolve),Ee=[],Re=0,Ve=1;E(Ce,function(Xe){var Ye=Re++,Ke=!1;Ee.push(void 0),Ve++,be.call(me,Xe).then(function(ft){Ke||(Ke=!0,Ee[Ye]=ft,--Ve||Q(Ee))},$)}),--Ve||Q(Ee)});return ne.error&&$(ne.value),Z.promise},race:function(Ce){var me=this,Z=de(me),Q=Z.reject,$=N(function(){var ne=_(me.resolve);E(Ce,function(be){ne.call(me,be).then(Z.resolve,Q)})});return $.error&&Q($.value),Z.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(c,a,l){var o=c("../internals/export"),y=c("../internals/get-built-in"),u=c("../internals/a-function"),i=c("../internals/an-object"),d=c("../internals/is-object"),p=c("../internals/object-create"),m=c("../internals/function-bind"),c=c("../internals/fails"),h=y("Reflect","construct"),v=c(function(){function g(){}return!(h(function(){},[],g)instanceof g)}),f=!c(function(){h(function(){})}),y=v||f;o({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(g,b){u(g),i(b);var x=arguments.length<3?g:u(arguments[2]);if(f&&!v)return h(g,b,x);if(g==x){switch(b.length){case 0:return new g;case 1:return new g(b[0]);case 2:return new g(b[0],b[1]);case 3:return new g(b[0],b[1],b[2]);case 4:return new g(b[0],b[1],b[2],b[3])}var _=[null];return _.push.apply(_,b),new(m.apply(g,_))}return _=x.prototype,x=p(d(_)?_:Object.prototype),_=Function.apply.call(g,x,b),d(_)?_:x}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/is-object"),i=t("../internals/an-object"),d=t("../internals/has"),p=t("../internals/object-get-own-property-descriptor"),m=t("../internals/object-get-prototype-of");o({target:"Reflect",stat:!0},{get:function c(h,v){var f,y=arguments.length<3?h:arguments[2];return i(h)===y?h[v]:(f=p.f(h,v))?d(f,"value")?f.value:f.get===void 0?void 0:f.get.call(y):u(f=m(h))?c(f,v,y):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,a,l){var o=t("../internals/descriptors"),u=t("../internals/global"),i=t("../internals/is-forced"),d=t("../internals/inherit-if-required"),p=t("../internals/object-define-property").f,m=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),h=t("../internals/regexp-flags"),v=t("../internals/regexp-sticky-helpers"),f=t("../internals/redefine"),y=t("../internals/fails"),g=t("../internals/internal-state").set,b=t("../internals/set-species"),x=t("../internals/well-known-symbol")("match"),_=u.RegExp,j=_.prototype,S=/a/g,D=/a/g,E=new _(S)!==S,T=v.UNSUPPORTED_Y;if(o&&i("RegExp",!E||T||y(function(){return D[x]=!1,_(S)!=S||_(D)==D||_(S,"i")!="/a/i"}))){for(var F=function(O,B){var I,N=this instanceof F,H=c(O),V=B===void 0;return!N&&H&&O.constructor===F&&V?O:(E?H&&!V&&(O=O.source):O instanceof F&&(V&&(B=h.call(O)),O=O.source),T&&(I=!!B&&-1<B.indexOf("y"))&&(B=B.replace(/y/g,"")),H=d(E?new _(O,B):_(O,B),N?this:j,F),T&&I&&g(H,{sticky:I}),H)},A=m(_),L=0;A.length>L;)(function(O){O in F||p(F,O,{configurable:!0,get:function(){return _[O]},set:function(B){_[O]=B}})})(A[L++]);(j.constructor=F).prototype=j,f(u,"RegExp",F)}b("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(u,a,l){var o=u("../internals/export"),u=u("../internals/regexp-exec");o({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(d,a,l){var o=d("../internals/redefine"),u=d("../internals/an-object"),c=d("../internals/fails"),i=d("../internals/regexp-flags"),d="toString",p=RegExp.prototype,m=p[d],c=c(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),h=m.name!=d;(c||h)&&o(RegExp.prototype,d,function(){var v=u(this),f=String(v.source),y=v.flags;return"/"+f+"/"+String(y===void 0&&v instanceof RegExp&&!("flags"in p)?i.call(v):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(u,a,l){var o=u("../internals/collection"),u=u("../internals/collection-strong");a.exports=o("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(m,a,l){var o=m("../internals/export"),u=m("../internals/object-get-own-property-descriptor").f,i=m("../internals/to-length"),d=m("../internals/not-a-regexp"),p=m("../internals/require-object-coercible"),v=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),c="".endsWith,h=Math.min,v=v("endsWith");o({target:"String",proto:!0,forced:!!(m||v||!(o=u(String.prototype,"endsWith"))||o.writable)&&!v},{endsWith:function(f){var y=String(p(this)),g=(d(f),1<arguments.length?arguments[1]:void 0),b=i(y.length),g=g===void 0?b:h(i(g),b),b=String(f);return c?c.call(y,b,g):y.slice(g-b.length,g)===b}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible");o({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(i(this)).indexOf(u(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(i,a,l){var o=i("../internals/string-multibyte").charAt,u=i("../internals/internal-state"),i=i("../internals/define-iterator"),d="String Iterator",p=u.set,m=u.getterFor(d);i(String,"String",function(c){p(this,{type:d,string:String(c),index:0})},function(){var c=m(this),h=c.string,v=c.index;return v>=h.length?{value:void 0,done:!0}:(h=o(h,v),c.index+=h.length,{value:h,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,a,l){var o=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),i=t("../internals/to-length"),d=t("../internals/require-object-coercible"),p=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");o("match",1,function(c,h,v){return[function(f){var y=d(this),g=f==null?void 0:f[c];return g!==void 0?g.call(f,y):new RegExp(f)[c](String(y))},function(f){var y=v(h,f,this);if(y.done)return y.value;var g=u(f),b=String(this);if(!g.global)return m(g,b);for(var x=g.unicode,_=[],j=g.lastIndex=0;(S=m(g,b))!==null;){var S=String(S[0]);(_[j]=S)===""&&(g.lastIndex=p(b,i(g.lastIndex),x)),j++}return j===0?null:_}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/string-pad").start;o({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(i){return u(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,a,l){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,a,l){var o=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),i=t("../internals/to-object"),d=t("../internals/to-length"),p=t("../internals/to-integer"),m=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract"),v=Math.max,f=Math.min,y=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;o("replace",2,function(x,_,j,S){var D=S.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=S.REPLACE_KEEPS_$0,T=D?"$":"$0";return[function(F,A){var L=m(this),O=F==null?void 0:F[x];return O!==void 0?O.call(F,L,A):_.call(String(L),F,A)},function(F,A){if(!D&&E||typeof A=="string"&&A.indexOf(T)===-1){var L=j(_,F,this,A);if(L.done)return L.value}for(var O,B=u(F),I=String(this),N=typeof A=="function",H=(N||(A=String(A)),B.global),V=(H&&(O=B.unicode,B.lastIndex=0),[]);(M=h(B,I))!==null&&(V.push(M),H);)String(M[0])===""&&(B.lastIndex=c(I,d(B.lastIndex),O));for(var G,Y="",K=0,se=0;se<V.length;se++){for(var M=V[se],R=String(M[0]),z=v(f(p(M.index),I.length),0),W=[],J=1;J<M.length;J++)W.push((G=M[J])===void 0?G:String(G));var te=M.groups,ie=N?(ie=[R].concat(W,z,I),te!==void 0&&ie.push(te),String(A.apply(void 0,ie))):function(de,oe,he,le,ee,pe){var _e=he+de.length,De=le.length,xe=b;return ee!==void 0&&(ee=i(ee),xe=g),_.call(pe,xe,function(je,Te){var Ge;switch(Te.charAt(0)){case"$":return"$";case"&":return de;case"`":return oe.slice(0,he);case"'":return oe.slice(_e);case"<":Ge=ee[Te.slice(1,-1)];break;default:var Oe,ae=+Te;if(ae==0)return je;if(De<ae)return(Oe=y(ae/10))!==0&&Oe<=De?le[Oe-1]===void 0?Te.charAt(1):le[Oe-1]+Te.charAt(1):je;Ge=le[ae-1]}return Ge===void 0?"":Ge})}(R,I,z,W,te,A);K<=z&&(Y+=I.slice(K,z)+ie,K=z+R.length)}return Y+I.slice(K)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,a,l){var o=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),i=t("../internals/require-object-coercible"),d=t("../internals/same-value"),p=t("../internals/regexp-exec-abstract");o("search",1,function(m,c,h){return[function(v){var f=i(this),y=v==null?void 0:v[m];return y!==void 0?y.call(v,f):new RegExp(v)[m](String(f))},function(v){var f,y=h(c,v,this);return y.done?y.value:(y=u(v),v=String(this),f=y.lastIndex,d(f,0)||(y.lastIndex=0),v=p(y,v),d(y.lastIndex,f)||(y.lastIndex=f),v===null?-1:v.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(f,a,l){var o=f("../internals/fix-regexp-well-known-symbol-logic"),u=f("../internals/is-regexp"),i=f("../internals/an-object"),d=f("../internals/require-object-coercible"),p=f("../internals/species-constructor"),m=f("../internals/advance-string-index"),c=f("../internals/to-length"),h=f("../internals/regexp-exec-abstract"),v=f("../internals/regexp-exec"),f=f("../internals/fails"),y=[].push,g=Math.min,b=4294967295,x=!f(function(){return!RegExp(b,"y")});o("split",2,function(_,j,S){var D="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(E,T){var F=String(d(this)),A=T===void 0?b:T>>>0;if(A==0)return[];if(E===void 0)return[F];if(!u(E))return j.call(F,E,A);for(var L,O,B,I=[],T=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(E.sticky?"y":""),N=0,H=new RegExp(E.source,T+"g");(L=v.call(H,F))&&!(N<(O=H.lastIndex)&&(I.push(F.slice(N,L.index)),1<L.length&&L.index<F.length&&y.apply(I,L.slice(1)),B=L[0].length,N=O,I.length>=A));)H.lastIndex===L.index&&H.lastIndex++;return N===F.length?!B&&H.test("")||I.push(""):I.push(F.slice(N)),I.length>A?I.slice(0,A):I}:"0".split(void 0,0).length?function(E,T){return E===void 0&&T===0?[]:j.call(this,E,T)}:j;return[function(E,T){var F=d(this),A=E==null?void 0:E[_];return A!==void 0?A.call(E,F,T):D.call(String(F),E,T)},function(L,T){var F=S(D,L,this,T,D!==j);if(F.done)return F.value;var F=i(L),A=String(this),L=p(F,RegExp),O=F.unicode,B=(F.ignoreCase?"i":"")+(F.multiline?"m":"")+(F.unicode?"u":"")+(x?"y":"g"),I=new L(x?F:"^(?:"+F.source+")",B),N=T===void 0?b:T>>>0;if(N==0)return[];if(A.length===0)return h(I,A)===null?[A]:[];for(var H=0,V=0,G=[];V<A.length;){I.lastIndex=x?V:0;var Y,K=h(I,x?A:A.slice(V));if(K===null||(Y=g(c(I.lastIndex+(x?0:V)),A.length))===H)V=m(A,V,O);else{if(G.push(A.slice(H,V)),G.length===N)return G;for(var se=1;se<=K.length-1;se++)if(G.push(K[se]),G.length===N)return G;V=H=Y}}return G.push(A.slice(H)),G}]},!x)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(m,a,l){var o=m("../internals/export"),u=m("../internals/object-get-own-property-descriptor").f,i=m("../internals/to-length"),d=m("../internals/not-a-regexp"),p=m("../internals/require-object-coercible"),v=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),c="".startsWith,h=Math.min,v=v("startsWith");o({target:"String",proto:!0,forced:!!(m||v||!(o=u(String.prototype,"startsWith"))||o.writable)&&!v},{startsWith:function(b){var y=String(p(this)),g=(d(b),i(h(1<arguments.length?arguments[1]:void 0,y.length))),b=String(b);return c?c.call(y,b,g):y.slice(g,g+b.length)===b}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/create-html");o({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return u(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,a,l){var o=t("../internals/export"),u=t("../internals/string-trim").trim;o({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return u(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(g,a,l){var o,u,i,d,p,m=g("../internals/export"),c=g("../internals/descriptors"),h=g("../internals/global"),v=g("../internals/has"),f=g("../internals/is-object"),y=g("../internals/object-define-property").f,g=g("../internals/copy-constructor-properties"),b=h.Symbol;!c||typeof b!="function"||"description"in b.prototype&&b().description===void 0||(o={},g(u=function(){var x=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof u?new b(x):x===void 0?b():b(x);return x===""&&(o[_]=!0),_},b),(h=u.prototype=b.prototype).constructor=u,i=h.toString,d=String(b("test"))=="Symbol(test)",p=/^Symbol\((.*)\)[^)]+$/,y(h,"description",{configurable:!0,get:function(){var x=f(this)?this.valueOf():this,_=i.call(x);return v(o,x)?"":(x=d?_.slice(7,-1):_.replace(p,"$1"))===""?void 0:x}}),m({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,a,l){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(oe,a,l){function o($,ne){var be=Ge[$]=F(pe[de]);return he(be,{type:ie,tag:$,description:ne}),v||(be.description=ne),be}function u($,Ee){j($);var be=D(Ee),Ee=A(be).concat(Q(be));return J(Ee,function(Re){v&&!Z.call(be,Re)||me($,Re,be[Re])}),$}function i(Ee,Re){var be,Ee=D(Ee),Re=E(Re,!0);if(Ee!==ee||!b(Ge,Re)||b(Oe,Re))return!(be=De(Ee,Re))||!b(Ge,Re)||b(Ee,te)&&Ee[te][Re]||(be.enumerable=!0),be}function d(ne){var ne=je(D(ne)),be=[];return J(ne,function(Ee){b(Ge,Ee)||b(K,Ee)||be.push(Ee)}),be}var p=oe("../internals/export"),m=oe("../internals/global"),c=oe("../internals/get-built-in"),h=oe("../internals/is-pure"),v=oe("../internals/descriptors"),f=oe("../internals/native-symbol"),y=oe("../internals/use-symbol-as-uid"),g=oe("../internals/fails"),b=oe("../internals/has"),x=oe("../internals/is-array"),_=oe("../internals/is-object"),j=oe("../internals/an-object"),S=oe("../internals/to-object"),D=oe("../internals/to-indexed-object"),E=oe("../internals/to-primitive"),T=oe("../internals/create-property-descriptor"),F=oe("../internals/object-create"),A=oe("../internals/object-keys"),L=oe("../internals/object-get-own-property-names"),O=oe("../internals/object-get-own-property-names-external"),B=oe("../internals/object-get-own-property-symbols"),I=oe("../internals/object-get-own-property-descriptor"),N=oe("../internals/object-define-property"),H=oe("../internals/object-property-is-enumerable"),V=oe("../internals/create-non-enumerable-property"),G=oe("../internals/redefine"),Y=oe("../internals/shared"),we=oe("../internals/shared-key"),K=oe("../internals/hidden-keys"),se=oe("../internals/uid"),M=oe("../internals/well-known-symbol"),R=oe("../internals/well-known-symbol-wrapped"),z=oe("../internals/define-well-known-symbol"),W=oe("../internals/set-to-string-tag"),Me=oe("../internals/internal-state"),J=oe("../internals/array-iteration").forEach,te=we("hidden"),ie="Symbol",de="prototype",oe=M("toPrimitive"),he=Me.set,le=Me.getterFor(ie),ee=Object[de],pe=m.Symbol,_e=c("JSON","stringify"),De=I.f,xe=N.f,je=O.f,Te=H.f,Ge=Y("symbols"),Oe=Y("op-symbols"),ae=Y("string-to-symbol-registry"),ge=Y("symbol-to-string-registry"),we=Y("wks"),Me=m.QObject,ke=!Me||!Me[de]||!Me[de].findChild,ce=v&&g(function(){return F(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function($,ne,be){var Ee=De(ee,ne);Ee&&delete ee[ne],xe($,ne,be),Ee&&$!==ee&&xe(ee,ne,Ee)}:xe,Ce=y?function($){return typeof $=="symbol"}:function($){return Object($)instanceof pe},me=function($,ne,be){return $===ee&&me(Oe,ne,be),j($),ne=E(ne,!0),j(be),(b(Ge,ne)?(be.enumerable?(b($,te)&&$[te][ne]&&($[te][ne]=!1),be=F(be,{enumerable:T(0,!1)})):(b($,te)||xe($,te,T(1,{})),$[te][ne]=!0),ce):xe)($,ne,be)},Z=function(ne){var ne=E(ne,!0),be=Te.call(this,ne);return!(this===ee&&b(Ge,ne)&&!b(Oe,ne))&&(!(be||!b(this,ne)||!b(Ge,ne)||b(this,te)&&this[te][ne])||be)},Q=function(be){var ne=be===ee,be=je(ne?Oe:D(be)),Ee=[];return J(be,function(Re){!b(Ge,Re)||ne&&!b(ee,Re)||Ee.push(Ge[Re])}),Ee};f||(G((pe=function(){if(this instanceof pe)throw TypeError("Symbol is not a constructor");var $=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ne=se($),be=function(Ee){this===ee&&be.call(Oe,Ee),b(this,te)&&b(this[te],ne)&&(this[te][ne]=!1),ce(this,ne,T(1,Ee))};return v&&ke&&ce(ee,ne,{configurable:!0,set:be}),o(ne,$)})[de],"toString",function(){return le(this).tag}),G(pe,"withoutSetter",function($){return o(se($),$)}),H.f=Z,N.f=me,I.f=i,L.f=O.f=d,B.f=Q,R.f=function($){return o(M($),$)},v&&(xe(pe[de],"description",{configurable:!0,get:function(){return le(this).description}}),h||G(ee,"propertyIsEnumerable",Z,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:pe}),J(A(we),function($){z($)}),p({target:ie,stat:!0,forced:!f},{for:function(be){var ne,be=String(be);return b(ae,be)?ae[be]:(ne=pe(be),ae[be]=ne,ge[ne]=be,ne)},keyFor:function($){if(!Ce($))throw TypeError($+" is not a symbol");if(b(ge,$))return ge[$]},useSetter:function(){ke=!0},useSimple:function(){ke=!1}}),p({target:"Object",stat:!0,forced:!f,sham:!v},{create:function($,ne){return ne===void 0?F($):u(F($),ne)},defineProperty:me,defineProperties:u,getOwnPropertyDescriptor:i}),p({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:d,getOwnPropertySymbols:Q}),p({target:"Object",stat:!0,forced:g(function(){B.f(1)})},{getOwnPropertySymbols:function($){return B.f(S($))}}),_e&&p({target:"JSON",stat:!0,forced:!f||g(function(){var $=pe();return _e([$])!="[null]"||_e({a:$})!="{}"||_e(Object($))!="{}"})},{stringify:function($,ne,be){for(var Ee,Re=[$],Ve=1;Ve<arguments.length;)Re.push(arguments[Ve++]);if((_(Ee=ne)||$!==void 0)&&!Ce($))return x(ne)||(ne=function(Xe,Ye){if(typeof Ee=="function"&&(Ye=Ee.call(this,Xe,Ye)),!Ce(Ye))return Ye}),Re[1]=ne,_e.apply(null,Re)}}),pe[de][oe]||V(pe[de],oe,pe[de].valueOf),W(pe,ie),K[te]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-copy-within"),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",function(d,p){return u.call(i(this),d,p,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").every,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",function(d){return u(i(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-fill"),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("fill",function(d){return u.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").filter,i=t("../internals/species-constructor"),d=o.aTypedArray,p=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("filter",function(m){for(var c=u(d(this),m,1<arguments.length?arguments[1]:void 0),m=i(this,this.constructor),h=0,v=c.length,f=new(p(m))(v);h<v;)f[h]=c[h++];return f})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").findIndex,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",function(d){return u(i(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").find,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",function(d){return u(i(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,a,l){t("../internals/typed-array-constructor")("Float32",function(o){return function(u,i,d){return o(this,u,i,d)}})},{"../internals/typed-array-constructor":144}],220:[function(t,a,l){t("../internals/typed-array-constructor")("Float64",function(o){return function(u,i,d){return o(this,u,i,d)}})},{"../internals/typed-array-constructor":144}],221:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").forEach,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",function(d){u(i(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").includes,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",function(d){return u(i(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").indexOf,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",function(d){return u(i(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,a,l){t("../internals/typed-array-constructor")("Int16",function(o){return function(u,i,d){return o(this,u,i,d)}})},{"../internals/typed-array-constructor":144}],225:[function(t,a,l){t("../internals/typed-array-constructor")("Int32",function(o){return function(u,i,d){return o(this,u,i,d)}})},{"../internals/typed-array-constructor":144}],226:[function(u,a,l){function o(){return i.call(m(this))}var v=u("../internals/global"),h=u("../internals/array-buffer-view-core"),c=u("../modules/es.array.iterator"),u=u("../internals/well-known-symbol")("iterator"),v=v.Uint8Array,i=c.values,d=c.keys,p=c.entries,m=h.aTypedArray,c=h.exportTypedArrayMethod,h=v&&v.prototype[u],v=!!h&&(h.name=="values"||h.name==null);c("entries",function(){return p.call(m(this))}),c("keys",function(){return d.call(m(this))}),c("values",o,!v),c(u,o,!v)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(u,a,l){var u=u("../internals/array-buffer-view-core"),o=u.aTypedArray,u=u.exportTypedArrayMethod,i=[].join;u("join",function(d){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-last-index-of"),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",function(d){return u.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").map,i=t("../internals/species-constructor"),d=o.aTypedArray,p=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",function(m){return u(d(this),m,1<arguments.length?arguments[1]:void 0,function(c,h){return new(p(i(c,c.constructor)))(h)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").right,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",function(d){return u(i(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").left,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",function(d){return u(i(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(u,a,l){var u=u("../internals/array-buffer-view-core"),o=u.aTypedArray,u=u.exportTypedArrayMethod,i=Math.floor;u("reverse",function(){for(var d,p=o(this).length,m=i(p/2),c=0;c<m;)d=this[c],this[c++]=this[--p],this[p]=d;return this})},{"../internals/array-buffer-view-core":12}],233:[function(p,a,l){var o=p("../internals/array-buffer-view-core"),u=p("../internals/to-length"),i=p("../internals/to-offset"),d=p("../internals/to-object"),p=p("../internals/fails"),m=o.aTypedArray;(0,o.exportTypedArrayMethod)("set",function(c){m(this);var h=i(1<arguments.length?arguments[1]:void 0,1),v=this.length,f=d(c),y=u(f.length),g=0;if(v<y+h)throw RangeError("Wrong length");for(;g<y;)this[h+g]=f[g++]},p(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(u,a,l){var p=u("../internals/array-buffer-view-core"),o=u("../internals/species-constructor"),u=u("../internals/fails"),i=p.aTypedArray,d=p.aTypedArrayConstructor,p=p.exportTypedArrayMethod,m=[].slice;p("slice",function(c,h){for(var v=m.call(i(this),c,h),c=o(this,this.constructor),f=0,y=v.length,g=new(d(c))(y);f<y;)g[f]=v[f++];return g},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").some,i=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",function(d){return u(i(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(u,a,l){var u=u("../internals/array-buffer-view-core"),o=u.aTypedArray,u=u.exportTypedArrayMethod,i=[].sort;u("sort",function(d){return i.call(o(this),d)})},{"../internals/array-buffer-view-core":12}],237:[function(t,a,l){var o=t("../internals/array-buffer-view-core"),u=t("../internals/to-length"),i=t("../internals/to-absolute-index"),d=t("../internals/species-constructor"),p=o.aTypedArray;(0,o.exportTypedArrayMethod)("subarray",function(f,c){var h=p(this),v=h.length,f=i(f,v);return new(d(h,h.constructor))(h.buffer,h.byteOffset+f*h.BYTES_PER_ELEMENT,u((c===void 0?v:i(c,v))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(u,a,l){var p=u("../internals/global"),o=u("../internals/array-buffer-view-core"),u=u("../internals/fails"),i=p.Int8Array,d=o.aTypedArray,p=o.exportTypedArrayMethod,m=[].toLocaleString,c=[].slice,h=!!i&&u(function(){m.call(new i(1))});p("toLocaleString",function(){return m.apply(h?c.call(d(this)):d(this),arguments)},u(function(){return[1,2].toLocaleString()!=new i([1,2]).toLocaleString()})||!u(function(){i.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(u,a,l){var o=u("../internals/array-buffer-view-core").exportTypedArrayMethod,p=u("../internals/fails"),u=u("../internals/global").Uint8Array,u=u&&u.prototype||{},i=[].toString,d=[].join,p=(p(function(){i.call({})})&&(i=function(){return d.call(this)}),u.toString!=i);o("toString",i,p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,a,l){t("../internals/typed-array-constructor")("Uint16",function(o){return function(u,i,d){return o(this,u,i,d)}})},{"../internals/typed-array-constructor":144}],241:[function(t,a,l){t("../internals/typed-array-constructor")("Uint32",function(o){return function(u,i,d){return o(this,u,i,d)}})},{"../internals/typed-array-constructor":144}],242:[function(t,a,l){t("../internals/typed-array-constructor")("Uint8",function(o){return function(u,i,d){return o(this,u,i,d)}})},{"../internals/typed-array-constructor":144}],243:[function(t,a,l){t("../internals/typed-array-constructor")("Uint8",function(o){return function(u,i,d){return o(this,u,i,d)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(b,j,l){function o(S){return function(){return S(this,arguments.length?arguments[0]:void 0)}}var u,i,d,p,m,x=b("../internals/global"),c=b("../internals/redefine-all"),h=b("../internals/internal-metadata"),v=b("../internals/collection"),f=b("../internals/collection-weak"),y=b("../internals/is-object"),g=b("../internals/internal-state").enforce,b=b("../internals/native-weak-map"),x=!x.ActiveXObject&&"ActiveXObject"in x,_=Object.isExtensible,j=j.exports=v("WeakMap",o,f);b&&x&&(u=f.getConstructor(o,"WeakMap",!0),h.REQUIRED=!0,v=j.prototype,i=v.delete,d=v.has,p=v.get,m=v.set,c(v,{delete:function(S){var D;return y(S)&&!_(S)?((D=g(this)).frozen||(D.frozen=new u),i.call(this,S)||D.frozen.delete(S)):i.call(this,S)},has:function(S){var D;return y(S)&&!_(S)?((D=g(this)).frozen||(D.frozen=new u),d.call(this,S)||D.frozen.has(S)):d.call(this,S)},get:function(S){var D;return!y(S)||_(S)||((D=g(this)).frozen||(D.frozen=new u),d.call(this,S))?p.call(this,S):D.frozen.get(S)},set:function(S,D){var E;return!y(S)||_(S)||((E=g(this)).frozen||(E.frozen=new u),d.call(this,S))?m.call(this,S,D):E.frozen.set(S,D),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,a,l){var o,u=t("../internals/global"),i=t("../internals/dom-iterables"),d=t("../internals/array-for-each"),p=t("../internals/create-non-enumerable-property");for(o in i){var m=u[o],m=m&&m.prototype;if(m&&m.forEach!==d)try{p(m,"forEach",d)}catch{m.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(m,a,l){var o,u=m("../internals/global"),i=m("../internals/dom-iterables"),d=m("../modules/es.array.iterator"),p=m("../internals/create-non-enumerable-property"),m=m("../internals/well-known-symbol"),c=m("iterator"),h=m("toStringTag"),v=d.values;for(o in i){var f=u[o],y=f&&f.prototype;if(y){if(y[c]!==v)try{p(y,c,v)}catch{y[c]=v}if(y[h]||p(y,h,o),i[o]){for(var g in d)if(y[g]!==d[g])try{p(y,g,d[g])}catch{y[g]=d[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(te,a,l){te("../modules/es.array.iterator");function o(ie){try{return decodeURIComponent(ie)}catch{return ie}}function u(ie){return z[ie]}function i(ie){return encodeURIComponent(ie).replace(R,u)}function d(ie){this.entries.length=0,W(this.entries,ie)}function p(ie,de){if(ie<de)throw TypeError("Not enough arguments")}function m(){x(this,m,N);var ie,de,oe,he,le,ee,pe,_e,De=0<arguments.length?arguments[0]:void 0,xe=[];if(V(this,{type:N,entries:xe,updateURL:function(){},updateSearchParams:d}),De!==void 0)if(E(De))if(typeof(ie=L(De))=="function")for(oe=(de=ie.call(De)).next;!(he=oe.call(de)).done;){if((ee=(le=(he=A(D(he.value))).next).call(he)).done||(pe=le.call(he)).done||!le.call(he).done)throw TypeError("Expected sequence with length 2");xe.push({key:ee.value+"",value:pe.value+""})}else for(_e in De)_(De,_e)&&xe.push({key:_e,value:De[_e]+""});else W(xe,typeof De=="string"?De.charAt(0)==="?"?De.slice(1):De:De+"")}var c=te("../internals/export"),I=te("../internals/get-built-in"),h=te("../internals/native-url"),v=te("../internals/redefine"),f=te("../internals/redefine-all"),y=te("../internals/set-to-string-tag"),g=te("../internals/create-iterator-constructor"),b=te("../internals/internal-state"),x=te("../internals/an-instance"),_=te("../internals/has"),j=te("../internals/function-bind-context"),S=te("../internals/classof"),D=te("../internals/an-object"),E=te("../internals/is-object"),T=te("../internals/object-create"),F=te("../internals/create-property-descriptor"),A=te("../internals/get-iterator"),L=te("../internals/get-iterator-method"),te=te("../internals/well-known-symbol"),O=I("fetch"),B=I("Headers"),I=te("iterator"),N="URLSearchParams",H=N+"Iterator",V=b.set,G=b.getterFor(N),Y=b.getterFor(H),K=/\+/g,se=Array(4),M=function(ie){var de,oe=ie.replace(K," "),he=4;try{return decodeURIComponent(oe)}catch{for(;he;)oe=oe.replace((de=he--,se[de-1]||(se[de-1]=RegExp("((?:%[\\da-f]{2}){"+de+"})","gi"))),o);return oe}},R=/[!'()~]|%20/g,z={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},W=function(ie,de){if(de)for(var oe,he=de.split("&"),le=0;le<he.length;)(oe=he[le++]).length&&(oe=oe.split("="),ie.push({key:M(oe.shift()),value:M(oe.join("="))}))},J=g(function(ie,de){V(this,{type:H,iterator:A(G(ie).entries),kind:de})},"Iterator",function(){var de=Y(this),ie=de.kind,de=de.iterator.next(),oe=de.value;return de.done||(de.value=ie==="keys"?oe.key:ie==="values"?oe.value:[oe.key,oe.value]),de}),te=m.prototype;f(te,{append:function(ie,de){p(arguments.length,2);var oe=G(this);oe.entries.push({key:ie+"",value:de+""}),oe.updateURL()},delete:function(ie){p(arguments.length,1);for(var de=G(this),oe=de.entries,he=ie+"",le=0;le<oe.length;)oe[le].key===he?oe.splice(le,1):le++;de.updateURL()},get:function(ie){p(arguments.length,1);for(var de=G(this).entries,oe=ie+"",he=0;he<de.length;he++)if(de[he].key===oe)return de[he].value;return null},getAll:function(ie){p(arguments.length,1);for(var de=G(this).entries,oe=ie+"",he=[],le=0;le<de.length;le++)de[le].key===oe&&he.push(de[le].value);return he},has:function(ie){p(arguments.length,1);for(var de=G(this).entries,oe=ie+"",he=0;he<de.length;)if(de[he++].key===oe)return!0;return!1},set:function(ie,de){p(arguments.length,1);for(var oe,he=G(this),le=he.entries,ee=!1,pe=ie+"",_e=de+"",De=0;De<le.length;De++)(oe=le[De]).key===pe&&(ee?le.splice(De--,1):(ee=!0,oe.value=_e));ee||le.push({key:pe,value:_e}),he.updateURL()},sort:function(){for(var ie,de,oe=G(this),he=oe.entries,le=he.slice(),ee=he.length=0;ee<le.length;ee++){for(ie=le[ee],de=0;de<ee;de++)if(he[de].key>ie.key){he.splice(de,0,ie);break}de===ee&&he.push(ie)}oe.updateURL()},forEach:function(ie){for(var de,oe=G(this).entries,he=j(ie,1<arguments.length?arguments[1]:void 0,3),le=0;le<oe.length;)he((de=oe[le++]).value,de.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),v(te,I,te.entries),v(te,"toString",function(){for(var ie,de=G(this).entries,oe=[],he=0;he<de.length;)ie=de[he++],oe.push(i(ie.key)+"="+i(ie.value));return oe.join("&")},{enumerable:!0}),y(m,N),c({global:!0,forced:!h},{URLSearchParams:m}),h||typeof O!="function"||typeof B!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(le){var de,oe,he,le=[le];return 1<arguments.length&&(E(de=arguments[1])&&(oe=de.body,S(oe)===N&&((he=de.headers?new B(de.headers):new B).has("content-type")||he.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),de=T(de,{body:F(0,String(oe)),headers:F(0,he)}))),le.push(de)),O.apply(this,le)}}),a.exports={URLSearchParams:m,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(A,a,l){A("../modules/es.string.iterator");function o(ve){var qe,Je,He,bt;if(typeof ve=="number"){for(qe=[],Je=0;Je<4;Je++)qe.unshift(ve%256),ve=H(ve/256);return qe.join(".")}if(typeof ve!="object")return ve;for(qe="",He=pe(ve),Je=0;Je<8;Je++)bt&&ve[Je]===0||(bt=bt&&!1,He===Je?(qe+=Je?":":"::",bt=!0):(qe+=ve[Je].toString(16),Je<7&&(qe+=":")));return"["+qe+"]"}function u(ve){return!ve.host||ve.cannotBeABaseURL||ve.scheme=="file"}function i(ve,qe,Je,He){var bt,ze,jt,Ze=Je||Ce,rt=0,$e="",qt=!1,zt=!1,At=!1;for(Je||(ve.scheme="",ve.username="",ve.password="",ve.host=null,ve.port=null,ve.path=[],ve.query=null,ve.fragment=null,ve.cannotBeABaseURL=!1,qe=qe.replace(he,"")),qe=qe.replace(le,""),bt=S(qe);rt<=bt.length;){switch(ze=bt[rt],Ze){case Ce:if(!ze||!M.test(ze)){if(Je)return Y;Ze=Z;continue}$e+=ze.toLowerCase(),Ze=me;break;case me:if(ze&&(R.test(ze)||ze=="+"||ze=="-"||ze=="."))$e+=ze.toLowerCase();else{if(ze!=":"){if(Je)return Y;$e="",Ze=Z,rt=0;continue}if(Je&&(Oe(ve)!=_(Ge,$e)||$e=="file"&&(ae(ve)||ve.port!==null)||ve.scheme=="file"&&!ve.host))return;if(ve.scheme=$e,Je)return void(Oe(ve)&&Ge[ve.scheme]==ve.port&&(ve.port=null));$e="",ve.scheme=="file"?Ze=ft:Oe(ve)&&He&&He.scheme==ve.scheme?Ze=Q:Oe(ve)?Ze=Ee:bt[rt+1]=="/"?(Ze=$,rt++):(ve.cannotBeABaseURL=!0,ve.path.push(""),Ze=Mt)}break;case Z:if(!He||He.cannotBeABaseURL&&ze!="#")return Y;if(He.cannotBeABaseURL&&ze=="#"){ve.scheme=He.scheme,ve.path=He.path.slice(),ve.query=He.query,ve.fragment="",ve.cannotBeABaseURL=!0,Ze=Yt;break}Ze=He.scheme=="file"?ft:ne;continue;case Q:if(ze!="/"||bt[rt+1]!="/"){Ze=ne;continue}Ze=Re,rt++;break;case $:if(ze=="/"){Ze=Ve;break}Ze=at;continue;case ne:if(ve.scheme=He.scheme,ze==m)ve.username=He.username,ve.password=He.password,ve.host=He.host,ve.port=He.port,ve.path=He.path.slice(),ve.query=He.query;else if(ze=="/"||ze=="\\"&&Oe(ve))Ze=be;else if(ze=="?")ve.username=He.username,ve.password=He.password,ve.host=He.host,ve.port=He.port,ve.path=He.path.slice(),ve.query="",Ze=ur;else{if(ze!="#"){ve.username=He.username,ve.password=He.password,ve.host=He.host,ve.port=He.port,ve.path=He.path.slice(),ve.path.pop(),Ze=at;continue}ve.username=He.username,ve.password=He.password,ve.host=He.host,ve.port=He.port,ve.path=He.path.slice(),ve.query=He.query,ve.fragment="",Ze=Yt}break;case be:if(!Oe(ve)||ze!="/"&&ze!="\\"){if(ze!="/"){ve.username=He.username,ve.password=He.password,ve.host=He.host,ve.port=He.port,Ze=at;continue}Ze=Ve}else Ze=Re;break;case Ee:if(Ze=Re,ze!="/"||$e.charAt(rt+1)!="/")continue;rt++;break;case Re:if(ze=="/"||ze=="\\")break;Ze=Ve;continue;case Ve:if(ze=="@"){qt&&($e="%40"+$e);for(var qt=!0,tr=S($e),Zr=0;Zr<tr.length;Zr++){var Fr=tr[Zr];Fr!=":"||At?(Fr=Te(Fr,je),At?ve.password+=Fr:ve.username+=Fr):At=!0}$e=""}else if(ze==m||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&Oe(ve)){if(qt&&$e=="")return G;rt-=S($e).length+1,$e="",Ze=Xe}else $e+=ze;break;case Xe:case Ye:if(Je&&ve.scheme=="file"){Ze=tt;continue}if(ze!=":"||zt){if(ze==m||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&Oe(ve)){if(Oe(ve)&&$e=="")return K;if(Je&&$e==""&&(ae(ve)||ve.port!==null))return;if(jt=ee(ve,$e))return jt;if($e="",Ze=dt,Je)return;continue}ze=="["?zt=!0:ze=="]"&&(zt=!1),$e+=ze}else{if($e=="")return K;if(jt=ee(ve,$e))return jt;if($e="",Ze=Ke,Je==Ye)return}break;case Ke:if(!z.test(ze)){if(ze==m||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&Oe(ve)||Je){if($e!=""){var Kr=parseInt($e,10);if(65535<Kr)return se;ve.port=Oe(ve)&&Kr===Ge[ve.scheme]?null:Kr,$e=""}if(Je)return;Ze=dt;continue}return se}$e+=ze;break;case ft:if(ve.scheme="file",ze=="/"||ze=="\\")Ze=ct;else{if(!He||He.scheme!="file"){Ze=at;continue}if(ze==m)ve.host=He.host,ve.path=He.path.slice(),ve.query=He.query;else if(ze=="?")ve.host=He.host,ve.path=He.path.slice(),ve.query="",Ze=ur;else{if(ze!="#"){we(bt.slice(rt).join(""))||(ve.host=He.host,ve.path=He.path.slice(),Me(ve)),Ze=at;continue}ve.host=He.host,ve.path=He.path.slice(),ve.query=He.query,ve.fragment="",Ze=Yt}}break;case ct:if(ze=="/"||ze=="\\"){Ze=tt;break}He&&He.scheme=="file"&&!we(bt.slice(rt).join(""))&&(ge(He.path[0],!0)?ve.path.push(He.path[0]):ve.host=He.host),Ze=at;continue;case tt:if(ze==m||ze=="/"||ze=="\\"||ze=="?"||ze=="#"){if(!Je&&ge($e))Ze=at;else{if($e==""){if(ve.host="",Je)return}else{if(jt=ee(ve,$e))return jt;if(ve.host=="localhost"&&(ve.host=""),Je)return;$e=""}Ze=dt}continue}$e+=ze;break;case dt:if(Oe(ve)){if(Ze=at,ze!="/"&&ze!="\\")continue}else if(Je||ze!="?")if(Je||ze!="#"){if(ze!=m&&(Ze=at,ze!="/"))continue}else ve.fragment="",Ze=Yt;else ve.query="",Ze=ur;break;case at:if(ze==m||ze=="/"||ze=="\\"&&Oe(ve)||!Je&&(ze=="?"||ze=="#")){if(ce($e)?(Me(ve),ze=="/"||ze=="\\"&&Oe(ve)||ve.path.push("")):ke($e)?ze=="/"||ze=="\\"&&Oe(ve)||ve.path.push(""):(ve.scheme=="file"&&!ve.path.length&&ge($e)&&(ve.host&&(ve.host=""),$e=$e.charAt(0)+":"),ve.path.push($e)),$e="",ve.scheme=="file"&&(ze==m||ze=="?"||ze=="#"))for(;1<ve.path.length&&ve.path[0]==="";)ve.path.shift();ze=="?"?(ve.query="",Ze=ur):ze=="#"&&(ve.fragment="",Ze=Yt)}else $e+=Te(ze,xe);break;case Mt:ze=="?"?(ve.query="",Ze=ur):ze=="#"?(ve.fragment="",Ze=Yt):ze!=m&&(ve.path[0]+=Te(ze,_e));break;case ur:Je||ze!="#"?ze!=m&&(ze=="'"&&Oe(ve)?ve.query+="%27":ve.query+=ze=="#"?"%23":Te(ze,_e)):(ve.fragment="",Ze=Yt);break;case Yt:ze!=m&&(ve.fragment+=Te(ze,De))}rt++}}function d(ze){var qe,Je,He=x(this,d,"URL"),bt=1<arguments.length?arguments[1]:void 0,ze=String(ze),jt=I(He,{type:"URL"});if(bt!==void 0){if(bt instanceof d)qe=N(bt);else if(Je=i(qe={},String(bt)))throw TypeError(Je)}if(Je=i(jt,ze,null,qe))throw TypeError(Je);var Ze=jt.searchParams=new O;(bt=B(Ze)).updateSearchParams(jt.query),bt.updateURL=function(){jt.query=String(Ze)||null},f||(He.href=Tt.call(He),He.origin=wt.call(He),He.protocol=sr.call(He),He.username=er.call(He),He.password=Dt.call(He),He.host=or.call(He),He.hostname=Ln.call(He),He.port=Rn.call(He),He.pathname=In.call(He),He.search=ts.call(He),He.searchParams=Bn.call(He),He.hash=Nn.call(He))}function p(ve,qe){return{get:ve,set:qe,configurable:!0,enumerable:!0}}var m,c,h,v=A("../internals/export"),f=A("../internals/descriptors"),y=A("../internals/native-url"),St=A("../internals/global"),g=A("../internals/object-define-properties"),b=A("../internals/redefine"),x=A("../internals/an-instance"),_=A("../internals/has"),j=A("../internals/object-assign"),S=A("../internals/array-from"),D=A("../internals/string-multibyte").codeAt,E=A("../internals/string-punycode-to-ascii"),T=A("../internals/set-to-string-tag"),F=A("../modules/web.url-search-params"),A=A("../internals/internal-state"),L=St.URL,O=F.URLSearchParams,B=F.getState,I=A.set,N=A.getterFor("URL"),H=Math.floor,V=Math.pow,G="Invalid authority",Y="Invalid scheme",K="Invalid host",se="Invalid port",M=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,z=/\d/,W=/^(0x|0X)/,J=/^[0-7]+$/,te=/^\d+$/,ie=/^[\dA-Fa-f]+$/,de=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,he=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,le=/[\u0009\u000A\u000D]/g,ee=function(ve,qe){var Je,He,bt;if(qe.charAt(0)=="[")return qe.charAt(qe.length-1)=="]"&&(Je=function(ze){var jt=[0,0,0,0,0,0,0,0],Ze=0,rt=null,$e=0,qt,zt,At,tr,Zr,Fr,Kr,cr=function(){return ze.charAt($e)};if(cr()==":"){if(ze.charAt(1)!=":")return;$e+=2,Ze++,rt=Ze}for(;cr();){if(Ze==8)return;if(cr()==":"){if(rt!==null)return;$e++,Ze++,rt=Ze;continue}for(qt=zt=0;zt<4&&ie.test(cr());)qt=qt*16+parseInt(cr(),16),$e++,zt++;if(cr()=="."){if(zt==0||($e-=zt,Ze>6))return;for(At=0;cr();){if(tr=null,At>0)if(cr()=="."&&At<4)$e++;else return;if(!z.test(cr()))return;for(;z.test(cr());){if(Zr=parseInt(cr(),10),tr===null)tr=Zr;else{if(tr==0)return;tr=tr*10+Zr}if(tr>255)return;$e++}jt[Ze]=jt[Ze]*256+tr,At++,(At==2||At==4)&&Ze++}if(At!=4)return;break}else if(cr()==":"){if($e++,!cr())return}else if(cr())return;jt[Ze++]=qt}if(rt!==null)for(Fr=Ze-rt,Ze=7;Ze!=0&&Fr>0;)Kr=jt[Ze],jt[Ze--]=jt[rt+Fr-1],jt[rt+--Fr]=Kr;else if(Ze!=8)return;return jt}(qe.slice(1,-1)))?void(ve.host=Je):K;if(Oe(ve))return qe=E(qe),de.test(qe)||(Je=function(ze){var jt=ze.split("."),Ze,rt,$e,qt,zt,At,tr;if(jt.length&&jt[jt.length-1]==""&&jt.pop(),(Ze=jt.length)>4)return ze;for(rt=[],$e=0;$e<Ze;$e++){if(qt=jt[$e],qt=="")return ze;if(zt=10,qt.length>1&&qt.charAt(0)=="0"&&(zt=W.test(qt)?16:8,qt=qt.slice(zt==8?1:2)),qt==="")At=0;else{if(!(zt==10?te:zt==8?J:ie).test(qt))return ze;At=parseInt(qt,zt)}rt.push(At)}for($e=0;$e<Ze;$e++)if(At=rt[$e],$e==Ze-1){if(At>=V(256,5-Ze))return null}else if(At>255)return null;for(tr=rt.pop(),$e=0;$e<rt.length;$e++)tr+=rt[$e]*V(256,3-$e);return tr}(qe))===null?K:void(ve.host=Je);if(oe.test(qe))return K;for(Je="",He=S(qe),bt=0;bt<He.length;bt++)Je+=Te(He[bt],_e);ve.host=Je},pe=function(ve){for(var qe=null,Je=1,He=null,bt=0,ze=0;ze<8;ze++)ve[ze]!==0?(Je<bt&&(qe=He,Je=bt),He=null,bt=0):(He===null&&(He=ze),++bt);return Je<bt&&(qe=He,Je=bt),qe},_e={},De=j({},_e,{" ":1,'"':1,"<":1,">":1,"`":1}),xe=j({},De,{"#":1,"?":1,"{":1,"}":1}),je=j({},xe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Te=function(ve,qe){var Je=D(ve,0);return 32<Je&&Je<127&&!_(qe,ve)?ve:encodeURIComponent(ve)},Ge={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Oe=function(ve){return _(Ge,ve.scheme)},ae=function(ve){return ve.username!=""||ve.password!=""},ge=function(ve,qe){return ve.length==2&&M.test(ve.charAt(0))&&((ve=ve.charAt(1))==":"||!qe&&ve=="|")},we=function(ve){return 1<ve.length&&ge(ve.slice(0,2))&&(ve.length==2||(ve=ve.charAt(2))==="/"||ve==="\\"||ve==="?"||ve==="#")},Me=function(ve){var qe=ve.path,Je=qe.length;!Je||ve.scheme=="file"&&Je==1&&ge(qe[0],!0)||qe.pop()},ke=function(ve){return ve==="."||ve.toLowerCase()==="%2e"},ce=function(ve){return(ve=ve.toLowerCase())===".."||ve==="%2e."||ve===".%2e"||ve==="%2e%2e"},Ce={},me={},Z={},Q={},$={},ne={},be={},Ee={},Re={},Ve={},Xe={},Ye={},Ke={},ft={},ct={},tt={},dt={},at={},Mt={},ur={},Yt={},St=d.prototype,Tt=function(){var ve=N(this),qe=ve.scheme,Je=ve.username,He=ve.password,bt=ve.host,ze=ve.port,jt=ve.path,Ze=ve.query,rt=ve.fragment,$e=qe+":";return bt!==null?($e+="//",ae(ve)&&($e+=Je+(He?":"+He:"")+"@"),$e+=o(bt),ze!==null&&($e+=":"+ze)):qe=="file"&&($e+="//"),$e+=ve.cannotBeABaseURL?jt[0]:jt.length?"/"+jt.join("/"):"",Ze!==null&&($e+="?"+Ze),rt!==null&&($e+="#"+rt),$e},wt=function(){var ve=N(this),qe=ve.scheme,Je=ve.port;if(qe=="blob")try{return new URL(qe.path[0]).origin}catch{return"null"}return qe!="file"&&Oe(ve)?qe+"://"+o(ve.host)+(Je!==null?":"+Je:""):"null"},sr=function(){return N(this).scheme+":"},er=function(){return N(this).username},Dt=function(){return N(this).password},or=function(){var qe=N(this),ve=qe.host,qe=qe.port;return ve===null?"":qe===null?o(ve):o(ve)+":"+qe},Ln=function(){var ve=N(this).host;return ve===null?"":o(ve)},Rn=function(){var ve=N(this).port;return ve===null?"":String(ve)},In=function(){var ve=N(this),qe=ve.path;return ve.cannotBeABaseURL?qe[0]:qe.length?"/"+qe.join("/"):""},ts=function(){var ve=N(this).query;return ve?"?"+ve:""},Bn=function(){return N(this).searchParams},Nn=function(){var ve=N(this).fragment;return ve?"#"+ve:""};f&&g(St,{href:p(Tt,function(Je){var qe=N(this),Je=String(Je),Je=i(qe,Je);if(Je)throw TypeError(Je);B(qe.searchParams).updateSearchParams(qe.query)}),origin:p(wt),protocol:p(sr,function(ve){var qe=N(this);i(qe,String(ve)+":",Ce)}),username:p(er,function(ve){var qe=N(this),Je=S(String(ve));if(!u(qe)){qe.username="";for(var He=0;He<Je.length;He++)qe.username+=Te(Je[He],je)}}),password:p(Dt,function(ve){var qe=N(this),Je=S(String(ve));if(!u(qe)){qe.password="";for(var He=0;He<Je.length;He++)qe.password+=Te(Je[He],je)}}),host:p(or,function(ve){var qe=N(this);qe.cannotBeABaseURL||i(qe,String(ve),Xe)}),hostname:p(Ln,function(ve){var qe=N(this);qe.cannotBeABaseURL||i(qe,String(ve),Ye)}),port:p(Rn,function(ve){var qe=N(this);u(qe)||((ve=String(ve))==""?qe.port=null:i(qe,ve,Ke))}),pathname:p(In,function(ve){var qe=N(this);qe.cannotBeABaseURL||(qe.path=[],i(qe,ve+"",dt))}),search:p(ts,function(ve){var qe=N(this);(ve=String(ve))==""?qe.query=null:(ve.charAt(0)=="?"&&(ve=ve.slice(1)),qe.query="",i(qe,ve,ur)),B(qe.searchParams).updateSearchParams(qe.query)}),searchParams:p(Bn),hash:p(Nn,function(ve){var qe=N(this);(ve=String(ve))==""?qe.fragment=null:(ve.charAt(0)=="#"&&(ve=ve.slice(1)),qe.fragment="",i(qe,ve,Yt))})}),b(St,"toJSON",function(){return Tt.call(this)},{enumerable:!0}),b(St,"toString",function(){return Tt.call(this)},{enumerable:!0}),L&&(c=L.createObjectURL,h=L.revokeObjectURL,c&&b(d,"createObjectURL",function(ve){return c.apply(L,arguments)}),h&&b(d,"revokeObjectURL",function(ve){return h.apply(L,arguments)})),T(d,"URL"),v({global:!0,forced:!y,sham:!f},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,a,l){a.exports=t("./").polyfill()},{"./":250}],250:[function(t,a,l){(function(o,u){var i,d;i=this,d=function(){function p(ee){return typeof ee=="function"}var m=Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"},c=0,h=void 0,v=void 0,f=function(ee,pe){j[c]=ee,j[c+1]=pe,(c+=2)===2&&(v?v(S):O())},y=typeof window<"u"?window:void 0,g=y||{},g=g.MutationObserver||g.WebKitMutationObserver,b=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",x=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){var ee=setTimeout;return function(){return ee(S,1)}}var j=new Array(1e3);function S(){for(var ee=0;ee<c;ee+=2)(0,j[ee])(j[ee+1]),j[ee]=void 0,j[ee+1]=void 0;c=0}function D(){try{var ee=Function("return this")().require("vertx");return(h=ee.runOnLoop||ee.runOnContext)!==void 0?function(){h(S)}:_()}catch{return _()}}var E,T,F,O=void 0;function A(ee,pe){var _e,De=this,xe=new this.constructor(I),je=(xe[B]===void 0&&ie(xe),De._state);return je?(_e=arguments[je-1],f(function(){return J(je,xe,_e,De._result)})):z(De,xe,ee,pe),xe}function L(ee){var pe;return ee&&typeof ee=="object"&&ee.constructor===this?ee:(K(pe=new this(I),ee),pe)}var O=b?function(){return o.nextTick(S)}:g?(T=0,b=new g(S),F=document.createTextNode(""),b.observe(F,{characterData:!0}),function(){F.data=T=++T%2}):x?((E=new MessageChannel).port1.onmessage=S,function(){return E.port2.postMessage(0)}):(y===void 0&&typeof t=="function"?D:_)(),B=Math.random().toString(36).substring(2);function I(){}var N=void 0,H=1,V=2;function G(ee,pe,_e){f(function(De){var xe=!1,je=function(Te,Ge,Oe,ae){try{Te.call(Ge,Oe,ae)}catch(ge){return ge}}(_e,pe,function(Te){xe||(xe=!0,(pe!==Te?K:M)(De,Te))},function(Te){xe||(xe=!0,R(De,Te))},De._label);!xe&&je&&(xe=!0,R(De,je))},ee)}function Y(ee,pe,_e){var De,xe;pe.constructor===ee.constructor&&_e===A&&pe.constructor.resolve===L?(De=ee,(xe=pe)._state===H?M(De,xe._result):xe._state===V?R(De,xe._result):z(xe,void 0,function(je){return K(De,je)},function(je){return R(De,je)})):_e!==void 0&&p(_e)?G(ee,pe,_e):M(ee,pe)}function K(ee,pe){if(ee===pe)R(ee,new TypeError("You cannot resolve a promise with itself"));else if(_e=typeof pe,pe===null||_e!="object"&&_e!="function")M(ee,pe);else{_e=void 0;try{_e=pe.then}catch(De){return void R(ee,De)}Y(ee,pe,_e)}var _e}function se(ee){ee._onerror&&ee._onerror(ee._result),W(ee)}function M(ee,pe){ee._state===N&&(ee._result=pe,ee._state=H,ee._subscribers.length!==0&&f(W,ee))}function R(ee,pe){ee._state===N&&(ee._state=V,ee._result=pe,f(se,ee))}function z(ee,pe,_e,De){var xe=ee._subscribers,je=xe.length;ee._onerror=null,xe[je]=pe,xe[je+H]=_e,xe[je+V]=De,je===0&&ee._state&&f(W,ee)}function W(ee){var pe=ee._subscribers,_e=ee._state;if(pe.length!==0){for(var De,xe=void 0,je=ee._result,Te=0;Te<pe.length;Te+=3)De=pe[Te],xe=pe[Te+_e],De?J(_e,De,xe,je):xe(je);ee._subscribers.length=0}}function J(ee,pe,_e,De){var xe=p(_e),je=void 0,Te=void 0,Ge=!0;if(xe){try{je=_e(De)}catch(Oe){Ge=!1,Te=Oe}if(pe===je)return void R(pe,new TypeError("A promises callback cannot return that same promise."))}else je=De;pe._state===N&&(xe&&Ge?K(pe,je):Ge===!1?R(pe,Te):ee===H?M(pe,je):ee===V&&R(pe,je))}var te=0;function ie(ee){ee[B]=te++,ee._state=void 0,ee._result=void 0,ee._subscribers=[]}oe.prototype._enumerate=function(ee){for(var pe=0;this._state===N&&pe<ee.length;pe++)this._eachEntry(ee[pe],pe)},oe.prototype._eachEntry=function(ee,pe){var _e=this._instanceConstructor,De=_e.resolve;if(De===L){var xe,je=void 0,Te=void 0,Ge=!1;try{je=ee.then}catch(Oe){Ge=!0,Te=Oe}je===A&&ee._state!==N?this._settledAt(ee._state,pe,ee._result):typeof je!="function"?(this._remaining--,this._result[pe]=ee):_e===he?(xe=new _e(I),Ge?R(xe,Te):Y(xe,ee,je),this._willSettleAt(xe,pe)):this._willSettleAt(new _e(function(Oe){return Oe(ee)}),pe)}else this._willSettleAt(De(ee),pe)},oe.prototype._settledAt=function(ee,pe,_e){var De=this.promise;De._state===N&&(this._remaining--,ee===V?R(De,_e):this._result[pe]=_e),this._remaining===0&&M(De,this._result)},oe.prototype._willSettleAt=function(ee,pe){var _e=this;z(ee,void 0,function(De){return _e._settledAt(H,pe,De)},function(De){return _e._settledAt(V,pe,De)})};var de=oe;function oe(ee,pe){this._instanceConstructor=ee,this.promise=new ee(I),this.promise[B]||ie(this.promise),m(pe)?(this.length=pe.length,this._remaining=pe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(pe),this._remaining!==0)||M(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}le.prototype.catch=function(ee){return this.then(null,ee)},le.prototype.finally=function(ee){var pe=this.constructor;return p(ee)?this.then(function(_e){return pe.resolve(ee()).then(function(){return _e})},function(_e){return pe.resolve(ee()).then(function(){throw _e})}):this.then(ee,ee)};var he=le;function le(ee){if(this[B]=te++,this._result=this._state=void 0,this._subscribers=[],I!==ee){if(typeof ee!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof le))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var pe=this;try{ee(function(_e){K(pe,_e)},function(_e){R(pe,_e)})}catch(_e){R(pe,_e)}}}return he.prototype.then=A,he.all=function(ee){return new de(this,ee).promise},he.race=function(ee){var pe=this;return m(ee)?new pe(function(_e,De){for(var xe=ee.length,je=0;je<xe;je++)pe.resolve(ee[je]).then(_e,De)}):new pe(function(_e,De){return De(new TypeError("You must pass an array to race."))})},he.resolve=L,he.reject=function(ee){var pe=new this(I);return R(pe,ee),pe},he._setScheduler=function(ee){v=ee},he._setAsap=function(ee){f=ee},he._asap=f,he.polyfill=function(){var ee=void 0;if(u!==void 0)ee=u;else if(typeof self<"u")ee=self;else try{ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var pe=ee.Promise;if(pe){var _e=null;try{_e=Object.prototype.toString.call(pe.resolve())}catch{}if(_e==="[object Promise]"&&!pe.cast)return}ee.Promise=he},he.Promise=he},typeof l=="object"&&a!==void 0?a.exports=d():i.ES6Promise=d()}).call(this,t("_process"),typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,a,l){var o,u;o=this,u=function(i,d){var p=5e3,m="callback";function c(v){try{delete window[v]}catch{window[v]=void 0}}function h(v){v=document.getElementById(v),v&&document.getElementsByTagName("head")[0].removeChild(v)}d.exports=function(v){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=v,g=f.timeout||p,b=f.jsonpCallback||m,x=void 0;return new Promise(function(_,j){var S=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),D=b+"_"+S,E=(window[S]=function(T){_({ok:!0,json:function(){return Promise.resolve(T)}}),x&&clearTimeout(x),h(D),c(S)},y+=y.indexOf("?")===-1?"?":"&",document.createElement("script"));E.setAttribute("src",""+y+b+"="+S),f.charset&&E.setAttribute("charset",f.charset),E.id=D,document.getElementsByTagName("head")[0].appendChild(E),x=setTimeout(function(){j(new Error("JSONP request to "+v+" timed out")),c(S),h(D),window[S]=function(){c(S)}},g),E.onerror=function(){j(new Error("JSONP request to "+v+" failed")),c(S),h(D),x&&clearTimeout(x)}})}},l!==void 0&&a!==void 0?u(0,a):(u(u={exports:{}},u),o.fetchJsonp=u.exports)},{}],252:[function(t,a,l){var o=function(u){var i,d,p,m,c,h,v,f,y,g,b;if(!(u===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return b=u.document,i=function(){return u.URL||u.webkitURL||u},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in d,m=/constructor/i.test(u.HTMLElement)||u.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(x){(u.setImmediate||u.setTimeout)(function(){throw x},0)},v=4e4,f=function(x){setTimeout(function(){typeof x=="string"?i().revokeObjectURL(x):x.remove()},v)},y=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\uFEFF",x],{type:x.type}):x},b=(g=function(x,_,T){T||(x=y(x));var S,D,E=this,T=x.type==="application/octet-stream",F=function(){for(var A=E,L="writestart progress write writeend".split(" "),O=void 0,B=(L=[].concat(L)).length;B--;){var I=A["on"+L[B]];if(typeof I=="function")try{I.call(A,O||A)}catch(N){h(N)}}};E.readyState=E.INIT,p?(S=i().createObjectURL(x),setTimeout(function(){var A,L;d.href=S,d.download=_,A=d,L=new MouseEvent("click"),A.dispatchEvent(L),F(),f(S),E.readyState=E.DONE})):(c||T&&m)&&u.FileReader?((D=new FileReader).onloadend=function(){var A=c?D.result:D.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(A,"_blank")||(u.location.href=A),A=void 0,E.readyState=E.DONE,F()},D.readAsDataURL(x),E.readyState=E.INIT):(S=S||i().createObjectURL(x),!T&&u.open(S,"_blank")||(u.location.href=S),E.readyState=E.DONE,F(),f(S))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,_,j){return _=_||x.name||"download",j||(x=y(x)),navigator.msSaveOrOpenBlob(x,_)}:(b.abort=function(){},b.readyState=b.INIT=0,b.WRITING=1,b.DONE=2,b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null,function(x,_,j){return new g(x,_||x.name||"download",j)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);a!==void 0&&a.exports?a.exports.saveAs=o:s!=null},{}],253:[function(t,a,l){var o,u=Object.defineProperty,i=(u(l,"__esModule",{value:!0}),l),d={GIFEncoder:()=>F,applyPalette:()=>function(N,H,V="rgb565"){if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<H.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(N.buffer),Y=G.length,K=V==="rgb444"?4096:65536,se=new Uint8Array(Y),M=new Array(K);if(V==="rgba4444")for(let le=0;le<Y;le++){var J=G[le],R=J>>24&255,z=J>>16&255,W=J>>8&255,J=255&J,te=f(J,W,z,R),te=te in M?M[te]:M[te]=function(ee,pe,_e,De,xe){let je=0,Te=1e100;for(let ge=0;ge<xe.length;ge++){var Ge,Oe=xe[ge],ae=D(Oe[3]-De);ae>Te||(Ge=Oe[0],(ae+=D(Ge-ee))>Te||(Ge=Oe[1],(ae+=D(Ge-pe))>Te||(Ge=Oe[2],(ae+=D(Ge-_e))>Te||(Te=ae,je=ge))))}return je}(J,W,z,R,H);se[le]=te}else{const le=V==="rgb444"?y:v;for(let ee=0;ee<Y;ee++){var oe=G[ee],ie=oe>>16&255,de=oe>>8&255,oe=255&oe,he=le(oe,de,ie),he=he in M?M[he]:M[he]=function(pe,_e,De,xe){let je=0,Te=1e100;for(let ge=0;ge<xe.length;ge++){var Ge,Oe=xe[ge],ae=D(Oe[0]-pe);ae>Te||(Ge=Oe[1],(ae+=D(Ge-_e))>Te||(Ge=Oe[2],(ae+=D(Ge-De))>Te||(Te=ae,je=ge)))}return je}(oe,de,ie,H);se[ee]=he}}return se},default:()=>I,nearestColor:()=>function(N,H,V=j){return N[E(N,H,V)]},nearestColorIndex:()=>E,nearestColorIndexWithDistance:()=>T,prequantize:()=>function(N,{roundRGB:H=5,roundAlpha:V=10,oneBitAlpha:G=null}={}){const Y=new Uint32Array(N.buffer);for(let z=0;z<Y.length;z++){var R=Y[z];let W=R>>24&255;var K,se=R>>16&255,M=R>>8&255,R=255&R;W=S(W,V),G&&(K=typeof G=="number"?G:127,W=W<=K?0:255),R=S(R,H),M=S(M,H),se=S(se,H),Y[z]=W<<24|se<<16|M<<8|R<<0}},quantize:()=>function(N,H,V={}){var{format:G="rgb565",clearAlpha:Y=!0,clearAlphaColor:K=0,clearAlphaThreshold:se=0,oneBitAlpha:M=!1}=V;if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");N=new Uint32Array(N.buffer);let R=V.useSqrt!==!1;const z=G==="rgba4444",W=function(we,Me){const ke=Me==="rgb444"?4096:65536,ce=new Array(ke),Ce=we.length;if(Me==="rgba4444")for(let ct=0;ct<Ce;++ct){var $=we[ct],me=$>>24&255,Z=$>>16&255,Q=$>>8&255,$=255&$,ne=f($,Q,Z,me);let tt=ne in ce?ce[ne]:ce[ne]=_();tt.rc+=$,tt.gc+=Q,tt.bc+=Z,tt.ac+=me,tt.cnt++}else if(Me==="rgb444")for(let ct=0;ct<Ce;++ct){var Re=we[ct],be=Re>>16&255,Ee=Re>>8&255,Re=255&Re,Ve=y(Re,Ee,be);let tt=Ve in ce?ce[Ve]:ce[Ve]=_();tt.rc+=Re,tt.gc+=Ee,tt.bc+=be,tt.cnt++}else for(let ct=0;ct<Ce;++ct){var Ke=we[ct],Xe=Ke>>16&255,Ye=Ke>>8&255,Ke=255&Ke,ft=v(Ke,Ye,Xe);let tt=ft in ce?ce[ft]:ce[ft]=_();tt.rc+=Ke,tt.gc+=Ye,tt.bc+=Xe,tt.cnt++}return ce}(N,G),J=W.length,te=J-1,ie=new Uint32Array(J+1);for(var de=0,oe=0;oe<J;++oe){const we=W[oe];we!=null&&(Oe=1/we.cnt,z&&(we.ac*=Oe),we.rc*=Oe,we.gc*=Oe,we.bc*=Oe,W[de++]=we)}b(H)/de<.022&&(R=!1);for(var he,le,ee,oe=0;oe<de-1;++oe)W[oe].fw=oe+1,W[oe+1].bk=oe,R&&(W[oe].cnt=Math.sqrt(W[oe].cnt));for(R&&(W[oe].cnt=Math.sqrt(W[oe].cnt)),oe=0;oe<de;++oe){x(W,oe);var pe=W[oe].err;for(le=++ie[0];1<le&&(ee=le>>1,!(W[he=ie[ee]].err<=pe));le=ee)ie[le]=he;ie[le]=oe}var _e,De=de-H;for(oe=0;oe<De;){for(;;){var xe=ie[1];if((_e=W[xe]).tm>=_e.mtm&&W[_e.nn].mtm<=_e.tm)break;for(_e.mtm==te?xe=ie[1]=ie[ie[0]--]:(x(W,xe),_e.tm=oe),pe=W[xe].err,le=1;(ee=le+le)<=ie[0]&&(ee<ie[0]&&W[ie[ee]].err>W[ie[ee+1]].err&&ee++,!(pe<=W[he=ie[ee]].err));le=ee)ie[le]=he;ie[le]=xe}var je=W[_e.nn],Te=_e.cnt,Ge=je.cnt,Oe=1/(Te+Ge);z&&(_e.ac=Oe*(Te*_e.ac+Ge*je.ac)),_e.rc=Oe*(Te*_e.rc+Ge*je.rc),_e.gc=Oe*(Te*_e.gc+Ge*je.gc),_e.bc=Oe*(Te*_e.bc+Ge*je.bc),_e.cnt+=je.cnt,_e.mtm=++oe,W[je.bk].fw=je.fw,W[je.fw].bk=je.bk,je.mtm=te}let ae=[];for(oe=0;;0){let we=g(Math.round(W[oe].rc),0,255),Me=g(Math.round(W[oe].gc),0,255),ke=g(Math.round(W[oe].bc),0,255),ce=255;z&&(ce=g(Math.round(W[oe].ac),0,255),M&&(ge=typeof M=="number"?M:127,ce=ce<=ge?0:255),Y&&ce<=se&&(we=Me=ke=K,ce=0));var ge=z?[we,Me,ke,ce]:[we,Me,ke];if(function(Ce,me){for(let $=0;$<Ce.length;$++){var Q=Ce[$],Z=Q[0]===me[0]&&Q[1]===me[1]&&Q[2]===me[2],Q=!(4<=Q.length&&4<=me.length)||Q[3]===me[3];if(Z&&Q)return!0}return!1}(ae,ge)||ae.push(ge),(oe=W[oe].fw)==0)break}return ae},snapColorsToPalette:()=>function(N,H,V=5){if(N.length&&H.length){var G=N.map(R=>R.slice(0,3)),Y=V*V,K=N[0].length;for(let R=0;R<H.length;R++){let z=H[R];z=z.length<K?[z[0],z[1],z[2],255]:z.length>K?z.slice(0,3):z.slice();var M=T(G,z.slice(0,3),j),se=M[0],M=M[1];0<M&&M<=Y&&(N[se]=z)}}}};for(o in d)u(i,o,{get:d[o],enumerable:!0});var p={trailer:59};function m(N=256){let H=0,V=new Uint8Array(N);return{get buffer(){return V.buffer},reset(){H=0},bytesView(){return V.subarray(0,H)},bytes(){return V.slice(0,H)},writeByte(Y){G(H+1),V[H]=Y,H++},writeBytes(Y,K=0,se=Y.length){G(H+se);for(let M=0;M<se;M++)V[H++]=Y[M+K]},writeBytesView(Y,K=0,se=Y.byteLength){G(H+se),V.set(Y.subarray(K,K+se),H),H+=se}};function G(Y){var K=V.length;if(!(Y<=K)){Y=Math.max(Y,K*(K<1048576?2:1.125)>>>0),K!=0&&(Y=Math.max(Y,256));const se=V;V=new Uint8Array(Y),0<H&&V.set(se.subarray(0,H),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],h=function(N,H,V,z,Y=m(512),K=new Uint8Array(256),se=new Int32Array(5003),M=new Int32Array(5003)){var R=se.length,z=Math.max(2,z);K.fill(0),M.fill(0),se.fill(-1);let W=0,J=0;var te=z+1;const ie=te;let de=!1,oe=ie,he=(1<<oe)-1;var le=1<<te-1;const ee=1+le;let pe=2+le,_e=0,De=V[0],xe=0;for(let ge=R;ge<65536;ge*=2)++xe;xe=8-xe,Y.writeByte(z),ae(le);var je=V.length;for(let ge=1;ge<je;ge++)e:{var Te=V[ge],Ge=(Te<<12)+De;let we=Te<<xe^De;if(se[we]===Ge)De=M[we];else{for(var Oe=we===0?1:R-we;0<=se[we];)if((we-=Oe)<0&&(we+=R),se[we]===Ge){De=M[we];break e}ae(De),De=Te,pe<4096?(M[we]=pe++,se[we]=Ge):(se.fill(-1),pe=2+le,de=!0,ae(le))}}return ae(De),ae(ee),Y.writeByte(0),Y.bytesView();function ae(ge){for(W&=c[J],0<J?W|=ge<<J:W=ge,J+=oe;8<=J;)K[_e++]=255&W,254<=_e&&(Y.writeByte(_e),Y.writeBytesView(K,0,_e),_e=0),W>>=8,J-=8;if((pe>he||de)&&(de?(oe=ie,he=(1<<oe)-1,de=!1):(++oe,he=oe===12?1<<oe:(1<<oe)-1)),ge==ee){for(;0<J;)K[_e++]=255&W,254<=_e&&(Y.writeByte(_e),Y.writeBytesView(K,0,_e),_e=0),W>>=8,J-=8;0<_e&&(Y.writeByte(_e),Y.writeBytesView(K,0,_e),_e=0)}}};function v(N,H,V){return N<<8&63488|H<<2&992|V>>3}function f(N,H,V,G){return N>>4|240&H|(240&V)<<4|(240&G)<<8}function y(N,H,V){return N>>4<<8|240&H|V>>4}function g(N,H,V){return N<H?H:V<N?V:N}function b(N){return N*N}function x(N,H,V){var G=0,Y=1e100;const K=N[H];for(var se=K.cnt,M=K.ac,R=K.rc,z=K.gc,W=K.bc,J=K.fw;J!=0;J=N[J].fw){var te,ie=N[J],de=ie.cnt,de=se*de/(se+de);Y<=de||(te=0,Y<=(te+=de*b(ie.rc-R))||Y<=(te+=de*b(ie.gc-z))||Y<=(te+=de*b(ie.bc-W))||(Y=te,G=J))}K.err=Y,K.nn=G}function _(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function j(N,H){for(var V=0,G=0;G<N.length;G++){var Y=N[G]-H[G];V+=Y*Y}return V}function S(N,H){return 1<H?Math.round(N/H)*H:N}function D(N){return N*N}function E(N,H,V=j){let G=1/0,Y=-1;for(let se=0;se<N.length;se++){var K=V(H,N[se]);K<G&&(G=K,Y=se)}return Y}function T(N,H,V=j){let G=1/0,Y=-1;for(let se=0;se<N.length;se++){var K=V(H,N[se]);K<G&&(G=K,Y=se)}return[Y,G]}function F(N={}){const{initialCapacity:H=4096,auto:V=!0}=N,G=m(H),Y=new Uint8Array(256),K=new Int32Array(5003),se=new Int32Array(5003);let M=!1;return{reset(){G.reset(),M=!1},finish(){G.writeByte(p.trailer)},bytes(){return G.bytes()},bytesView(){return G.bytesView()},get buffer(){return G.buffer},get stream(){return G},writeHeader:R,writeFrame(z,W,J,De={}){var{transparent:ie=!1,transparentIndex:de=0,delay:Oe=0,palette:oe=null,repeat:je=0,colorDepth:he=8,dispose:le=-1}=De;let ee=!1;if(V?M||(ee=!0,R(),M=!0):ee=!!De.first,W=Math.max(0,Math.floor(W)),J=Math.max(0,Math.floor(J)),ee){if(!oe)throw new Error("First frame must include a { palette } option");var[De,Te,_e,Ge,xe=8]=[G,W,J,oe,he];Ge=B(Ge.length)-1,xe=128|xe-1<<4|Ge,L(De,Te),L(De,_e),De.writeBytes([xe,0,0]),A(G,oe),0<=je&&(Ge=G,Te=je,Ge.writeByte(33),Ge.writeByte(255),Ge.writeByte(11),O(Ge,"NETSCAPE2.0"),Ge.writeByte(3),Ge.writeByte(1),L(Ge,Te),Ge.writeByte(0))}var pe,_e=Math.round(Oe/10),De=G,xe=le,je=_e,Te=ie,Ge=de,Oe=(De.writeByte(33),De.writeByte(249),De.writeByte(4),Ge<0&&(Ge=0,Te=!1),Te=Te?(pe=1,2):pe=0,0<=xe&&(Te=7&xe),Te<<=2,De.writeByte(0|Te|pe),L(De,je),De.writeByte(Ge||0),De.writeByte(0),!!oe&&!ee);le=G,ie=W,de=J,pe=Oe?oe:null,le.writeByte(44),L(le,0),L(le,0),L(le,ie),L(le,de),pe?(ie=B(pe.length)-1,le.writeByte(128|ie)):le.writeByte(0),Oe&&A(G,oe),[je,De,de,ie,le=8,Oe,oe,z]=[G,z,W,J,he,Y,K,se],h(de,ie,De,le,je,Oe,oe,z)}};function R(){O(G,"GIF89a")}}function A(N,H){var V=1<<B(H.length);for(let G=0;G<V;G++){let Y=[0,0,0];G<H.length&&(Y=H[G]),N.writeByte(Y[0]),N.writeByte(Y[1]),N.writeByte(Y[2])}}function L(N,H){N.writeByte(255&H),N.writeByte(H>>8&255)}function O(N,H){for(var V=0;V<H.length;V++)N.writeByte(H.charCodeAt(V))}function B(N){return Math.max(Math.ceil(Math.log2(N)),1)}var I=F},{}],254:[function(t,a,l){l.read=function(o,u,i,d,x){var m,c,h=8*x-d-1,v=(1<<h)-1,f=v>>1,y=-7,g=i?x-1:0,b=i?-1:1,x=o[u+g];for(g+=b,m=x&(1<<-y)-1,x>>=-y,y+=h;0<y;m=256*m+o[u+g],g+=b,y-=8);for(c=m&(1<<-y)-1,m>>=-y,y+=d;0<y;c=256*c+o[u+g],g+=b,y-=8);if(m===0)m=1-f;else{if(m===v)return c?NaN:1/0*(x?-1:1);c+=Math.pow(2,d),m-=f}return(x?-1:1)*c*Math.pow(2,m-d)},l.write=function(o,u,i,d,p,_){var c,h,v=8*_-p-1,f=(1<<v)-1,y=f>>1,g=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=d?0:_-1,x=d?1:-1,_=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(h=isNaN(u)?1:0,c=f):(c=Math.floor(Math.log(u)/Math.LN2),u*(d=Math.pow(2,-c))<1&&(c--,d*=2),2<=(u+=1<=c+y?g/d:g*Math.pow(2,1-y))*d&&(c++,d/=2),f<=c+y?(h=0,c=f):1<=c+y?(h=(u*d-1)*Math.pow(2,p),c+=y):(h=u*Math.pow(2,y-1)*Math.pow(2,p),c=0));8<=p;o[i+b]=255&h,b+=x,h/=256,p-=8);for(c=c<<p|h,v+=p;0<v;o[i+b]=255&c,b+=x,c/=256,v-=8);o[i+b-x]|=128*_}},{}],255:[function(t,a,l){var o;function u(Z,Q){return Z.b===Q.b&&Z.a===Q.a}function i(Z,Q){return Z.b<Q.b||Z.b===Q.b&&Z.a<=Q.a}function d(Z,Q,$){var ne=Q.b-Z.b,be=$.b-Q.b;return 0<ne+be?ne<be?Q.a-Z.a+ne/(ne+be)*(Z.a-$.a):Q.a-$.a+be/(ne+be)*($.a-Z.a):0}function p(Z,Q,$){var ne=Q.b-Z.b,be=$.b-Q.b;return 0<ne+be?(Q.a-$.a)*ne+(Q.a-Z.a)*be:0}function m(Z,Q){return Z.a<Q.a||Z.a===Q.a&&Z.b<=Q.b}function c(Z,Q,$){var ne=Q.a-Z.a,be=$.a-Q.a;return 0<ne+be?ne<be?Q.b-Z.b+ne/(ne+be)*(Z.b-$.b):Q.b-$.b+be/(ne+be)*($.b-Z.b):0}function h(Z,Q,$){var ne=Q.a-Z.a,be=$.a-Q.a;return 0<ne+be?(Q.b-$.b)*ne+(Q.b-Z.b)*be:0}function v(Z,Q,$,ne){return(Z=Z<0?0:Z)<=($=$<0?0:$)?$===0?(Q+ne)/2:Q+Z/(Z+$)*(ne-Q):ne+$/(Z+$)*(Q-ne)}function f(Z){var Q=_(Z.b);return S(Q,Z.c),S(Q.b,Z.c),D(Q,Z.a),Q}function y(Z,Q){var $=!1,ne=!1;Z!==Q&&(Q.a!==Z.a&&(ne=!0,T(Q.a,Z.a)),Q.d!==Z.d&&($=!0,F(Q.d,Z.d)),j(Q,Z),ne||(S(Q,Z.a),Z.a.c=Z),$||(D(Q,Z.d),Z.d.a=Z))}function g(Z){var Q=Z.b,$=!1;Z.d!==Z.b.d&&($=!0,F(Z.d,Z.b.d)),Z.c===Z?T(Z.a,null):(Z.b.d.a=Z.b.e,Z.a.c=Z.c,j(Z,Z.b.e),$||D(Z,Z.d)),Q.c===Q?(T(Q.a,null),F(Q.d,null)):(Z.d.a=Q.b.e,Q.a.c=Q.c,j(Q,Q.b.e)),E(Z)}function b(Z){var Q=_(Z),$=Q.b;return j(Q,Z.e),Q.a=Z.b.a,S($,Q.a),Q.d=$.d=Z.d,Q=Q.b,j(Z.b,Z.b.b.e),j(Z.b,Q),Z.b.a=Q.a,Q.b.a.c=Q.b,Q.b.d=Z.b.d,Q.f=Z.f,Q.b.f=Z.b.f,Q}function x(Z,Q){var $=!1,ne=_(Z),be=ne.b;return Q.d!==Z.d&&($=!0,F(Q.d,Z.d)),j(ne,Z.e),j(be,Q),ne.a=Z.b.a,be.a=Q.a,ne.d=be.d=Z.d,Z.d.a=be,$||D(ne,Z.d),ne}function _(Z){var Q=new _e,$=new _e,ne=Z.b.h;return((($.h=ne).b.h=Q).h=Z).b.h=$,Q.b=$,((Q.c=Q).e=$).b=Q,($.c=$).e=Q}function j(Z,Q){var $=Z.c,ne=Q.c;$.b.e=Q,(ne.b.e=Z).c=ne,Q.c=$}function S(Z,Q){var $=Q.f,ne=new xe(Q,$);for($.e=ne,$=(Q.f=ne).c=Z;$.a=ne,($=$.c)!==Z;);}function D(Z,Q){var $=Q.d,ne=new pe(Q,$);for($.b=ne,(Q.d=ne).a=Z,ne.c=Q.c,$=Z;$.d=ne,($=$.e)!==Z;);}function E(Z){var Q=Z.h;Z=Z.b.h,(Q.b.h=Z).b.h=Q}function T(Z,Q){for(var $=Z.c,ne=$;ne.a=Q,(ne=ne.c)!==$;);$=Z.f,((ne=Z.e).f=$).e=ne}function F(Z,Q){for(var $=Z.a,ne=$;ne.d=Q,(ne=ne.e)!==$;);$=Z.d,((ne=Z.b).d=$).b=ne}function A(Z){var Q=0;return Math.abs(Z[1])>Math.abs(Z[0])&&(Q=1),Q=Math.abs(Z[2])>Math.abs(Z[Q])?2:Q}function L(Z,Q){Z.f+=Q.f,Z.b.f+=Q.b.f}function O(Z,Q,$){return Z=Z.a,Q=Q.a,$=$.a,Q.b.a===Z?$.b.a===Z?i(Q.a,$.a)?p($.b.a,Q.a,$.a)<=0:0<=p(Q.b.a,$.a,Q.a):p($.b.a,Z,$.a)<=0:$.b.a===Z?0<=p(Q.b.a,Z,Q.a):(Q=d(Q.b.a,Z,Q.a),(Z=d($.b.a,Z,$.a))<=Q)}function B(Z){Z.a.i=null;var Q=Z.e;Q.a.c=Q.c,Q.c.a=Q.a,Z.e=null}function I(Z,Q){g(Z.a),Z.c=!1,(Z.a=Q).i=Z}function N(Z){for(var Q=Z.a.a;(Z=me(Z)).a.a===Q;);return Z.c&&(I(Z,Q=x(Ce(Z).a.b,Z.a.e)),Z=me(Z)),Z}function H(Z,Q,$){var ne=new ce;return ne.a=$,ne.e=de(Z.f,Q.e,ne),$.i=ne}function V(Z,Q){switch(Z.s){case 100130:return(1&Q)!=0;case 100131:return Q!==0;case 100132:return 0<Q;case 100133:return Q<0;case 100134:return 2<=Q||Q<=-2}return!1}function G(Z){var Q=Z.a,$=Q.d;$.c=Z.d,$.a=Q,B(Z)}function Y(Z,Q,$){for(Q=(Z=Q).a;Z!==$;){Z.c=!1;var ne=Ce(Z),be=ne.a;if(be.a!==Q.a){if(!ne.c){G(Z);break}I(ne,be=x(Q.c.b,be.b))}Q.c!==be&&(y(be.b.e,be),y(Q,be)),G(Z),Q=ne.a,Z=ne}return Q}function K(Z,Q,$,ne,be,Ee){for(var Re=!0;H(Z,Q,$.b),($=$.c)!==ne;);for(be===null&&(be=Ce(Q).a.b.c);($=(ne=Ce(Q)).a.b).a===be.a;)$.c!==be&&(y($.b.e,$),y(be.b.e,$)),ne.f=Q.f-$.f,ne.d=V(Z,ne.f),Q.b=!0,!Re&&z(Z,Q)&&(L($,be),B(Q),g(be)),Re=!1,Q=ne,be=$;Q.b=!0,Ee&&J(Z,Q)}function se(Z,Q,$,ne,be){var Ee=[Q.g[0],Q.g[1],Q.g[2]];Q.d=null,Q.d=Z.o&&Z.o(Ee,$,ne,Z.c)||null,Q.d===null&&(be?Z.n||(ee(Z,100156),Z.n=!0):Q.d=$[0])}function M(Z,Q,$){var ne=[null,null,null,null];ne[0]=Q.a.d,ne[1]=$.a.d,se(Z,Q.a,ne,[.5,.5,0,0],!1),y(Q,$)}function R(Z,Q,$,ne,be){var Ee=Math.abs(Q.b-Z.b)+Math.abs(Q.a-Z.a),Re=Math.abs($.b-Z.b)+Math.abs($.a-Z.a),Ve=be+1;ne[be]=.5*Re/(Ee+Re),ne[Ve]=.5*Ee/(Ee+Re),Z.g[0]+=ne[be]*Q.g[0]+ne[Ve]*$.g[0],Z.g[1]+=ne[be]*Q.g[1]+ne[Ve]*$.g[1],Z.g[2]+=ne[be]*Q.g[2]+ne[Ve]*$.g[2]}function z(Z,Q){var $=Ce(Q),ne=Q.a,be=$.a;if(i(ne.a,be.a)){if(0<p(be.b.a,ne.a,be.a))return;if(u(ne.a,be.a)){if(ne.a!==be.a){var $=Z.e,Ee=ne.a.h;if(0<=Ee){var Re=($=$.b).d,Ve=$.e,Xe=$.c,Ye=Xe[Ee];Re[Ye]=Re[$.a],(Xe[Re[Ye]]=Ye)<=--$.a&&(Ye<=1||i(Ve[Re[Ye>>1]],Ve[Re[Ye]])?Me:ke)($,Ye),Ve[Ee]=null,Xe[Ee]=$.b,$.b=Ee}else for($.c[-(Ee+1)]=null;0<$.a&&$.c[$.d[$.a-1]]===null;)--$.a;M(Z,be.b.e,ne)}}else b(be.b),y(ne,be.b.e),Q.b=$.b=!0}else{if(p(ne.b.a,be.a,ne.a)<0)return;me(Q).b=Q.b=!0,b(ne.b),y(be.b.e,ne)}return 1}function W(Z,Q){var $=Ce(Q),ne=Q.a,be=$.a,Ee=ne.a,Re=be.a,Ve=ne.b.a,Xe=be.b.a,Ye=new xe;if(p(Ve,Z.a,Ee),p(Xe,Z.a,Re),!(Ee===Re||Math.min(Ee.a,Ve.a)>Math.max(Re.a,Xe.a))){if(i(Ee,Re)){if(0<p(Xe,Ee,Re))return}else if(p(Ve,Re,Ee)<0)return;var Ke,ft,ct=Ve,tt=Ee,dt=Xe,at=Re;if(i(ct,tt)||(Ke=ct,ct=tt,tt=Ke),i(dt,at)||(Ke=dt,dt=at,at=Ke),i(ct,dt)||(Ke=ct,ct=dt,dt=Ke,Ke=tt,tt=at,at=Ke),i(dt,tt)?i(tt,at)?((Ke=d(ct,dt,tt))+(ft=d(dt,tt,at))<0&&(Ke=-Ke,ft=-ft),Ye.b=v(Ke,dt.b,ft,tt.b)):((Ke=p(ct,dt,tt))+(ft=-p(ct,at,tt))<0&&(Ke=-Ke,ft=-ft),Ye.b=v(Ke,dt.b,ft,at.b)):Ye.b=(dt.b+tt.b)/2,m(ct,tt)||(Ke=ct,ct=tt,tt=Ke),m(dt,at)||(Ke=dt,dt=at,at=Ke),m(ct,dt)||(Ke=ct,ct=dt,dt=Ke,Ke=tt,tt=at,at=Ke),m(dt,tt)?m(tt,at)?((Ke=c(ct,dt,tt))+(ft=c(dt,tt,at))<0&&(Ke=-Ke,ft=-ft),Ye.a=v(Ke,dt.a,ft,tt.a)):((Ke=h(ct,dt,tt))+(ft=-h(ct,at,tt))<0&&(Ke=-Ke,ft=-ft),Ye.a=v(Ke,dt.a,ft,at.a)):Ye.a=(dt.a+tt.a)/2,i(Ye,Z.a)&&(Ye.b=Z.a.b,Ye.a=Z.a.a),ct=i(Ee,Re)?Ee:Re,i(ct,Ye)&&(Ye.b=ct.b,Ye.a=ct.a),u(Ye,Ee)||u(Ye,Re))return z(Z,Q),0;if(!u(Ve,Z.a)&&0<=p(Ve,Z.a,Ye)||!u(Xe,Z.a)&&p(Xe,Z.a,Ye)<=0){if(Xe===Z.a)b(ne.b),y(be.b,ne),ne=Ce(Q=N(Q)).a,Y(Z,Ce(Q),$),K(Z,Q,ne.b.e,ne,ne,!0);else{if(Ve!==Z.a)return 0<=p(Ve,Z.a,Ye)&&(me(Q).b=Q.b=!0,b(ne.b),ne.a.b=Z.a.b,ne.a.a=Z.a.a),void(p(Xe,Z.a,Ye)<=0&&(Q.b=$.b=!0,b(be.b),be.a.b=Z.a.b,be.a.a=Z.a.a));for(b(be.b),y(ne.e,be.b.e),Re=(Ee=$=Q).a.b.a;(Ee=me(Ee)).a.b.a===Re;);Ee=Ce(Q=Ee).a.b.c,$.a=be.b.e,K(Z,Q,(be=Y(Z,$,null)).c,ne.b.c,Ee,!0)}return 1}b(ne.b),b(be.b),y(be.b.e,ne),ne.a.b=Ye.b,ne.a.a=Ye.a,ne.a.h=Te(Z.e,ne.a),ne=ne.a,be=[0,0,0,0],Ye=[Ee.d,Ve.d,Re.d,Xe.d],ne.g[0]=ne.g[1]=ne.g[2]=0,R(ne,Ee,Ve,be,0),R(ne,Re,Xe,be,2),se(Z,ne,Ye,be,!0),me(Q).b=Q.b=$.b=!0}}function J(Z,Q){for(var $=Ce(Q);;){for(;$.b;)$=Ce(Q=$);if(!Q.b&&((Q=me($=Q))===null||!Q.b))break;Q.b=!1;var ne=Q.a,be=$.a;if(Ee=ne.b.a!==be.b.a)e:{var Ee,Re=Ce(Ee=Q),Ve=Ee.a,Xe=Re.a,Ye=void 0;if(i(Ve.b.a,Xe.b.a)){if(p(Ve.b.a,Xe.b.a,Ve.a)<0){Ee=!1;break e}me(Ee).b=Ee.b=!0,Ye=b(Ve),y(Xe.b,Ye),Ye.d.c=Ee.d}else{if(0<p(Xe.b.a,Ve.b.a,Xe.a)){Ee=!1;break e}Ee.b=Re.b=!0,Ye=b(Xe),y(Ve.e,Xe.b),Ye.b.d.c=Ee.d}Ee=!0}if(Ee&&($.c?(B($),g(be),be=($=Ce(Q)).a):Q.c&&(B(Q),g(ne),ne=(Q=me($)).a)),ne.a!==be.a){if(ne.b.a===be.b.a||Q.c||$.c||ne.b.a!==Z.a&&be.b.a!==Z.a)z(Z,Q);else if(W(Z,Q))break}ne.a===be.a&&ne.b.a===be.b.a&&(L(be,ne),B(Q),g(ne),Q=me($))}}function te(Z,Q){var $=new ce,ne=f(Z.b);ne.a.b=4e150,ne.a.a=Q,ne.b.a.b=-4e150,ne.b.a.a=Q,Z.a=ne.b.a,$.a=ne,$.f=0,$.d=!1,$.c=!1,$.h=!0,$.b=!1,ne=de(ne=Z.f,ne.a,$),$.e=ne}function ie(Z){this.a=new oe,this.b=Z,this.c=O}function de(Z,Q,$){for(;(Q=Q.c).b!==null&&!Z.c(Z.b,Q.b,$););return Z=new oe($,Q.a,Q),Q.a.c=Z,Q.a=Z}function oe(Z,Q,$){this.b=Z||null,this.a=Q||this,this.c=$||this}function he(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function le(Z,Q){if(Z.d!==Q)for(;Z.d!==Q;)if(Z.d<Q)switch(Z.d){case 0:ee(Z,100151),Z.u(null);break;case 1:ee(Z,100152),Z.t()}else switch(Z.d){case 2:ee(Z,100154),Z.v();break;case 1:ee(Z,100153),Z.w()}}function ee(Z,Q){Z.p&&Z.p(Q,Z.c)}function pe(Z,Q){this.b=Z||this,this.d=Q||this,this.a=null,this.c=!1}function _e(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function De(){this.c=new xe,this.a=new pe,this.b=new _e,this.d=new _e,this.b.b=this.d,this.d.b=this.b}function xe(Z,Q){this.e=Z||this,this.f=Q||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function je(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Oe}function Te(Z,Q){var $,ne,be;return Z.e?(2*(ne=++($=Z.b).a)>$.f&&($.f*=2,$.c=ae($.c,$.f+1)),$.b===0?be=ne:(be=$.b,$.b=$.c[$.b]),$.e[be]=Q,$.c[be]=ne,$.d[ne]=be,$.h&&ke($,ne),be):($=Z.a++,Z.c[$]=Q,-($+1))}function Ge(Z){if(Z.a===0)return we(Z.b);var Q=Z.c[Z.d[Z.a-1]];if(Z.b.a!==0&&i(ge(Z.b),Q))return we(Z.b);for(;--Z.a,0<Z.a&&Z.c[Z.d[Z.a-1]]===null;);return Q}function Oe(){this.d=ae([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ae(Z,Q){for(var $=Array(Q),ne=0;ne<Z.length;ne++)$[ne]=Z[ne];for(;ne<Q;ne++)$[ne]=0;return $}function ge(Z){return Z.e[Z.d[1]]}function we(Z){var Q=Z.d,$=Z.e,ne=Z.c,be=Q[1],Ee=$[be];return 0<Z.a&&(Q[1]=Q[Z.a],ne[Q[1]]=1,$[be]=null,ne[be]=Z.b,Z.b=be,0<--Z.a&&Me(Z,1)),Ee}function Me(Z,Q){for(var $=Z.d,ne=Z.e,be=Z.c,Ee=Q,Re=$[Ee];;){var Ve=Ee<<1,Xe=(Ve<Z.a&&i(ne[$[Ve+1]],ne[$[Ve]])&&(Ve+=1),$[Ve]);if(Ve>Z.a||i(ne[Re],ne[Xe])){be[$[Ee]=Re]=Ee;break}be[$[Ee]=Xe]=Ee,Ee=Ve}}function ke(Z,Q){for(var $=Z.d,ne=Z.e,be=Z.c,Ee=Q,Re=$[Ee];;){var Ve=Ee>>1,Xe=$[Ve];if(Ve==0||i(ne[Xe],ne[Re])){be[$[Ee]=Re]=Ee;break}be[$[Ee]=Xe]=Ee,Ee=Ve}}function ce(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ce(Z){return Z.e.c.b}function me(Z){return Z.e.a.b}(o=he.prototype).x=function(){le(this,0)},o.B=function(Z,Q){switch(Z){case 100142:return;case 100140:switch(Q){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Q)}break;case 100141:return void(this.m=!!Q);default:return void ee(this,100900)}ee(this,100901)},o.y=function(Z){switch(Z){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ee(this,100900)}return!1},o.A=function(Z,Q,$){this.j[0]=Z,this.j[1]=Q,this.j[2]=$},o.z=function(Z,Q){var $=Q||null;switch(Z){case 100100:case 100106:this.h=$;break;case 100104:case 100110:this.l=$;break;case 100101:case 100107:this.k=$;break;case 100102:case 100108:this.i=$;break;case 100103:case 100109:this.p=$;break;case 100105:case 100111:this.o=$;break;case 100112:this.r=$;break;default:ee(this,100900)}},o.C=function(Z,Q){var $=!1,ne=[0,0,0];le(this,2);for(var be=0;be<3;++be){var Ee=Z[be];Ee<-1e150&&(Ee=-1e150,$=!0),1e150<Ee&&(Ee=1e150,$=!0),ne[be]=Ee}$&&ee(this,100155),($=this.q)===null?y($=f(this.b),$.b):(b($),$=$.e),$.a.d=Q,$.a.g[0]=ne[0],$.a.g[1]=ne[1],$.a.g[2]=ne[2],$.f=1,$.b.f=-1,this.q=$},o.u=function(Z){le(this,0),this.d=1,this.b=new De,this.c=Z},o.t=function(){le(this,1),this.d=2,this.q=null},o.v=function(){le(this,2),this.d=1},o.w=function(){le(this,1),this.d=0;var Z,Q,$=this.j[0],ne=this.j[1],be=this.j[2],Ee=!1,Re=[$,ne,be];if($===0&&ne===0&&be===0){for(var ne=[-2e150,-2e150,-2e150],Ve=[2e150,2e150,2e150],be=[],Xe=[],$=(Ee=this.b.c).e;$!==Ee;$=$.e)for(var Ye=0;Ye<3;++Ye){var Ke=$.g[Ye];Ke<Ve[Ye]&&(Ve[Ye]=Ke,Xe[Ye]=$),Ke>ne[Ye]&&(ne[Ye]=Ke,be[Ye]=$)}if(ne[1]-Ve[1]>ne[$=0]-Ve[0]&&($=1),Ve[$=ne[2]-Ve[2]>ne[$]-Ve[$]?2:$]>=ne[$])Re[0]=0,Re[1]=0,Re[2]=1;else{for(Ve=Xe[$],be=be[$],Xe=[ne=0,0,0],Ve=[Ve.g[0]-be.g[0],Ve.g[1]-be.g[1],Ve.g[2]-be.g[2]],Ye=[0,0,0],$=Ee.e;$!==Ee;$=$.e)Ye[0]=$.g[0]-be.g[0],Ye[1]=$.g[1]-be.g[1],Ye[2]=$.g[2]-be.g[2],Xe[0]=Ve[1]*Ye[2]-Ve[2]*Ye[1],Xe[1]=Ve[2]*Ye[0]-Ve[0]*Ye[2],Xe[2]=Ve[0]*Ye[1]-Ve[1]*Ye[0],ne<(Ke=Xe[0]*Xe[0]+Xe[1]*Xe[1]+Xe[2]*Xe[2])&&(ne=Ke,Re[0]=Xe[0],Re[1]=Xe[1],Re[2]=Xe[2]);ne<=0&&(Re[0]=Re[1]=Re[2]=0,Re[A(Ve)]=1)}Ee=!0}for(Xe=A(Re),$=this.b.c,ne=(Xe+1)%3,be=(Xe+2)%3,Xe=0<Re[Xe]?1:-1,Re=$.e;Re!==$;Re=Re.e)Re.b=Re.g[ne],Re.a=Xe*Re.g[be];if(Ee){for(Re=0,$=(Ee=this.b.a).b;$!==Ee;$=$.b)if(!((ne=$.a).f<=0))for(;Re+=(ne.a.b-ne.b.a.b)*(ne.a.a+ne.b.a.a),(ne=ne.e)!==$.a;);if(Re<0)for(Ee=(Re=this.b.c).e;Ee!==Re;Ee=Ee.e)Ee.a=-Ee.a}for(this.n=!1,Re=this.b.b,$=Re.h;$!==Re;$=Ee)Ee=$.h,ne=$.e,u($.a,$.b.a)&&$.e.e!==$&&(M(this,ne,$),g($),ne=($=ne).e),ne.e===$&&(ne!==$&&(ne!==Ee&&ne!==Ee.b||(Ee=Ee.h),g(ne)),$!==Ee&&$!==Ee.b||(Ee=Ee.h),g($));for(this.e=Re=new je,Ee=this.b.c,$=Ee.e;$!==Ee;$=$.e)$.h=Te(Re,$);var ft=Re;ft.d=[];for(var ct=0;ct<ft.a;ct++)ft.d[ct]=ct;ft.d.sort(function(at){return function(Mt,ur){return i(at[Mt],at[ur])?1:-1}}(ft.c)),ft.e=!0;for(var tt=ft.b,dt=tt.a;1<=dt;--dt)Me(tt,dt);for(tt.h=!0,this.f=new ie(this),te(this,-4e150),te(this,4e150);(Re=Ge(this.e))!==null;){for(;;){e:if(($=this.e).a===0)Ee=ge($.b);else if(Ee=$.c[$.d[$.a-1]],$.b.a!==0&&i($=ge($.b),Ee)){Ee=$;break e}if(Ee===null||!u(Ee,Re))break;Ee=Ge(this.e),M(this,Re.c,Ee.c)}(function at(Mt,ur){for(var Yt,St=(Mt.a=ur).c;St.i===null;)if((St=St.c)===ur.c){var St=Mt,Tt=ur;(Dt=new ce).a=Tt.c.b;for(var or=(wt=St.f).a;(or=or.a).b!==null&&!wt.c(wt.b,Dt,or.b););var wt,sr,er=Ce(wt=or.b),Dt=wt.a,or=er.a;return void(p(Dt.b.a,Tt,Dt.a)===0?u((Dt=wt.a).a,Tt)||u(Dt.b.a,Tt)||(b(Dt.b),wt.c&&(g(Dt.c),wt.c=!1),y(Tt.c,Dt),at(St,Tt)):(sr=i(or.b.a,Dt.b.a)?wt:er,er=void 0,wt.d||sr.c?(er=sr===wt?x(Tt.c.b,Dt.e):x(or.b.c.b,Tt.c).b,sr.c?I(sr,er):((wt=H(Dt=St,wt,er)).f=me(wt).f+wt.a.f,wt.d=V(Dt,wt.f)),at(St,Tt)):K(St,wt,Tt.c,Tt.c,null,!0)))}wt=(Dt=Ce(St=N(St.i))).a,(Dt=Y(Mt,Dt,null)).c===wt?(Dt=(wt=Dt).c,or=Ce(St),er=St.a,sr=or.a,Yt=!1,er.b.a!==sr.b.a&&W(Mt,St),u(er.a,Mt.a)&&(y(Dt.b.e,er),Dt=Ce(St=N(St)).a,Y(Mt,Ce(St),or),Yt=!0),u(sr.a,Mt.a)&&(y(wt,sr.b.e),wt=Y(Mt,or,null),Yt=!0),Yt?K(Mt,St,wt.c,Dt,Dt,!0):(Tt=i(sr.a,er.a)?sr.b.e:er,K(Mt,St,Tt=x(wt.c.b,Tt),Tt.c,Tt.c,!1),Tt.b.i.c=!0,J(Mt,St))):K(Mt,St,Dt.c,wt,wt,!0)})(this,Re)}for(this.a=this.f.a.a.b.a.a,Re=0;(Ee=this.f.a.a.b)!==null;)Ee.h||++Re,B(Ee);for(this.f=null,(Re=this.e).b=null,Re.d=null,this.e=Re.c=null,Re=this.b,$=Re.a.b;$!==Re.a;$=Ee)Ee=$.b,($=$.a).e.e===$&&(L($.c,$),g($));if(!this.n){if(Re=this.b,this.m)for($=Re.b.h;$!==Re.b;$=Ee)Ee=$.h,$.b.d.c!==$.d.c?$.f=$.d.c?1:-1:g($);else for($=Re.a.b;$!==Re.a;$=Ee)if(Ee=$.b,$.c){for($=$.a;i($.b.a,$.a);$=$.c.b);for(;i($.a,$.b.a);$=$.e);for(ne=$.c.b,be=void 0;$.e!==ne;)if(i($.b.a,ne.a)){for(;ne.e!==$&&(i((Q=ne.e).b.a,Q.a)||p(ne.a,ne.b.a,ne.e.b.a)<=0);)ne=(be=x(ne.e,ne)).b;ne=ne.c.b}else{for(;ne.e!==$&&(i((Z=$.c.b).a,Z.b.a)||0<=p($.b.a,$.a,$.c.b.a));)$=(be=x($,$.c.b)).b;$=$.e}for(;ne.e.e!==$;)be=x(ne.e,ne),ne=be.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ee=(Re=this.b).a.b;Ee!==Re.a;Ee=Ee.b)if(Ee.c){for(this.h&&this.h(2,this.c),$=Ee.a;this.k&&this.k($.a.d,this.c),($=$.e)!==Ee.a;);this.i&&this.i(this.c)}}else{for(Re=this.b,Ee=!!this.l,$=!1,ne=-1,be=Re.a.d;be!==Re.a;be=be.d)if(be.c)for($||(this.h&&this.h(4,this.c),$=!0),Xe=be.a;Ee&&(Ve=Xe.b.d.c?0:1,ne!==Ve&&(ne=Ve,this.l&&this.l(!!ne,this.c))),this.k&&this.k(Xe.a.d,this.c),(Xe=Xe.e)!==be.a;);$&&this.i&&this.i(this.c)}if(this.r){for(Re=this.b,$=Re.a.b;$!==Re.a;$=Ee)if(Ee=$.b,!$.c){for(be=(ne=$.a).e,Xe=void 0;be=(Xe=be).e,(Xe.d=null)===Xe.b.d&&(Xe.c===Xe?T(Xe.a,null):(Xe.a.c=Xe.c,j(Xe,Xe.b.e)),(Ve=Xe.b).c===Ve?T(Ve.a,null):(Ve.a.c=Ve.c,j(Ve,Ve.b.e)),E(Xe)),Xe!==ne;);ne=$.d,(($=$.b).d=ne).b=$}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:he,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},he.prototype.gluDeleteTess=he.prototype.x,he.prototype.gluTessProperty=he.prototype.B,he.prototype.gluGetTessProperty=he.prototype.y,he.prototype.gluTessNormal=he.prototype.A,he.prototype.gluTessCallback=he.prototype.z,he.prototype.gluTessVertex=he.prototype.C,he.prototype.gluTessBeginPolygon=he.prototype.u,he.prototype.gluTessBeginContour=he.prototype.t,he.prototype.gluTessEndContour=he.prototype.v,he.prototype.gluTessEndPolygon=he.prototype.w,a!==void 0&&(a.exports=this.libtess)},{}],256:[function(t,a,l){function o(i,d,p,m){var c=0,h=(m=m===void 0?{}:m).loop===void 0?null:m.loop,v=m.palette===void 0?null:m.palette;if(d<=0||p<=0||65535<d||65535<p)throw new Error("Width/Height invalid.");function f(D){if(D=D.length,D<2||256<D||D&D-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return D}i[c++]=71,i[c++]=73,i[c++]=70,i[c++]=56,i[c++]=57,i[c++]=97;var y=0,g=0;if(v!==null){for(var b=f(v);b>>=1;)++y;if(b=1<<y,--y,m.background!==void 0){if(b<=(g=m.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(i[c++]=255&d,i[c++]=d>>8&255,i[c++]=255&p,i[c++]=p>>8&255,i[c++]=(v!==null?128:0)|y,i[c++]=g,i[c++]=0,v!==null)for(var x=0,_=v.length;x<_;++x){var j=v[x];i[c++]=j>>16&255,i[c++]=j>>8&255,i[c++]=255&j}if(h!==null){if(h<0||65535<h)throw new Error("Loop count invalid.");i[c++]=33,i[c++]=255,i[c++]=11,i[c++]=78,i[c++]=69,i[c++]=84,i[c++]=83,i[c++]=67,i[c++]=65,i[c++]=80,i[c++]=69,i[c++]=50,i[c++]=46,i[c++]=48,i[c++]=3,i[c++]=1,i[c++]=255&h,i[c++]=h>>8&255,i[c++]=0}var S=!1;this.addFrame=function(D,E,T,F,A,L){if(S===!0&&(--c,S=!1),L=L===void 0?{}:L,D<0||E<0||65535<D||65535<E)throw new Error("x/y invalid.");if(T<=0||F<=0||65535<T||65535<F)throw new Error("Width/Height invalid.");if(A.length<T*F)throw new Error("Not enough pixels for the frame size.");var O=!0,B=L.palette;if(B==null&&(O=!1,B=v),B==null)throw new Error("Must supply either a local or global palette.");for(var N=f(B),I=0;N>>=1;)++I;var N=1<<I,H=L.delay===void 0?0:L.delay,V=L.disposal===void 0?0:L.disposal;if(V<0||3<V)throw new Error("Disposal out of range.");var G=!1,Y=0;if(L.transparent!==void 0&&L.transparent!==null&&(G=!0,(Y=L.transparent)<0||N<=Y))throw new Error("Transparent color index.");if(V===0&&!G&&H===0||(i[c++]=33,i[c++]=249,i[c++]=4,i[c++]=V<<2|(G===!0?1:0),i[c++]=255&H,i[c++]=H>>8&255,i[c++]=Y,i[c++]=0),i[c++]=44,i[c++]=255&D,i[c++]=D>>8&255,i[c++]=255&E,i[c++]=E>>8&255,i[c++]=255&T,i[c++]=T>>8&255,i[c++]=255&F,i[c++]=F>>8&255,i[c++]=O===!0?128|I-1:0,O===!0)for(var K=0,se=B.length;K<se;++K){var M=B[K];i[c++]=M>>16&255,i[c++]=M>>8&255,i[c++]=255&M}return c=function(R,z,W,J){R[z++]=W;var te=z++,ie=1<<W,de=ie-1,oe=1+ie,he=1+oe,le=W+1,ee=0,pe=0;function _e(we){for(;we<=ee;)R[z++]=255&pe,pe>>=8,ee-=8,z===te+256&&(R[te]=255,te=z++)}function De(we){pe|=we<<ee,ee+=le,_e(8)}var xe=J[0]&de,je={};De(ie);for(var Te=1,Ge=J.length;Te<Ge;++Te){var Oe=J[Te]&de,ae=xe<<8|Oe,ge=je[ae];if(ge===void 0){for(pe|=xe<<ee,ee+=le;8<=ee;)R[z++]=255&pe,pe>>=8,ee-=8,z===te+256&&(R[te]=255,te=z++);he===4096?(De(ie),he=1+oe,le=W+1,je={}):(1<<le<=he&&++le,je[ae]=he++),xe=Oe}else xe=ge}return De(xe),De(oe),_e(1),te+1===z?R[te]=0:(R[te]=z-te-1,R[z++]=0),z}(i,c,I<2?2:I,A)},this.end=function(){return S===!1&&(i[c++]=59,S=!0),c},this.getOutputBuffer=function(){return i},this.setOutputBuffer=function(D){i=D},this.getOutputBufferPosition=function(){return c},this.setOutputBufferPosition=function(D){c=D}}function u(i,d,p,m){for(var c=i[d++],h=1<<c,v=1+h,f=1+v,y=c+1,g=(1<<y)-1,b=0,x=0,_=0,j=i[d++],S=new Int32Array(4096),D=null;;){for(;b<16&&j!==0;)x|=i[d++]<<b,b+=8,j===1?j=i[d++]:--j;if(b<y)break;var E=x&g;if(x>>=y,b-=y,E==h)f=1+v,g=(1<<(y=c+1))-1,D=null;else{if(E==v)break;for(var T=E<f?E:D,F=0,A=T;h<A;)A=S[A]>>8,++F;var L=A;if(m<_+F+(T!==E?1:0))return void console.log("Warning, gif stream longer than expected.");p[_++]=L;var O=_+=F;for(T!==E&&(p[_++]=L),A=T;F--;)A=S[A],p[--O]=255&A,A>>=8;D!==null&&f<4096&&(S[f++]=D<<8|L,g+1<=f&&y<12&&(++y,g=g<<1|1)),D=E}}_!==m&&console.log("Warning, gif stream shorter than expected.")}try{l.GifWriter=o,l.GifReader=function(i){var d=0;if(i[d++]!==71||i[d++]!==73||i[d++]!==70||i[d++]!==56||(i[d++]+1&253)!=56||i[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var p=i[d++]|i[d++]<<8,m=i[d++]|i[d++]<<8,c=i[d++],h=1<<1+(7&c),v=(i[d++],i[d++],null),f=null,y=(c>>7&&(v=d,d+=3*(f=h)),!0),g=[],b=0,x=null,_=0,j=null;for(this.width=p,this.height=m;y&&d<i.length;)switch(i[d++]){case 33:switch(i[d++]){case 255:if(i[d]!==11||i[d+1]==78&&i[d+2]==69&&i[d+3]==84&&i[d+4]==83&&i[d+5]==67&&i[d+6]==65&&i[d+7]==80&&i[d+8]==69&&i[d+9]==50&&i[d+10]==46&&i[d+11]==48&&i[d+12]==3&&i[d+13]==1&&i[d+16]==0)d+=14,j=i[d++]|i[d++]<<8,d++;else for(d+=12;;){if(!(0<=(D=i[d++])))throw Error("Invalid block size");if(D===0)break;d+=D}break;case 249:if(i[d++]!==4||i[d+4]!==0)throw new Error("Invalid graphics extension block.");var S=i[d++],b=i[d++]|i[d++]<<8,x=i[d++];(1&S)==0&&(x=null),_=S>>2&7,d++;break;case 254:for(;;){if(!(0<=(D=i[d++])))throw Error("Invalid block size");if(D===0)break;d+=D}break;default:throw new Error("Unknown graphic control label: 0x"+i[d-1].toString(16))}break;case 44:var D,E=i[d++]|i[d++]<<8,T=i[d++]|i[d++]<<8,F=i[d++]|i[d++]<<8,A=i[d++]|i[d++]<<8,H=i[d++],L=H>>6&1,O=1<<1+(7&H),B=v,I=f,N=!1,H=(H>>7&&(N=!0,B=d,d+=3*(I=O)),d);for(d++;;){if(!(0<=(D=i[d++])))throw Error("Invalid block size");if(D===0)break;d+=D}g.push({x:E,y:T,width:F,height:A,has_local_palette:N,palette_offset:B,palette_size:I,data_offset:H,data_length:d-H,transparent_index:x,interlaced:!!L,delay:b,disposal:_});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+i[d-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return j},this.frameInfo=function(V){if(V<0||V>=g.length)throw new Error("Frame index out of range.");return g[V]},this.decodeAndBlitFrameBGRA=function(V,G){for(var V=this.frameInfo(V),Y=V.width*V.height,K=new Uint8Array(Y),se=(u(i,V.data_offset,K,Y),V.palette_offset),M=V.transparent_index,R=(M===null&&(M=256),V.width),z=p-R,W=R,J=4*(V.y*p+V.x),te=4*((V.y+V.height)*p+V.x),ie=J,de=4*z,oe=(V.interlaced===!0&&(de+=4*p*7),8),he=0,le=K.length;he<le;++he){var ee,pe,_e=K[he];W===0&&(W=R,te<=(ie+=de)&&(de=4*z+4*p*(oe-1),ie=J+(R+z)*(oe<<1),oe>>=1)),_e===M?ie+=4:(ee=i[se+3*_e],pe=i[se+3*_e+1],_e=i[se+3*_e+2],G[ie++]=_e,G[ie++]=pe,G[ie++]=ee,G[ie++]=255),--W}},this.decodeAndBlitFrameRGBA=function(V,G){for(var V=this.frameInfo(V),Y=V.width*V.height,K=new Uint8Array(Y),se=(u(i,V.data_offset,K,Y),V.palette_offset),M=V.transparent_index,R=(M===null&&(M=256),V.width),z=p-R,W=R,J=4*(V.y*p+V.x),te=4*((V.y+V.height)*p+V.x),ie=J,de=4*z,oe=(V.interlaced===!0&&(de+=4*p*7),8),he=0,le=K.length;he<le;++he){var ee,pe,_e=K[he];W===0&&(W=R,te<=(ie+=de)&&(de=4*z+4*p*(oe-1),ie=J+(R+z)*(oe<<1),oe>>=1)),_e===M?ie+=4:(ee=i[se+3*_e],pe=i[se+3*_e+1],_e=i[se+3*_e+2],G[ie++]=ee,G[ie++]=pe,G[ie++]=_e,G[ie++]=255),--W}}}}catch{}},{}],257:[function(t,a,l){(function(o){var u,i;u=this,i=function(d){function p(U){if(this==null)throw TypeError();var C,k=String(this),P=k.length,U=U?Number(U):0;if(!((U=U!=U?0:U)<0||P<=U))return 55296<=(C=k.charCodeAt(U))&&C<=56319&&U+1<P&&56320<=(P=k.charCodeAt(U+1))&&P<=57343?1024*(C-55296)+P-56320+65536:C}String.prototype.codePointAt||((m=function(){try{var w={},C=Object.defineProperty,k=C(w,w,w)&&C}catch{}return k}())?m(String.prototype,"codePointAt",{value:p,configurable:!0,writable:!0}):String.prototype.codePointAt=p);var m,c=0,h=-3;function v(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(w,C){this.source=w,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=C,this.destLen=0,this.ltree=new v,this.dtree=new v}var y=new v,g=new v,b=new Uint8Array(30),x=new Uint16Array(30),_=new Uint8Array(30),j=new Uint16Array(30),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D=new v,E=new Uint8Array(320);function T(w,C,k,P){for(var U,q=0;q<k;++q)w[q]=0;for(q=0;q<30-k;++q)w[q+k]=q/k|0;for(U=P,q=0;q<30;++q)C[q]=U,U+=1<<w[q]}var F=new Uint16Array(16);function A(w,C,k,P){for(var U,q=0;q<16;++q)w.table[q]=0;for(q=0;q<P;++q)w.table[C[k+q]]++;for(q=U=w.table[0]=0;q<16;++q)F[q]=U,U+=w.table[q];for(q=0;q<P;++q)C[k+q]&&(w.trans[F[C[k+q]]++]=q)}function L(w,C,k){if(!C)return k;for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;var P=w.tag&65535>>>16-C;return w.tag>>>=C,w.bitcount-=C,P+k}function O(w,C){for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;for(var k=0,P=0,U=0,q=w.tag;P=2*P+(1&q),q>>>=1,k+=C.table[++U],0<=(P-=C.table[U]););return w.tag=q,w.bitcount-=U,C.trans[k+P]}function B(w,C,k){for(;;){var P=O(w,C);if(P===256)return c;if(P<256)w.dest[w.destLen++]=P;else for(var U,q=L(w,b[P-=257],x[P]),P=O(w,k),X=U=w.destLen-L(w,_[P],j[P]);X<U+q;++X)w.dest[w.destLen++]=w.dest[X]}}for(var I=y,N=g,H=0;H<7;++H)I.table[H]=0;for(I.table[7]=24,I.table[8]=152,I.table[9]=112,H=0;H<24;++H)I.trans[H]=256+H;for(H=0;H<144;++H)I.trans[24+H]=H;for(H=0;H<8;++H)I.trans[168+H]=280+H;for(H=0;H<112;++H)I.trans[176+H]=144+H;for(H=0;H<5;++H)N.table[H]=0;for(N.table[5]=32,H=0;H<32;++H)N.trans[H]=H;T(b,x,4,3),T(_,j,2,1),b[28]=0,x[28]=258;var V=function(w,C){var k,P,U,q=new f(w,C);do{switch(U=void 0,(P=q).bitcount--||(P.tag=P.source[P.sourceIndex++],P.bitcount=7),U=1&P.tag,P.tag>>>=1,P=U,L(q,2,0)){case 0:k=function(Le){for(var st,pt;8<Le.bitcount;)Le.sourceIndex--,Le.bitcount-=8;if((st=256*Le.source[Le.sourceIndex+1]+Le.source[Le.sourceIndex])!==(65535&~(256*Le.source[Le.sourceIndex+3]+Le.source[Le.sourceIndex+2])))return h;for(Le.sourceIndex+=4,pt=st;pt;--pt)Le.dest[Le.destLen++]=Le.source[Le.sourceIndex++];return Le.bitcount=0,c}(q);break;case 1:k=B(q,y,g);break;case 2:Be=Ie=Ue=Pe=X=ye=Ae=Fe=Se=ue=fe=re=void 0;for(var X,re=q,fe=q.ltree,ue=q.dtree,Se=L(re,5,257),Fe=L(re,5,1),Ae=L(re,4,4),ye=0;ye<19;++ye)E[ye]=0;for(ye=0;ye<Ae;++ye){var Ue=L(re,3,0);E[S[ye]]=Ue}for(A(D,E,0,19),X=0;X<Se+Fe;){var Ie=O(re,D);switch(Ie){case 16:for(var Be=E[X-1],Pe=L(re,2,3);Pe;--Pe)E[X++]=Be;break;case 17:for(Pe=L(re,3,3);Pe;--Pe)E[X++]=0;break;case 18:for(Pe=L(re,7,11);Pe;--Pe)E[X++]=0;break;default:E[X++]=Ie}}A(fe,E,0,Se),A(ue,E,Se,Fe),k=B(q,q.ltree,q.dtree);break;default:k=h}if(k!==c)throw new Error("Data error")}while(!P);return q.destLen<q.dest.length?typeof q.dest.slice=="function"?q.dest.slice(0,q.destLen):q.dest.subarray(0,q.destLen):q.dest};function G(w,C,k,P,U){return Math.pow(1-U,3)*w+3*Math.pow(1-U,2)*U*C+3*(1-U)*Math.pow(U,2)*k+Math.pow(U,3)*P}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function K(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function se(w){throw new Error(w)}function M(w,C){w||se(C)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(w,C){typeof w=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=w,this.x2=w),w<this.x1&&(this.x1=w),w>this.x2&&(this.x2=w)),typeof C=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=C,this.y2=C),C<this.y1&&(this.y1=C),C>this.y2&&(this.y2=C))},Y.prototype.addX=function(w){this.addPoint(w,null)},Y.prototype.addY=function(w){this.addPoint(null,w)},Y.prototype.addBezier=function(w,C,k,P,U,q,X,re){var fe=[w,C],ue=[k,P],Se=[U,q],Fe=[X,re];this.addPoint(w,C),this.addPoint(X,re);for(var Ae=0;Ae<=1;Ae++){var ye,Ue=6*fe[Ae]-12*ue[Ae]+6*Se[Ae],Ie=-3*fe[Ae]+9*ue[Ae]-9*Se[Ae]+3*Fe[Ae],Be=3*ue[Ae]-3*fe[Ae];Ie==0?Ue==0||0<(ye=-Be/Ue)&&ye<1&&(Ae===0&&this.addX(G(fe[Ae],ue[Ae],Se[Ae],Fe[Ae],ye)),Ae===1&&this.addY(G(fe[Ae],ue[Ae],Se[Ae],Fe[Ae],ye))):(ye=Math.pow(Ue,2)-4*Be*Ie)<0||(0<(Be=(-Ue+Math.sqrt(ye))/(2*Ie))&&Be<1&&(Ae===0&&this.addX(G(fe[Ae],ue[Ae],Se[Ae],Fe[Ae],Be)),Ae===1&&this.addY(G(fe[Ae],ue[Ae],Se[Ae],Fe[Ae],Be))),0<(Be=(-Ue-Math.sqrt(ye))/(2*Ie))&&Be<1&&(Ae===0&&this.addX(G(fe[Ae],ue[Ae],Se[Ae],Fe[Ae],Be)),Ae===1&&this.addY(G(fe[Ae],ue[Ae],Se[Ae],Fe[Ae],Be))))}},Y.prototype.addQuad=function(w,C,k,P,U,q){k=w+2/3*(k-w),P=C+2/3*(P-C),this.addBezier(w,C,k,P,k+1/3*(U-w),P+1/3*(q-C),U,q)},K.prototype.moveTo=function(w,C){this.commands.push({type:"M",x:w,y:C})},K.prototype.lineTo=function(w,C){this.commands.push({type:"L",x:w,y:C})},K.prototype.curveTo=K.prototype.bezierCurveTo=function(w,C,k,P,U,q){this.commands.push({type:"C",x1:w,y1:C,x2:k,y2:P,x:U,y:q})},K.prototype.quadTo=K.prototype.quadraticCurveTo=function(w,C,k,P){this.commands.push({type:"Q",x1:w,y1:C,x:k,y:P})},K.prototype.close=K.prototype.closePath=function(){this.commands.push({type:"Z"})},K.prototype.extend=function(w){var C;if(w.commands)w=w.commands;else if(w instanceof Y)return C=w,this.moveTo(C.x1,C.y1),this.lineTo(C.x2,C.y1),this.lineTo(C.x2,C.y2),this.lineTo(C.x1,C.y2),void this.close();Array.prototype.push.apply(this.commands,w)},K.prototype.getBoundingBox=function(){for(var w=new Y,C=0,k=0,P=0,U=0,q=0;q<this.commands.length;q++){var X=this.commands[q];switch(X.type){case"M":w.addPoint(X.x,X.y),C=P=X.x,k=U=X.y;break;case"L":w.addPoint(X.x,X.y),P=X.x,U=X.y;break;case"Q":w.addQuad(P,U,X.x1,X.y1,X.x,X.y),P=X.x,U=X.y;break;case"C":w.addBezier(P,U,X.x1,X.y1,X.x2,X.y2,X.x,X.y),P=X.x,U=X.y;break;case"Z":P=C,U=k;break;default:throw new Error("Unexpected path command "+X.type)}}return w.isEmpty()&&w.addPoint(0,0),w},K.prototype.draw=function(w){w.beginPath();for(var C=0;C<this.commands.length;C+=1){var k=this.commands[C];k.type==="M"?w.moveTo(k.x,k.y):k.type==="L"?w.lineTo(k.x,k.y):k.type==="C"?w.bezierCurveTo(k.x1,k.y1,k.x2,k.y2,k.x,k.y):k.type==="Q"?w.quadraticCurveTo(k.x1,k.y1,k.x,k.y):k.type==="Z"&&w.closePath()}this.fill&&(w.fillStyle=this.fill,w.fill()),this.stroke&&(w.strokeStyle=this.stroke,w.lineWidth=this.strokeWidth,w.stroke())},K.prototype.toPathData=function(w){function C(){for(var q=arguments,X="",re=0;re<arguments.length;re+=1){var fe=q[re];0<=fe&&0<re&&(X+=" "),X+=(fe=fe,Math.round(fe)===fe?""+Math.round(fe):fe.toFixed(w))}return X}w=w!==void 0?w:2;for(var k="",P=0;P<this.commands.length;P+=1){var U=this.commands[P];U.type==="M"?k+="M"+C(U.x,U.y):U.type==="L"?k+="L"+C(U.x,U.y):U.type==="C"?k+="C"+C(U.x1,U.y1,U.x2,U.y2,U.x,U.y):U.type==="Q"?k+="Q"+C(U.x1,U.y1,U.x,U.y):U.type==="Z"&&(k+="Z")}return k},K.prototype.toSVG=function(w){var C=(C='<path d="')+this.toPathData(w)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?C+=' fill="none"':C+=' fill="'+this.fill+'"'),this.stroke&&(C+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),C+="/>"},K.prototype.toDOMElement=function(C){var C=this.toPathData(C),k=document.createElementNS("http://www.w3.org/2000/svg","path");return k.setAttribute("d",C),k};var R={fail:se,argument:M,assert:M},z={},W={},J={};function te(w){return function(){return w}}W.BYTE=function(w){return R.argument(0<=w&&w<=255,"Byte value should be between 0 and 255."),[w]},J.BYTE=te(1),W.CHAR=function(w){return[w.charCodeAt(0)]},J.CHAR=te(1),W.CHARARRAY=function(w){for(var C=[],k=0;k<w.length;k+=1)C[k]=w.charCodeAt(k);return C},J.CHARARRAY=function(w){return w.length},W.USHORT=function(w){return[w>>8&255,255&w]},J.USHORT=te(2),W.SHORT=function(w){return[(w=32768<=w?-(65536-w):w)>>8&255,255&w]},J.SHORT=te(2),W.UINT24=function(w){return[w>>16&255,w>>8&255,255&w]},J.UINT24=te(3),W.ULONG=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},J.ULONG=te(4),W.LONG=function(w){return[(w=2147483648<=w?-(4294967296-w):w)>>24&255,w>>16&255,w>>8&255,255&w]},J.LONG=te(4),W.FIXED=W.ULONG,J.FIXED=J.ULONG,W.FWORD=W.SHORT,J.FWORD=J.SHORT,W.UFWORD=W.USHORT,J.UFWORD=J.USHORT,W.LONGDATETIME=function(w){return[0,0,0,0,w>>24&255,w>>16&255,w>>8&255,255&w]},J.LONGDATETIME=te(8),W.TAG=function(w){return R.argument(w.length===4,"Tag should be exactly 4 ASCII characters."),[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]},J.TAG=te(4),W.Card8=W.BYTE,J.Card8=J.BYTE,W.Card16=W.USHORT,J.Card16=J.USHORT,W.OffSize=W.BYTE,J.OffSize=J.BYTE,W.SID=W.USHORT,J.SID=J.USHORT,W.NUMBER=function(w){return-107<=w&&w<=107?[w+139]:108<=w&&w<=1131?[247+((w-=108)>>8),255&w]:-1131<=w&&w<=-108?[251+((w=-w-108)>>8),255&w]:-32768<=w&&w<=32767?W.NUMBER16(w):W.NUMBER32(w)},J.NUMBER=function(w){return W.NUMBER(w).length},W.NUMBER16=function(w){return[28,w>>8&255,255&w]},J.NUMBER16=te(3),W.NUMBER32=function(w){return[29,w>>24&255,w>>16&255,w>>8&255,255&w]},J.NUMBER32=te(5),W.REAL=function(w){for(var C=w.toString(),k=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(C),P=(k&&(k=parseFloat("1e"+((k[2]?+k[2]:0)+k[1].length)),C=(Math.round(w*k)/k).toString()),""),U=0,q=C.length;U<q;U+=1){var X=C[U];P+=X==="e"?C[++U]==="-"?"c":"b":X==="."?"a":X==="-"?"e":X}for(var re=[30],fe=0,ue=(P+=1&P.length?"f":"ff").length;fe<ue;fe+=2)re.push(parseInt(P.substr(fe,2),16));return re},J.REAL=function(w){return W.REAL(w).length},W.NAME=W.CHARARRAY,J.NAME=J.CHARARRAY,W.STRING=W.CHARARRAY,J.STRING=J.CHARARRAY,z.UTF8=function(w,C,k){for(var P=[],U=k,q=0;q<U;q++,C+=1)P[q]=w.getUint8(C);return String.fromCharCode.apply(null,P)},z.UTF16=function(w,C,k){for(var P=[],U=k/2,q=0;q<U;q++,C+=2)P[q]=w.getUint16(C);return String.fromCharCode.apply(null,P)},W.UTF16=function(w){for(var C=[],k=0;k<w.length;k+=1){var P=w.charCodeAt(k);C[C.length]=P>>8&255,C[C.length]=255&P}return C},J.UTF16=function(w){return 2*w.length};var ie,de={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},oe=(z.MACSTRING=function(w,C,k,P){var U=de[P];if(U!==void 0){for(var q="",X=0;X<k;X++){var re=w.getUint8(C+X);q+=re<=127?String.fromCharCode(re):U[127&re]}return q}},typeof WeakMap=="function"&&new WeakMap);function he(w){return-128<=w&&w<=127}W.MACSTRING=function(w,C){var k=function(X){if(!ie)for(var re in ie={},de)ie[re]=new String(re);var fe=ie[X];if(fe!==void 0){if(oe){var ue=oe.get(fe);if(ue!==void 0)return ue}var Se=de[X];if(Se!==void 0){for(var Fe={},Ae=0;Ae<Se.length;Ae++)Fe[Se.charCodeAt(Ae)]=Ae+128;return oe&&oe.set(fe,Fe),Fe}}}(C);if(k!==void 0){for(var P=[],U=0;U<w.length;U++){var q=w.charCodeAt(U);if(128<=q&&(q=k[q])===void 0)return;P[U]=q}return P}},J.MACSTRING=function(w,C){return w=W.MACSTRING(w,C),w!==void 0?w.length:0},W.VARDELTAS=function(w){for(var P=0,C=[];P<w.length;)var k=w[P],P=(k===0?function(U,q,X){for(var re=0,fe=U.length;q<fe&&re<64&&U[q]===0;)++q,++re;return X.push(128|re-1),q}:-128<=k&&k<=127?function(U,q,X){for(var re=0,fe=U.length,ue=q;ue<fe&&re<64;){var Se=U[ue];if(!he(Se)||Se===0&&ue+1<fe&&U[ue+1]===0)break;++ue,++re}X.push(re-1);for(var Fe=q;Fe<ue;++Fe)X.push(U[Fe]+256&255);return ue}:function(U,q,X){for(var re=0,fe=U.length,ue=q;ue<fe&&re<64;){var Se=U[ue];if(Se===0||he(Se)&&ue+1<fe&&he(U[ue+1]))break;++ue,++re}X.push(64|re-1);for(var Fe=q;Fe<ue;++Fe){var Ae=U[Fe];X.push(Ae+65536>>8&255,Ae+256&255)}return ue})(w,P,C);return C},W.INDEX=function(w){for(var C=1,k=[C],P=[],U=0;U<w.length;U+=1){var q=W.OBJECT(w[U]);Array.prototype.push.apply(P,q),C+=q.length,k.push(C)}if(P.length===0)return[0,0];for(var X=[],re=1+Math.floor(Math.log(C)/Math.log(2))/8|0,fe=[void 0,W.BYTE,W.USHORT,W.UINT24,W.ULONG][re],ue=0;ue<k.length;ue+=1){var Se=fe(k[ue]);Array.prototype.push.apply(X,Se)}return Array.prototype.concat(W.Card16(w.length),W.OffSize(re),X,P)},J.INDEX=function(w){return W.INDEX(w).length},W.DICT=function(w){for(var C=[],k=Object.keys(w),P=k.length,U=0;U<P;U+=1){var q=parseInt(k[U],0),X=w[q];C=(C=C.concat(W.OPERAND(X.value,X.type))).concat(W.OPERATOR(q))}return C},J.DICT=function(w){return W.DICT(w).length},W.OPERATOR=function(w){return w<1200?[w]:[12,w-1200]},W.OPERAND=function(w,C){var k=[];if(Array.isArray(C))for(var P=0;P<C.length;P+=1)R.argument(w.length===C.length,"Not enough arguments given for type"+C),k=k.concat(W.OPERAND(w[P],C[P]));else if(C==="SID")k=k.concat(W.NUMBER(w));else if(C==="offset")k=k.concat(W.NUMBER32(w));else if(C==="number")k=k.concat(W.NUMBER(w));else{if(C!=="real")throw new Error("Unknown operand type "+C);k=k.concat(W.REAL(w))}return k},W.OP=W.BYTE,J.OP=J.BYTE;var le=typeof WeakMap=="function"&&new WeakMap;function ee(w,C,k){for(var P=0;P<C.length;P+=1){var U=C[P];this[U.name]=U.value}if(this.tableName=w,this.fields=C,k)for(var q=Object.keys(k),X=0;X<q.length;X+=1){var re=q[X],fe=k[re];this[re]!==void 0&&(this[re]=fe)}}function pe(w,C,k){k===void 0&&(k=C.length);var P=new Array(C.length+1);P[0]={name:w+"Count",type:"USHORT",value:k};for(var U=0;U<C.length;U++)P[U+1]={name:w+U,type:"USHORT",value:C[U]};return P}function _e(w,C,k){var P=C.length,U=new Array(P+1);U[0]={name:w+"Count",type:"USHORT",value:P};for(var q=0;q<P;q++)U[q+1]={name:w+q,type:"TABLE",value:k(C[q],q)};return U}function De(w,C,k){var P=C.length,U=[];U[0]={name:w+"Count",type:"USHORT",value:P};for(var q=0;q<P;q++)U=U.concat(k(C[q],q));return U}function xe(w){w.format===1?ee.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(pe("glyph",w.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function je(w){ee.call(this,"scriptListTable",De("scriptRecord",w,function(C,k){var P=C.script,U=P.defaultLangSys;return R.assert(!!U,"Unable to write GSUB: script "+C.tag+" has no default language system."),[{name:"scriptTag"+k,type:"TAG",value:C.tag},{name:"script"+k,type:"TABLE",value:new ee("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ee("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:U.reqFeatureIndex}].concat(pe("featureIndex",U.featureIndexes)))}].concat(De("langSys",P.langSysRecords,function(q,X){var re=q.langSys;return[{name:"langSysTag"+X,type:"TAG",value:q.tag},{name:"langSys"+X,type:"TABLE",value:new ee("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:re.reqFeatureIndex}].concat(pe("featureIndex",re.featureIndexes)))}]})))}]}))}function Te(w){ee.call(this,"featureListTable",De("featureRecord",w,function(C,k){var P=C.feature;return[{name:"featureTag"+k,type:"TAG",value:C.tag},{name:"feature"+k,type:"TABLE",value:new ee("featureTable",[{name:"featureParams",type:"USHORT",value:P.featureParams}].concat(pe("lookupListIndex",P.lookupListIndexes)))}]}))}function Ge(w,C){ee.call(this,"lookupListTable",_e("lookup",w,function(k){var P=C[k.lookupType];return R.assert(!!P,"Unable to write GSUB lookup type "+k.lookupType+" tables."),new ee("lookupTable",[{name:"lookupType",type:"USHORT",value:k.lookupType},{name:"lookupFlag",type:"USHORT",value:k.lookupFlag}].concat(_e("subtable",k.subtables,P)))}))}W.CHARSTRING=function(w){if(le){var C=le.get(w);if(C!==void 0)return C}for(var q=[],k=w.length,P=0;P<k;P+=1)var U=w[P],q=q.concat(W[U.type](U.value));return le&&le.set(w,q),q},J.CHARSTRING=function(w){return W.CHARSTRING(w).length},W.OBJECT=function(w){var C=W[w.type];return R.argument(C!==void 0,"No encoding function for type "+w.type),C(w.value)},J.OBJECT=function(w){var C=J[w.type];return R.argument(C!==void 0,"No sizeOf function for type "+w.type),C(w.value)},W.TABLE=function(w){for(var C=[],k=w.fields.length,P=[],U=[],q=0;q<k;q+=1){var X=w.fields[q],fe=W[X.type],re=(R.argument(fe!==void 0,"No encoding function for field type "+X.type+" ("+X.name+")"),w[X.name]),fe=fe(re=re===void 0?X.value:re);X.type==="TABLE"?(U.push(C.length),C=C.concat([0,0]),P.push(fe)):C=C.concat(fe)}for(var ue=0;ue<P.length;ue+=1){var Se=U[ue],Fe=C.length;R.argument(Fe<65536,"Table "+w.tableName+" too big."),C[Se]=Fe>>8,C[Se+1]=255&Fe,C=C.concat(P[ue])}return C},J.TABLE=function(w){for(var C=0,k=w.fields.length,P=0;P<k;P+=1){var U=w.fields[P],q=J[U.type],X=(R.argument(q!==void 0,"No sizeOf function for field type "+U.type+" ("+U.name+")"),w[U.name]);C+=q(X=X===void 0?U.value:X),U.type==="TABLE"&&(C+=2)}return C},W.RECORD=W.TABLE,J.RECORD=J.TABLE,W.LITERAL=function(w){return w},J.LITERAL=function(w){return w.length},ee.prototype.encode=function(){return W.TABLE(this)},ee.prototype.sizeOf=function(){return J.TABLE(this)};var Oe={Table:ee,Record:ee,Coverage:(xe.prototype=Object.create(ee.prototype)).constructor=xe,ScriptList:(je.prototype=Object.create(ee.prototype)).constructor=je,FeatureList:(Te.prototype=Object.create(ee.prototype)).constructor=Te,LookupList:(Ge.prototype=Object.create(ee.prototype)).constructor=Ge,ushortList:pe,tableList:_e,recordList:De};function ae(w,C){return w.getUint8(C)}function ge(w,C){return w.getUint16(C,!1)}function we(w,C){return w.getUint32(C,!1)}function Me(w,C){return w.getInt16(C,!1)+w.getUint16(C+2,!1)/65535}var ke={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ce(w,C){this.data=w,this.offset=C,this.relativeOffset=0}ce.prototype.parseByte=function(){var w=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},ce.prototype.parseChar=function(){var w=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},ce.prototype.parseCard8=ce.prototype.parseByte,ce.prototype.parseCard16=ce.prototype.parseUShort=function(){var w=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},ce.prototype.parseSID=ce.prototype.parseUShort,ce.prototype.parseOffset16=ce.prototype.parseUShort,ce.prototype.parseShort=function(){var w=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},ce.prototype.parseF2Dot14=function(){var w=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,w},ce.prototype.parseOffset32=ce.prototype.parseULong=function(){var w=we(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},ce.prototype.parseFixed=function(){var w=Me(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},ce.prototype.parseString=function(w){var C=this.data,k=this.offset+this.relativeOffset,P="";this.relativeOffset+=w;for(var U=0;U<w;U++)P+=String.fromCharCode(C.getUint8(k+U));return P},ce.prototype.parseTag=function(){return this.parseString(4)},ce.prototype.parseLongDateTime=function(){var w=we(this.data,this.offset+this.relativeOffset+4);return w-=2082844800,this.relativeOffset+=8,w},ce.prototype.parseVersion=function(w){var C=ge(this.data,this.offset+this.relativeOffset),k=ge(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,C+k/(w=w===void 0?4096:w)/10},ce.prototype.skip=function(w,C){this.relativeOffset+=ke[w]*(C=C===void 0?1:C)},ce.prototype.parseULongList=function(w){w===void 0&&(w=this.parseULong());for(var C=new Array(w),k=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)C[U]=k.getUint32(P),P+=4;return this.relativeOffset+=4*w,C},ce.prototype.parseOffset16List=ce.prototype.parseUShortList=function(w){w===void 0&&(w=this.parseUShort());for(var C=new Array(w),k=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)C[U]=k.getUint16(P),P+=2;return this.relativeOffset+=2*w,C},ce.prototype.parseShortList=function(w){for(var C=new Array(w),k=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)C[U]=k.getInt16(P),P+=2;return this.relativeOffset+=2*w,C},ce.prototype.parseByteList=function(w){for(var C=new Array(w),k=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)C[U]=k.getUint8(P++);return this.relativeOffset+=w,C},ce.prototype.parseList=function(w,C){C||(C=w,w=this.parseUShort());for(var k=new Array(w),P=0;P<w;P++)k[P]=C.call(this);return k},ce.prototype.parseList32=function(w,C){C||(C=w,w=this.parseULong());for(var k=new Array(w),P=0;P<w;P++)k[P]=C.call(this);return k},ce.prototype.parseRecordList=function(w,C){C||(C=w,w=this.parseUShort());for(var k=new Array(w),P=Object.keys(C),U=0;U<w;U++){for(var q={},X=0;X<P.length;X++){var re=P[X],fe=C[re];q[re]=fe.call(this)}k[U]=q}return k},ce.prototype.parseRecordList32=function(w,C){C||(C=w,w=this.parseULong());for(var k=new Array(w),P=Object.keys(C),U=0;U<w;U++){for(var q={},X=0;X<P.length;X++){var re=P[X],fe=C[re];q[re]=fe.call(this)}k[U]=q}return k},ce.prototype.parseStruct=function(w){if(typeof w=="function")return w.call(this);for(var C=Object.keys(w),k={},P=0;P<C.length;P++){var U=C[P],q=w[U];k[U]=q.call(this)}return k},ce.prototype.parseValueRecord=function(w){var C;if((w=w===void 0?this.parseUShort():w)!==0)return C={},1&w&&(C.xPlacement=this.parseShort()),2&w&&(C.yPlacement=this.parseShort()),4&w&&(C.xAdvance=this.parseShort()),8&w&&(C.yAdvance=this.parseShort()),16&w&&(C.xPlaDevice=void 0,this.parseShort()),32&w&&(C.yPlaDevice=void 0,this.parseShort()),64&w&&(C.xAdvDevice=void 0,this.parseShort()),128&w&&(C.yAdvDevice=void 0,this.parseShort()),C},ce.prototype.parseValueRecordList=function(){for(var w=this.parseUShort(),C=this.parseUShort(),k=new Array(C),P=0;P<C;P++)k[P]=this.parseValueRecord(w);return k},ce.prototype.parsePointer=function(w){var C=this.parseOffset16();if(0<C)return new ce(this.data,this.offset+C).parseStruct(w)},ce.prototype.parsePointer32=function(w){var C=this.parseOffset32();if(0<C)return new ce(this.data,this.offset+C).parseStruct(w)},ce.prototype.parseListOfLists=function(w){for(var C=this.parseOffset16List(),k=C.length,P=this.relativeOffset,U=new Array(k),q=0;q<k;q++){var X=C[q];if(X===0)U[q]=void 0;else if(this.relativeOffset=X,w){for(var re=this.parseOffset16List(),fe=new Array(re.length),ue=0;ue<re.length;ue++)this.relativeOffset=X+re[ue],fe[ue]=w.call(this);U[q]=fe}else U[q]=this.parseUShortList()}return this.relativeOffset=P,U},ce.prototype.parseCoverage=function(){var w=this.offset+this.relativeOffset,C=this.parseUShort(),k=this.parseUShort();if(C===1)return{format:1,glyphs:this.parseUShortList(k)};if(C!==2)throw new Error("0x"+w.toString(16)+": Coverage format must be 1 or 2.");for(var P=new Array(k),U=0;U<k;U++)P[U]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:P}},ce.prototype.parseClassDef=function(){var w=this.offset+this.relativeOffset,C=this.parseUShort();if(C===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(C===2)return{format:2,ranges:this.parseRecordList({start:ce.uShort,end:ce.uShort,classId:ce.uShort})};throw new Error("0x"+w.toString(16)+": ClassDef format must be 1 or 2.")},ce.list=function(w,C){return function(){return this.parseList(w,C)}},ce.list32=function(w,C){return function(){return this.parseList32(w,C)}},ce.recordList=function(w,C){return function(){return this.parseRecordList(w,C)}},ce.recordList32=function(w,C){return function(){return this.parseRecordList32(w,C)}},ce.pointer=function(w){return function(){return this.parsePointer(w)}},ce.pointer32=function(w){return function(){return this.parsePointer32(w)}},ce.tag=ce.prototype.parseTag,ce.byte=ce.prototype.parseByte,ce.uShort=ce.offset16=ce.prototype.parseUShort,ce.uShortList=ce.prototype.parseUShortList,ce.uLong=ce.offset32=ce.prototype.parseULong,ce.uLongList=ce.prototype.parseULongList,ce.struct=ce.prototype.parseStruct,ce.coverage=ce.prototype.parseCoverage,ce.classDef=ce.prototype.parseClassDef;var Ce={reserved:ce.uShort,reqFeatureIndex:ce.uShort,featureIndexes:ce.uShortList},me=(ce.prototype.parseScriptList=function(){return this.parsePointer(ce.recordList({tag:ce.tag,script:ce.pointer({defaultLangSys:ce.pointer(Ce),langSysRecords:ce.recordList({tag:ce.tag,langSys:ce.pointer(Ce)})})}))||[]},ce.prototype.parseFeatureList=function(){return this.parsePointer(ce.recordList({tag:ce.tag,feature:ce.pointer({featureParams:ce.offset16,lookupListIndexes:ce.uShortList})}))||[]},ce.prototype.parseLookupList=function(w){return this.parsePointer(ce.list(ce.pointer(function(){var C=this.parseUShort(),k=(R.argument(1<=C&&C<=9,"GPOS/GSUB lookup type "+C+" unknown."),this.parseUShort()),P=16&k;return{lookupType:C,lookupFlag:k,subtables:this.parseList(ce.pointer(w[C])),markFilteringSet:P?this.parseUShort():void 0}})))||[]},ce.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var w=this.parseUShort(),C=this.parseUShort();return R.argument(w===1&&C<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ce.offset32,featureTableSubstitutionOffset:ce.offset32})})||[]},{getByte:ae,getCard8:ae,getUShort:ge,getCard16:ge,getShort:function(w,C){return w.getInt16(C,!1)},getULong:we,getFixed:Me,getTag:function(w,C){for(var k="",P=C;P<C+4;P+=1)k+=String.fromCharCode(w.getInt8(P));return k},getOffset:function(w,C,k){for(var P=0,U=0;U<k;U+=1)P=(P<<=8)+w.getUint8(C+U);return P},getBytes:function(w,C,k){for(var P=[],U=C;U<k;U+=1)P.push(w.getUint8(U));return P},bytesToString:function(w){for(var C="",k=0;k<w.length;k+=1)C+=String.fromCharCode(w[k]);return C},Parser:ce}),Z={parse:function(w,C){for(var k={},P=(k.version=me.getUShort(w,C),R.argument(k.version===0,"cmap table version should be 0."),k.numTables=me.getUShort(w,C+2),-1),U=k.numTables-1;0<=U;--U){var q=me.getUShort(w,C+4+8*U),X=me.getUShort(w,C+4+8*U+2);if(q===3&&(X===0||X===1||X===10)||q===0&&(X===0||X===1||X===2||X===3||X===4)){P=me.getULong(w,C+4+8*U+4);break}}if(P===-1)throw new Error("No valid cmap sub-tables found.");var re=new me.Parser(w,C+P);if(k.format=re.parseUShort(),k.format===12){var fe,ue=k,Se=re;Se.parseUShort(),ue.length=Se.parseULong(),ue.language=Se.parseULong(),ue.groupCount=fe=Se.parseULong(),ue.glyphIndexMap={};for(var Fe=0;Fe<fe;Fe+=1)for(var Ae=Se.parseULong(),ye=Se.parseULong(),Ue=Se.parseULong(),Ie=Ae;Ie<=ye;Ie+=1)ue.glyphIndexMap[Ie]=Ue,Ue++}else{if(k.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+k.format+").");var Be=k,Pe=w,Le=C,st=P;Be.length=re.parseUShort(),Be.language=re.parseUShort(),Be.segCount=pt=re.parseUShort()>>1,re.skip("uShort",3),Be.glyphIndexMap={};for(var pt,ot=new me.Parser(Pe,Le+st+14),it=new me.Parser(Pe,Le+st+16+2*pt),vt=new me.Parser(Pe,Le+st+16+4*pt),Pt=new me.Parser(Pe,Le+st+16+6*pt),$t=Le+st+16+8*pt,nr=0;nr<pt-1;nr+=1)for(var br=void 0,_r=ot.parseUShort(),Vr=it.parseUShort(),Ot=vt.parseShort(),Rt=Pt.parseUShort(),Et=Vr;Et<=_r;Et+=1)Rt!==0?($t=($t=Pt.offset+Pt.relativeOffset-2)+Rt+2*(Et-Vr),(br=me.getUShort(Pe,$t))!==0&&(br=br+Ot&65535)):br=Et+Ot&65535,Be.glyphIndexMap[Et]=br}return k},make:function(w){for(var C=!0,k=w.length-1;0<k;--k)if(65535<w.get(k).unicode){console.log("Adding CMAP format 12 (needed!)"),C=!1;break}var P,U,q=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:C?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:C?12:20}],X=(q=(q=C?q:q.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Oe.Table("cmap",q));for(X.segments=[],k=0;k<w.length;k+=1){for(var re=w.get(k),fe=0;fe<re.unicodes.length;fe+=1)P=re.unicodes[fe],U=k,X.segments.push({end:P,start:P,delta:-(P-U),offset:0,glyphIndex:U});X.segments=X.segments.sort(function(Le,st){return Le.start-st.start})}X.segments.push({end:65535,start:65535,delta:1,offset:0});var ue=X.segments.length,Se=0,Fe=[],Ae=[],ye=[],Ue=[],Ie=[],Be=[];for(k=0;k<ue;k+=1){var Pe=X.segments[k];Pe.end<=65535&&Pe.start<=65535?(Fe=Fe.concat({name:"end_"+k,type:"USHORT",value:Pe.end}),Ae=Ae.concat({name:"start_"+k,type:"USHORT",value:Pe.start}),ye=ye.concat({name:"idDelta_"+k,type:"SHORT",value:Pe.delta}),Ue=Ue.concat({name:"idRangeOffset_"+k,type:"USHORT",value:Pe.offset}),Pe.glyphId!==void 0&&(Ie=Ie.concat({name:"glyph_"+k,type:"USHORT",value:Pe.glyphId}))):Se+=1,C||Pe.glyphIndex===void 0||(Be=(Be=(Be=Be.concat({name:"cmap12Start_"+k,type:"ULONG",value:Pe.start})).concat({name:"cmap12End_"+k,type:"ULONG",value:Pe.end})).concat({name:"cmap12Glyph_"+k,type:"ULONG",value:Pe.glyphIndex}))}return X.segCountX2=2*(ue-Se),X.searchRange=2*Math.pow(2,Math.floor(Math.log(ue-Se)/Math.log(2))),X.entrySelector=Math.log(X.searchRange/2)/Math.log(2),X.rangeShift=X.segCountX2-X.searchRange,X.fields=X.fields.concat(Fe),X.fields.push({name:"reservedPad",type:"USHORT",value:0}),X.fields=X.fields.concat(Ae),X.fields=X.fields.concat(ye),X.fields=X.fields.concat(Ue),X.fields=X.fields.concat(Ie),X.cmap4Length=14+2*Fe.length+2+2*Ae.length+2*ye.length+2*Ue.length+2*Ie.length,C||(q=16+4*Be.length,X.cmap12Offset=20+X.cmap4Length,X.fields=X.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:q},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Be.length/3}]),X.fields=X.fields.concat(Be)),X}},Q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],$=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ne=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],be=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ee(w){this.font=w}function Re(w){this.cmap=w}function Ve(w,C){this.encoding=w,this.charset=C}function Xe(w){switch(w.version){case 1:this.names=be.slice();break;case 2:this.names=new Array(w.numberOfGlyphs);for(var C=0;C<w.numberOfGlyphs;C++)w.glyphNameIndex[C]<be.length?this.names[C]=be[w.glyphNameIndex[C]]:this.names[C]=w.names[w.glyphNameIndex[C]-be.length];break;case 2.5:this.names=new Array(w.numberOfGlyphs);for(var k=0;k<w.numberOfGlyphs;k++)this.names[k]=be[k+w.glyphNameIndex[k]];break;default:this.names=[]}}Ee.prototype.charToGlyphIndex=function(w){var C=w.codePointAt(0),k=this.font.glyphs;if(k){for(var P=0;P<k.length;P+=1)for(var U=k.get(P),q=0;q<U.unicodes.length;q+=1)if(U.unicodes[q]===C)return P}return null},Re.prototype.charToGlyphIndex=function(w){return this.cmap.glyphIndexMap[w.codePointAt(0)]||0},Ve.prototype.charToGlyphIndex=function(w){return w=w.codePointAt(0),w=this.encoding[w],this.charset.indexOf(w)},Xe.prototype.nameToGlyphIndex=function(w){return this.names.indexOf(w)},Xe.prototype.glyphIndexToName=function(w){return this.names[w]};var Ye={line:function(w,C,k,P,U){w.beginPath(),w.moveTo(C,k),w.lineTo(P,U),w.stroke()}};function Ke(w){this.bindConstructorValues(w)}function ft(w,C,k){Object.defineProperty(w,C,{get:function(){return w.path,w[k]},set:function(P){w[k]=P},enumerable:!0,configurable:!0})}function ct(w,C){if(this.font=w,this.glyphs={},Array.isArray(C))for(var k=0;k<C.length;k++)this.glyphs[k]=C[k];this.length=C&&C.length||0}Ke.prototype.bindConstructorValues=function(w){var C;this.index=w.index||0,this.name=w.name||null,this.unicode=w.unicode||void 0,this.unicodes=w.unicodes||w.unicode!==void 0?[w.unicode]:[],w.xMin&&(this.xMin=w.xMin),w.yMin&&(this.yMin=w.yMin),w.xMax&&(this.xMax=w.xMax),w.yMax&&(this.yMax=w.yMax),w.advanceWidth&&(this.advanceWidth=w.advanceWidth),Object.defineProperty(this,"path",(w=w.path,C=w||new K,{configurable:!0,get:function(){return C=typeof C=="function"?C():C},set:function(k){C=k}}))},Ke.prototype.addUnicode=function(w){this.unicodes.length===0&&(this.unicode=w),this.unicodes.push(w)},Ke.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ke.prototype.getPath=function(w,C,k,P,U){w=w!==void 0?w:0,C=C!==void 0?C:0,k=k!==void 0?k:72;for(var q,X,re=(P=P||{}).xScale,fe=P.yScale,ue=((q=P.hinting&&U&&U.hinting?this.path&&U.hinting.exec(this,k):q)?(X=U.hinting.getCommands(q),w=Math.round(w),C=Math.round(C),re=fe=1):(X=this.path.commands,P=1/this.path.unitsPerEm*k,re===void 0&&(re=P),fe===void 0&&(fe=P)),new K),Se=0;Se<X.length;Se+=1){var Fe=X[Se];Fe.type==="M"?ue.moveTo(w+Fe.x*re,C+-Fe.y*fe):Fe.type==="L"?ue.lineTo(w+Fe.x*re,C+-Fe.y*fe):Fe.type==="Q"?ue.quadraticCurveTo(w+Fe.x1*re,C+-Fe.y1*fe,w+Fe.x*re,C+-Fe.y*fe):Fe.type==="C"?ue.curveTo(w+Fe.x1*re,C+-Fe.y1*fe,w+Fe.x2*re,C+-Fe.y2*fe,w+Fe.x*re,C+-Fe.y*fe):Fe.type==="Z"&&ue.closePath()}return ue},Ke.prototype.getContours=function(){if(this.points===void 0)return[];for(var w=[],C=[],k=0;k<this.points.length;k+=1){var P=this.points[k];C.push(P),P.lastPointOfContour&&(w.push(C),C=[])}return R.argument(C.length===0,"There are still points left in the current contour."),w},Ke.prototype.getMetrics=function(){for(var w=this.path.commands,C=[],k=[],P=0;P<w.length;P+=1){var U=w[P];U.type!=="Z"&&(C.push(U.x),k.push(U.y)),U.type!=="Q"&&U.type!=="C"||(C.push(U.x1),k.push(U.y1)),U.type==="C"&&(C.push(U.x2),k.push(U.y2))}var q={xMin:Math.min.apply(null,C),yMin:Math.min.apply(null,k),xMax:Math.max.apply(null,C),yMax:Math.max.apply(null,k),leftSideBearing:this.leftSideBearing};return isFinite(q.xMin)||(q.xMin=0),isFinite(q.xMax)||(q.xMax=this.advanceWidth),isFinite(q.yMin)||(q.yMin=0),isFinite(q.yMax)||(q.yMax=0),q.rightSideBearing=this.advanceWidth-q.leftSideBearing-(q.xMax-q.xMin),q},Ke.prototype.draw=function(w,C,k,P,U){this.getPath(C,k,P,U).draw(w)},Ke.prototype.drawPoints=function(w,C,k,P){function U(Se,Fe,Ae,ye){var Ue=2*Math.PI;w.beginPath();for(var Ie=0;Ie<Se.length;Ie+=1)w.moveTo(Fe+Se[Ie].x*ye,Ae+Se[Ie].y*ye),w.arc(Fe+Se[Ie].x*ye,Ae+Se[Ie].y*ye,2,0,Ue,!1);w.closePath(),w.fill()}C=C!==void 0?C:0,k=k!==void 0?k:0;for(var P=1/this.path.unitsPerEm*(P=P!==void 0?P:24),q=[],X=[],re=this.path,fe=0;fe<re.commands.length;fe+=1){var ue=re.commands[fe];ue.x!==void 0&&q.push({x:ue.x,y:-ue.y}),ue.x1!==void 0&&X.push({x:ue.x1,y:-ue.y1}),ue.x2!==void 0&&X.push({x:ue.x2,y:-ue.y2})}w.fillStyle="blue",U(q,C,k,P),w.fillStyle="red",U(X,C,k,P)},Ke.prototype.drawMetrics=function(w,C,k,P){C=C!==void 0?C:0,k=k!==void 0?k:0,P=1/this.path.unitsPerEm*(P=P!==void 0?P:24),w.lineWidth=1,w.strokeStyle="black",Ye.line(w,C,-1e4,C,1e4),Ye.line(w,-1e4,k,1e4,k);var U=this.xMin||0,q=this.yMin||0,X=this.xMax||0,re=this.yMax||0,fe=this.advanceWidth||0;w.strokeStyle="blue",Ye.line(w,C+U*P,-1e4,C+U*P,1e4),Ye.line(w,C+X*P,-1e4,C+X*P,1e4),Ye.line(w,-1e4,k+-q*P,1e4,k+-q*P),Ye.line(w,-1e4,k+-re*P,1e4,k+-re*P),w.strokeStyle="green",Ye.line(w,C+fe*P,-1e4,C+fe*P,1e4)},ct.prototype.get=function(w){return typeof this.glyphs[w]=="function"&&(this.glyphs[w]=this.glyphs[w]()),this.glyphs[w]},ct.prototype.push=function(w,C){this.glyphs[w]=C,this.length++};var tt={GlyphSet:ct,glyphLoader:function(w,C){return new Ke({index:C,font:w})},ttfGlyphLoader:function(w,C,k,P,U,q){return function(){var X=new Ke({index:C,font:w});return X.path=function(){k(X,P,U);var re=q(w.glyphs,X);return re.unitsPerEm=w.unitsPerEm,re},ft(X,"xMin","_xMin"),ft(X,"xMax","_xMax"),ft(X,"yMin","_yMin"),ft(X,"yMax","_yMax"),X}},cffGlyphLoader:function(w,C,k,P){return function(){var U=new Ke({index:C,font:w});return U.path=function(){var q=k(w,U,P);return q.unitsPerEm=w.unitsPerEm,q},U}}};function dt(w){return w=w.length<1240?107:w.length<33900?1131:32768,w}function at(w,C,k){var P,U=[],q=[],X=me.getCard16(w,C);if(X!==0){for(var re=me.getByte(w,C+2),fe=C+(X+1)*re+2,ue=C+3,Se=0;Se<X+1;Se+=1)U.push(me.getOffset(w,ue,re)),ue+=re;P=fe+U[X]}else P=C+2;for(var Fe=0;Fe<U.length-1;Fe+=1){var Ae=me.getBytes(w,fe+U[Fe],fe+U[Fe+1]);k&&(Ae=k(Ae)),q.push(Ae)}return{objects:q,startOffset:C,endOffset:P}}function Mt(w,C){if(C===28)return w.parseByte()<<8|w.parseByte();if(C===29)return w.parseByte()<<24|w.parseByte()<<16|w.parseByte()<<8|w.parseByte();if(C===30){for(var k=w,P="",U=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var X=k.parseByte(),q=X>>4,X=15&X;if(q==15||(P+=U[q],X==15))break;P+=U[X]}return parseFloat(P)}if(32<=C&&C<=246)return C-139;if(247<=C&&C<=250)return 256*(C-247)+w.parseByte()+108;if(251<=C&&C<=254)return 256*-(C-251)-w.parseByte()-108;throw new Error("Invalid b0 "+C)}function ur(w,C,k){var P=new me.Parser(w,C=C!==void 0?C:0),U=[],q=[];for(k=k!==void 0?k:w.length;P.relativeOffset<k;){var X=P.parseByte();X<=21?(X===12&&(X=1200+P.parseByte()),U.push([X,q]),q=[]):q.push(Mt(P,X))}for(var re=U,fe={},ue=0;ue<re.length;ue+=1){var Se=re[ue][0],Fe=re[ue][1],Ae=void 0,Ae=Fe.length===1?Fe[0]:Fe;if(fe.hasOwnProperty(Se)&&!isNaN(fe[Se]))throw new Error("Object "+fe+" already has key "+Se);fe[Se]=Ae}return fe}function Yt(w,C){return C=C<=390?Q[C]:w[C-391]}function St(w,C,k){for(var P,U={},q=0;q<C.length;q+=1){var X=C[q];if(Array.isArray(X.type)){var re=[];re.length=X.type.length;for(var fe=0;fe<X.type.length;fe++)(P=w[X.op]!==void 0?w[X.op][fe]:void 0)===void 0&&(P=X.value!==void 0&&X.value[fe]!==void 0?X.value[fe]:null),X.type[fe]==="SID"&&(P=Yt(k,P)),re[fe]=P;U[X.name]=re}else(P=w[X.op])===void 0&&(P=X.value!==void 0?X.value:null),X.type==="SID"&&(P=Yt(k,P)),U[X.name]=P}return U}var Tt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],wt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function sr(w,C,k,P){return St(ur(w,C,k),wt,P)}function er(w,C,k,P){for(var U=[],q=0;q<k.length;q+=1){var X=new DataView(new Uint8Array(k[q]).buffer),X=(re=P,St(ur(X,0,X.byteLength),Tt,re)),re=(X._subrs=[],X._subrsBias=0,X.private[0]),fe=X.private[1];re!==0&&fe!==0&&(re=sr(w,fe+C,re,P),X._defaultWidthX=re.defaultWidthX,X._nominalWidthX=re.nominalWidthX,re.subrs!==0&&(fe=at(w,fe+re.subrs+C),X._subrs=fe.objects,X._subrsBias=dt(X._subrs)),X._privateDict=re),U.push(X)}return U}function Dt(w,C,k){var P,U,q,X,re,fe,ue,Se,Fe,Ae=new K,ye=[],Ue=0,Ie=!1,Be=!1,Pe=0,Le=0,st=(Fe=(w.isCIDFont?(re=w.tables.cff.topDict._fdSelect[C.index],re=w.tables.cff.topDict._fdArray[re],fe=re._subrs,ue=re._subrsBias,Se=re._defaultWidthX,re):(fe=w.tables.cff.topDict._subrs,ue=w.tables.cff.topDict._subrsBias,Se=w.tables.cff.topDict._defaultWidthX,w.tables.cff.topDict))._nominalWidthX,Se);function pt(it,vt){Be&&Ae.closePath(),Ae.moveTo(it,vt),Be=!0}function ot(){ye.length%2==0||Ie||(st=ye.shift()+Fe),Ue+=ye.length>>1,ye.length=0,Ie=!0}return function it(vt){for(var Pt,$t,nr,br,_r,Vr,Ot,Rt,Et,xr,Xt,pr,It=0;It<vt.length;){var dr=vt[It];switch(It+=1,dr){case 1:case 3:ot();break;case 4:1<ye.length&&!Ie&&(st=ye.shift()+Fe,Ie=!0),Le+=ye.pop(),pt(Pe,Le);break;case 5:for(;0<ye.length;)Pe+=ye.shift(),Le+=ye.shift(),Ae.lineTo(Pe,Le);break;case 6:for(;0<ye.length&&(Pe+=ye.shift(),Ae.lineTo(Pe,Le),ye.length!==0);)Le+=ye.shift(),Ae.lineTo(Pe,Le);break;case 7:for(;0<ye.length&&(Le+=ye.shift(),Ae.lineTo(Pe,Le),ye.length!==0);)Pe+=ye.shift(),Ae.lineTo(Pe,Le);break;case 8:for(;0<ye.length;)P=Pe+ye.shift(),U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Pe=q+ye.shift(),Le=X+ye.shift(),Ae.curveTo(P,U,q,X,Pe,Le);break;case 10:_r=ye.pop()+ue,(Vr=fe[_r])&&it(Vr);break;case 11:return;case 12:switch(dr=vt[It],It+=1,dr){case 35:P=Pe+ye.shift(),U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Ot=q+ye.shift(),Rt=X+ye.shift(),Et=Ot+ye.shift(),xr=Rt+ye.shift(),Xt=Et+ye.shift(),pr=xr+ye.shift(),Pe=Xt+ye.shift(),Le=pr+ye.shift(),ye.shift(),Ae.curveTo(P,U,q,X,Ot,Rt),Ae.curveTo(Et,xr,Xt,pr,Pe,Le);break;case 34:P=Pe+ye.shift(),U=Le,q=P+ye.shift(),X=U+ye.shift(),Ot=q+ye.shift(),Rt=X,Et=Ot+ye.shift(),xr=X,Xt=Et+ye.shift(),pr=Le,Pe=Xt+ye.shift(),Ae.curveTo(P,U,q,X,Ot,Rt),Ae.curveTo(Et,xr,Xt,pr,Pe,Le);break;case 36:P=Pe+ye.shift(),U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Ot=q+ye.shift(),Rt=X,Et=Ot+ye.shift(),xr=X,Xt=Et+ye.shift(),pr=xr+ye.shift(),Pe=Xt+ye.shift(),Ae.curveTo(P,U,q,X,Ot,Rt),Ae.curveTo(Et,xr,Xt,pr,Pe,Le);break;case 37:P=Pe+ye.shift(),U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Ot=q+ye.shift(),Rt=X+ye.shift(),Et=Ot+ye.shift(),xr=Rt+ye.shift(),Xt=Et+ye.shift(),pr=xr+ye.shift(),Math.abs(Xt-Pe)>Math.abs(pr-Le)?Pe=Xt+ye.shift():Le=pr+ye.shift(),Ae.curveTo(P,U,q,X,Ot,Rt),Ae.curveTo(Et,xr,Xt,pr,Pe,Le);break;default:console.log("Glyph "+C.index+": unknown operator 1200"+dr),ye.length=0}break;case 14:0<ye.length&&!Ie&&(st=ye.shift()+Fe,Ie=!0),Be&&(Ae.closePath(),Be=!1);break;case 18:ot();break;case 19:case 20:ot(),It+=Ue+7>>3;break;case 21:2<ye.length&&!Ie&&(st=ye.shift()+Fe,Ie=!0),Le+=ye.pop(),pt(Pe+=ye.pop(),Le);break;case 22:1<ye.length&&!Ie&&(st=ye.shift()+Fe,Ie=!0),pt(Pe+=ye.pop(),Le);break;case 23:ot();break;case 24:for(;2<ye.length;)P=Pe+ye.shift(),U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Pe=q+ye.shift(),Le=X+ye.shift(),Ae.curveTo(P,U,q,X,Pe,Le);Pe+=ye.shift(),Le+=ye.shift(),Ae.lineTo(Pe,Le);break;case 25:for(;6<ye.length;)Pe+=ye.shift(),Le+=ye.shift(),Ae.lineTo(Pe,Le);P=Pe+ye.shift(),U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Pe=q+ye.shift(),Le=X+ye.shift(),Ae.curveTo(P,U,q,X,Pe,Le);break;case 26:for(ye.length%2&&(Pe+=ye.shift());0<ye.length;)P=Pe,U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Pe=q,Le=X+ye.shift(),Ae.curveTo(P,U,q,X,Pe,Le);break;case 27:for(ye.length%2&&(Le+=ye.shift());0<ye.length;)P=Pe+ye.shift(),U=Le,q=P+ye.shift(),X=U+ye.shift(),Pe=q+ye.shift(),Le=X,Ae.curveTo(P,U,q,X,Pe,Le);break;case 28:Pt=vt[It],$t=vt[It+1],ye.push((Pt<<24|$t<<16)>>16),It+=2;break;case 29:_r=ye.pop()+w.gsubrsBias,(Vr=w.gsubrs[_r])&&it(Vr);break;case 30:for(;0<ye.length&&(P=Pe,U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Pe=q+ye.shift(),Le=X+(ye.length===1?ye.shift():0),Ae.curveTo(P,U,q,X,Pe,Le),ye.length!==0);)P=Pe+ye.shift(),U=Le,q=P+ye.shift(),X=U+ye.shift(),Le=X+ye.shift(),Pe=q+(ye.length===1?ye.shift():0),Ae.curveTo(P,U,q,X,Pe,Le);break;case 31:for(;0<ye.length&&(P=Pe+ye.shift(),U=Le,q=P+ye.shift(),X=U+ye.shift(),Le=X+ye.shift(),Pe=q+(ye.length===1?ye.shift():0),Ae.curveTo(P,U,q,X,Pe,Le),ye.length!==0);)P=Pe,U=Le+ye.shift(),q=P+ye.shift(),X=U+ye.shift(),Pe=q+ye.shift(),Le=X+(ye.length===1?ye.shift():0),Ae.curveTo(P,U,q,X,Pe,Le);break;default:dr<32?console.log("Glyph "+C.index+": unknown operator "+dr):dr<247?ye.push(dr-139):dr<251?(Pt=vt[It],It+=1,ye.push(256*(dr-247)+Pt+108)):dr<255?(Pt=vt[It],It+=1,ye.push(256*-(dr-251)-Pt-108)):(Pt=vt[It],$t=vt[It+1],nr=vt[It+2],br=vt[It+3],It+=4,ye.push((Pt<<24|$t<<16|nr<<8|br)/65536))}}}(k),C.advanceWidth=st,Ae}function or(w,C){var k,P=Q.indexOf(w);return 0<=P&&(k=P),0<=(P=C.indexOf(w))?k=P+Q.length:(k=Q.length+C.length,C.push(w)),k}function Ln(w,C,k){for(var P={},U=0;U<w.length;U+=1){var q=w[U],X=C[q.name];X===void 0||function re(fe,ue){if(fe===ue)return 1;if(Array.isArray(fe)&&Array.isArray(ue)&&fe.length===ue.length){for(var Se=0;Se<fe.length;Se+=1)if(!re(fe[Se],ue[Se]))return;return 1}}(X,q.value)||(q.type==="SID"&&(X=or(X,k)),P[q.op]={name:q.name,type:q.type,value:X})}return P}function Rn(w,C){var k=new Oe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return k.dict=Ln(Tt,w,C),k}function In(w){var C=new Oe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return C.topDicts=[{name:"topDict_0",type:"TABLE",value:w}],C}function ts(w){for(var C=new Oe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),k=0;k<w.length;k+=1){var P=w.get(k),U=function(q){for(var X=[],re=q.path,fe=(X.push({name:"width",type:"NUMBER",value:q.advanceWidth}),0),ue=0,Se=0;Se<re.commands.length;Se+=1){var Fe,Ae,ye,Ue,Ie=void 0,Be=void 0,Pe=re.commands[Se];(Pe=Pe.type==="Q"?{type:"C",x:Pe.x,y:Pe.y,x1:1/3*fe+2/3*Pe.x1,y1:1/3*ue+2/3*Pe.y1,x2:1/3*Pe.x+2/3*Pe.x1,y2:1/3*Pe.y+2/3*Pe.y1}:Pe).type==="M"?(Ie=Math.round(Pe.x-fe),Be=Math.round(Pe.y-ue),X.push({name:"dx",type:"NUMBER",value:Ie}),X.push({name:"dy",type:"NUMBER",value:Be}),X.push({name:"rmoveto",type:"OP",value:21}),fe=Math.round(Pe.x),ue=Math.round(Pe.y)):Pe.type==="L"?(Ie=Math.round(Pe.x-fe),Be=Math.round(Pe.y-ue),X.push({name:"dx",type:"NUMBER",value:Ie}),X.push({name:"dy",type:"NUMBER",value:Be}),X.push({name:"rlineto",type:"OP",value:5}),fe=Math.round(Pe.x),ue=Math.round(Pe.y)):Pe.type==="C"&&(Fe=Math.round(Pe.x1-fe),Ae=Math.round(Pe.y1-ue),ye=Math.round(Pe.x2-Pe.x1),Ue=Math.round(Pe.y2-Pe.y1),Ie=Math.round(Pe.x-Pe.x2),Be=Math.round(Pe.y-Pe.y2),X.push({name:"dx1",type:"NUMBER",value:Fe}),X.push({name:"dy1",type:"NUMBER",value:Ae}),X.push({name:"dx2",type:"NUMBER",value:ye}),X.push({name:"dy2",type:"NUMBER",value:Ue}),X.push({name:"dx",type:"NUMBER",value:Ie}),X.push({name:"dy",type:"NUMBER",value:Be}),X.push({name:"rrcurveto",type:"OP",value:8}),fe=Math.round(Pe.x),ue=Math.round(Pe.y))}return X.push({name:"endchar",type:"OP",value:14}),X}(P);C.charStrings.push({name:P.name,type:"CHARSTRING",value:U})}return C}var Bn={parse:function(w,C,k){k.tables.cff={},re=w,P=C,(U={}).formatMajor=me.getCard8(re,P),U.formatMinor=me.getCard8(re,P+1),U.size=me.getCard8(re,P+2),U.offsetSize=me.getCard8(re,P+3),U.startOffset=P,U.endOffset=P+4;var re=at(w,U.endOffset,me.bytesToString),P=at(w,re.endOffset),U=at(w,P.endOffset,me.bytesToString),re=at(w,U.endOffset);if(k.gsubrs=re.objects,k.gsubrsBias=dt(k.gsubrs),(re=er(w,C,P.objects,U.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+re.length);if(P=re[0],(k.tables.cff.topDict=P)._privateDict&&(k.defaultWidthX=P._privateDict.defaultWidthX,k.nominalWidthX=P._privateDict.nominalWidthX),P.ros[0]!==void 0&&P.ros[1]!==void 0&&(k.isCIDFont=!0),k.isCIDFont){var re=P.fdArray,q=P.fdSelect;if(re===0||q===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");re=er(w,C,at(w,re+=C).objects,U.objects),P._fdArray=re,P._fdSelect=function(Ae,ye,Ue,Ie){var Be,Pe=[],Le=new me.Parser(Ae,ye);if((Ae=Le.parseCard8())===0)for(var st=0;st<Ue;st++){if(Ie<=(Be=Le.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Be+" (FD count "+Ie+")");Pe.push(Be)}else{if(Ae!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ae);var pt,ot=Le.parseCard16(),it=Le.parseCard16();if(it!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+it);for(var vt=0;vt<ot;vt++){if(Be=Le.parseCard8(),pt=Le.parseCard16(),Ie<=Be)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Be+" (FD count "+Ie+")");if(Ue<pt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+pt);for(;it<pt;it++)Pe.push(Be);it=pt}if(pt!==Ue)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+pt)}return Pe}(w,q+=C,k.numGlyphs,re.length)}var q=C+P.private[1],re=sr(w,q,P.private[0],U.objects),X=(k.defaultWidthX=re.defaultWidthX,k.nominalWidthX=re.nominalWidthX,re.subrs!==0?(q=at(w,q+re.subrs),k.subrs=q.objects,k.subrsBias=dt(k.subrs)):(k.subrs=[],k.subrsBias=0),at(w,C+P.charStrings)),re=(k.nGlyphs=X.objects.length,function(Se,Fe,Ae,ye){var Ue=new me.Parser(Se,Fe),Ie=(--Ae,[".notdef"]);if((Se=Ue.parseCard8())===0)for(var Be=0;Be<Ae;Be+=1)Pe=Ue.parseSID(),Ie.push(Yt(ye,Pe));else if(Se===1)for(;Ie.length<=Ae;)for(var Pe=Ue.parseSID(),Le=Ue.parseCard8(),st=0;st<=Le;st+=1)Ie.push(Yt(ye,Pe)),Pe+=1;else{if(Se!==2)throw new Error("Unknown charset format "+Se);for(;Ie.length<=Ae;){Pe=Ue.parseSID(),Le=Ue.parseCard16();for(var pt=0;pt<=Le;pt+=1)Ie.push(Yt(ye,Pe)),Pe+=1}}return Ie}(w,C+P.charset,k.nGlyphs,U.objects));P.encoding===0?k.cffEncoding=new Ve($,re):P.encoding===1?k.cffEncoding=new Ve(ne,re):k.cffEncoding=function(Se,Fe,Ae){var ye={},Ue=new me.Parser(Se,Fe);if((Se=Ue.parseCard8())===0)for(var Ie=Ue.parseCard8(),Be=0;Be<Ie;Be+=1)ye[Le=Ue.parseCard8()]=Be;else{if(Se!==1)throw new Error("Unknown encoding format "+Se);for(var Pe=Ue.parseCard8(),Le=1,st=0;st<Pe;st+=1)for(var pt=Ue.parseCard8(),ot=Ue.parseCard8(),it=pt;it<=pt+ot;it+=1)ye[it]=Le,Le+=1}return new Ve(ye,Ae)}(w,C+P.encoding,re),k.encoding=k.encoding||k.cffEncoding,k.glyphs=new tt.GlyphSet(k);for(var fe=0;fe<k.nGlyphs;fe+=1){var ue=X.objects[fe];k.glyphs.push(fe,tt.cffGlyphLoader(k,fe,Dt,ue))}},make:function(w,Se){for(var k,P=new Oe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),U=1/Se.unitsPerEm,U={version:Se.version,fullName:Se.fullName,familyName:Se.familyName,weight:Se.weightName,fontBBox:Se.fontBBox||[0,0,0,0],fontMatrix:[U,0,0,U,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},q=[],X=1;X<w.length;X+=1)k=w.get(X),q.push(k.name);var re,fe,ue=[],Se=(P.header=new Oe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),P.nameIndex=function(Ae){var ye=new Oe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ye.names=[];for(var Ue=0;Ue<Ae.length;Ue+=1)ye.names.push({name:"name_"+Ue,type:"NAME",value:Ae[Ue]});return ye}([Se.postScriptName]),Rn(U,ue)),Fe=(P.topDictIndex=In(Se),P.globalSubrIndex=new Oe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),P.charsets=function(Ae,ye){for(var Ue=new Oe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ie=0;Ie<Ae.length;Ie+=1){var Be=or(Ae[Ie],ye);Ue.fields.push({name:"glyph_"+Ie,type:"SID",value:Be})}return Ue}(q,ue),P.charStringsIndex=ts(w),P.privateDict=(Fe={},re=ue,(fe=new Oe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ln(wt,Fe,re),fe),P.stringIndex=function(Ae){var ye=new Oe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ye.strings=[];for(var Ue=0;Ue<Ae.length;Ue+=1)ye.strings.push({name:"string_"+Ue,type:"STRING",value:Ae[Ue]});return ye}(ue),P.header.sizeOf()+P.nameIndex.sizeOf()+P.topDictIndex.sizeOf()+P.stringIndex.sizeOf()+P.globalSubrIndex.sizeOf());return U.charset=Fe,U.encoding=0,U.charStrings=U.charset+P.charsets.sizeOf(),U.private[1]=U.charStrings+P.charStringsIndex.sizeOf(),Se=Rn(U,ue),P.topDictIndex=In(Se),P}},Nn={parse:function(P,C){var k={},P=new me.Parser(P,C);return k.version=P.parseVersion(),k.fontRevision=Math.round(1e3*P.parseFixed())/1e3,k.checkSumAdjustment=P.parseULong(),k.magicNumber=P.parseULong(),R.argument(k.magicNumber===1594834165,"Font header has wrong magic number."),k.flags=P.parseUShort(),k.unitsPerEm=P.parseUShort(),k.created=P.parseLongDateTime(),k.modified=P.parseLongDateTime(),k.xMin=P.parseShort(),k.yMin=P.parseShort(),k.xMax=P.parseShort(),k.yMax=P.parseShort(),k.macStyle=P.parseUShort(),k.lowestRecPPEM=P.parseUShort(),k.fontDirectionHint=P.parseShort(),k.indexToLocFormat=P.parseShort(),k.glyphDataFormat=P.parseShort(),k},make:function(w){var C=Math.round(new Date().getTime()/1e3)+2082844800,k=C;return w.createdTimestamp&&(k=w.createdTimestamp+2082844800),new Oe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:k},{name:"modified",type:"LONGDATETIME",value:C},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],w)}},ve={parse:function(P,C){var k={},P=new me.Parser(P,C);return k.version=P.parseVersion(),k.ascender=P.parseShort(),k.descender=P.parseShort(),k.lineGap=P.parseShort(),k.advanceWidthMax=P.parseUShort(),k.minLeftSideBearing=P.parseShort(),k.minRightSideBearing=P.parseShort(),k.xMaxExtent=P.parseShort(),k.caretSlopeRise=P.parseShort(),k.caretSlopeRun=P.parseShort(),k.caretOffset=P.parseShort(),P.relativeOffset+=8,k.metricDataFormat=P.parseShort(),k.numberOfHMetrics=P.parseUShort(),k},make:function(w){return new Oe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],w)}},qe={parse:function(w,C,k,P,U){for(var q,X,re=new me.Parser(w,C),fe=0;fe<P;fe+=1){fe<k&&(q=re.parseUShort(),X=re.parseShort());var ue=U.get(fe);ue.advanceWidth=q,ue.leftSideBearing=X}},make:function(w){for(var C=new Oe.Table("hmtx",[]),k=0;k<w.length;k+=1){var U=w.get(k),P=U.advanceWidth||0,U=U.leftSideBearing||0;C.fields.push({name:"advanceWidth_"+k,type:"USHORT",value:P}),C.fields.push({name:"leftSideBearing_"+k,type:"SHORT",value:U})}return C}},Je={make:function(w){for(var C=new Oe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:w.length}]),k="",P=12+4*w.length,U=0;U<w.length;++U){var q=k.indexOf(w[U]);q<0&&(q=k.length,k+=w[U]),C.fields.push({name:"offset "+U,type:"USHORT",value:P+q}),C.fields.push({name:"length "+U,type:"USHORT",value:w[U].length})}return C.fields.push({name:"stringPool",type:"CHARARRAY",value:k}),C},parse:function(w,C){for(var k=new me.Parser(w,C),P=k.parseULong(),U=(R.argument(P===1,"Unsupported ltag table version."),k.skip("uLong",1),k.parseULong()),q=[],X=0;X<U;X++){for(var re="",fe=C+k.parseUShort(),ue=k.parseUShort(),Se=fe;Se<fe+ue;++Se)re+=String.fromCharCode(w.getInt8(Se));q.push(re)}return q}},He={parse:function(P,C){var k={},P=new me.Parser(P,C);return k.version=P.parseVersion(),k.numGlyphs=P.parseUShort(),k.version===1&&(k.maxPoints=P.parseUShort(),k.maxContours=P.parseUShort(),k.maxCompositePoints=P.parseUShort(),k.maxCompositeContours=P.parseUShort(),k.maxZones=P.parseUShort(),k.maxTwilightPoints=P.parseUShort(),k.maxStorage=P.parseUShort(),k.maxFunctionDefs=P.parseUShort(),k.maxInstructionDefs=P.parseUShort(),k.maxStackElements=P.parseUShort(),k.maxSizeOfInstructions=P.parseUShort(),k.maxComponentElements=P.parseUShort(),k.maxComponentDepth=P.parseUShort()),k},make:function(w){return new Oe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:w}])}},bt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ze={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},jt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ze={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},rt="utf-16",$e={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},qt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function zt(w,C,k){switch(w){case 0:return rt;case 1:return qt[k]||$e[C];case 3:if(C===1||C===10)return rt}}function At(w){var C,k={};for(C in w)k[w[C]]=parseInt(C);return k}function tr(w,C,k,P,U,q){return new Oe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:w},{name:"encodingID",type:"USHORT",value:C},{name:"languageID",type:"USHORT",value:k},{name:"nameID",type:"USHORT",value:P},{name:"length",type:"USHORT",value:U},{name:"offset",type:"USHORT",value:q}])}function Zr(w,C){if((k=function(q,X){var re=q.length,fe=X.length-re+1;e:for(var ue=0;ue<fe;ue++)for(;ue<fe;ue++){for(var Se=0;Se<re;Se++)if(X[ue+Se]!==q[Se])continue e;return ue}return-1}(w,C))<0)for(var k=C.length,P=0,U=w.length;P<U;++P)C.push(w[P]);return k}var Fr={parse:function(w,C,k){for(var P={},U=new me.Parser(w,C),C=U.parseUShort(),q=U.parseUShort(),X=U.offset+U.parseUShort(),re=0;re<q;re++){var Ue=U.parseUShort(),fe=U.parseUShort(),ue=U.parseUShort(),Se=U.parseUShort(),Se=bt[Se]||Se,Fe=U.parseUShort(),Ae=U.parseUShort(),ye=function(Be,Pe,Le){switch(Be){case 0:if(Pe===65535)return"und";if(Le)return Le[Pe];break;case 1:return ze[Pe];case 3:return Ze[Pe]}}(Ue,ue,k),Ue=zt(Ue,fe,ue);Ue!==void 0&&ye!==void 0&&(fe=void 0,(fe=Ue===rt?z.UTF16(w,X+Ae,Fe):z.MACSTRING(w,X+Ae,Fe,Ue))&&((ue=(ue=P[Se])===void 0?P[Se]={}:ue)[ye]=fe))}return C===1&&U.parseUShort(),P},make:function(w,C){var k,P=[],U={},q=At(bt);for(k in w){var X=q[k];if(X===void 0&&(X=k),Ae=parseInt(X),isNaN(Ae))throw new Error('Name table entry "'+k+'" does not exist, see nameTableNames for complete list.');U[Ae]=w[k],P.push(Ae)}for(var re=At(ze),fe=At(Ze),ue=[],Se=[],Fe=0;Fe<P.length;Fe++){var Ae,ye,Ue=U[Ae=P[Fe]];for(ye in Ue){var Ie=Ue[ye],pt=1,Be=re[ye],Pe=jt[Be],Le=zt(pt,Pe,Be),Le=W.MACSTRING(Ie,Le),st=(Le===void 0&&(pt=0,(Be=C.indexOf(ye))<0&&(Be=C.length,C.push(ye)),Pe=4,Le=W.UTF16(Ie)),Zr(Le,Se)),pt=(ue.push(tr(pt,Pe,Be,Ae,Le.length,st)),fe[ye]);pt!==void 0&&(Be=Zr(Pe=W.UTF16(Ie),Se),ue.push(tr(3,1,pt,Ae,Pe.length,Be)))}}ue.sort(function(vt,Pt){return vt.platformID-Pt.platformID||vt.encodingID-Pt.encodingID||vt.languageID-Pt.languageID||vt.nameID-Pt.nameID});for(var ot=new Oe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ue.length},{name:"stringOffset",type:"USHORT",value:6+12*ue.length}]),it=0;it<ue.length;it++)ot.fields.push({name:"record_"+it,type:"RECORD",value:ue[it]});return ot.fields.push({name:"strings",type:"LITERAL",value:Se}),ot}},Kr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],cr={parse:function(w,C){var k={},P=new me.Parser(w,C);k.version=P.parseUShort(),k.xAvgCharWidth=P.parseShort(),k.usWeightClass=P.parseUShort(),k.usWidthClass=P.parseUShort(),k.fsType=P.parseUShort(),k.ySubscriptXSize=P.parseShort(),k.ySubscriptYSize=P.parseShort(),k.ySubscriptXOffset=P.parseShort(),k.ySubscriptYOffset=P.parseShort(),k.ySuperscriptXSize=P.parseShort(),k.ySuperscriptYSize=P.parseShort(),k.ySuperscriptXOffset=P.parseShort(),k.ySuperscriptYOffset=P.parseShort(),k.yStrikeoutSize=P.parseShort(),k.yStrikeoutPosition=P.parseShort(),k.sFamilyClass=P.parseShort(),k.panose=[];for(var U=0;U<10;U++)k.panose[U]=P.parseByte();return k.ulUnicodeRange1=P.parseULong(),k.ulUnicodeRange2=P.parseULong(),k.ulUnicodeRange3=P.parseULong(),k.ulUnicodeRange4=P.parseULong(),k.achVendID=String.fromCharCode(P.parseByte(),P.parseByte(),P.parseByte(),P.parseByte()),k.fsSelection=P.parseUShort(),k.usFirstCharIndex=P.parseUShort(),k.usLastCharIndex=P.parseUShort(),k.sTypoAscender=P.parseShort(),k.sTypoDescender=P.parseShort(),k.sTypoLineGap=P.parseShort(),k.usWinAscent=P.parseUShort(),k.usWinDescent=P.parseUShort(),1<=k.version&&(k.ulCodePageRange1=P.parseULong(),k.ulCodePageRange2=P.parseULong()),2<=k.version&&(k.sxHeight=P.parseShort(),k.sCapHeight=P.parseShort(),k.usDefaultChar=P.parseUShort(),k.usBreakChar=P.parseUShort(),k.usMaxContent=P.parseUShort()),k},make:function(w){return new Oe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],w)},unicodeRanges:Kr,getUnicodeRange:function(w){for(var C=0;C<Kr.length;C+=1){var k=Kr[C];if(w>=k.begin&&w<k.end)return C}return-1}},za={parse:function(w,C){var k={},P=new me.Parser(w,C);switch(k.version=P.parseVersion(),k.italicAngle=P.parseFixed(),k.underlinePosition=P.parseShort(),k.underlineThickness=P.parseShort(),k.isFixedPitch=P.parseULong(),k.minMemType42=P.parseULong(),k.maxMemType42=P.parseULong(),k.minMemType1=P.parseULong(),k.maxMemType1=P.parseULong(),k.version){case 1:k.names=be.slice();break;case 2:k.numberOfGlyphs=P.parseUShort(),k.glyphNameIndex=new Array(k.numberOfGlyphs);for(var U=0;U<k.numberOfGlyphs;U++)k.glyphNameIndex[U]=P.parseUShort();k.names=[];for(var q,X=0;X<k.numberOfGlyphs;X++)k.glyphNameIndex[X]>=be.length&&(q=P.parseChar(),k.names.push(P.parseString(q)));break;case 2.5:k.numberOfGlyphs=P.parseUShort(),k.offset=new Array(k.numberOfGlyphs);for(var re=0;re<k.numberOfGlyphs;re++)k.offset[re]=P.parseChar()}return k},make:function(){return new Oe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},zr=new Array(9),rs=(zr[1]=function(){var w=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(ce.coverage),deltaGlyphId:this.parseUShort()}:C===2?{substFormat:2,coverage:this.parsePointer(ce.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+w.toString(16)+": lookup type 1 format must be 1 or 2.")},zr[2]=function(){var w=this.parseUShort();return R.argument(w===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(ce.coverage),sequences:this.parseListOfLists()}},zr[3]=function(){var w=this.parseUShort();return R.argument(w===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(ce.coverage),alternateSets:this.parseListOfLists()}},zr[4]=function(){var w=this.parseUShort();return R.argument(w===1,"GSUB ligature table identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(ce.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:ce.uShort,lookupListIndex:ce.uShort});zr[5]=function(){var w,C,k=this.offset+this.relativeOffset,P=this.parseUShort();return P===1?{substFormat:P,coverage:this.parsePointer(ce.coverage),ruleSets:this.parseListOfLists(function(){var U=this.parseUShort(),q=this.parseUShort();return{input:this.parseUShortList(U-1),lookupRecords:this.parseRecordList(q,rs)}})}:P===2?{substFormat:P,coverage:this.parsePointer(ce.coverage),classDef:this.parsePointer(ce.classDef),classSets:this.parseListOfLists(function(){var U=this.parseUShort(),q=this.parseUShort();return{classes:this.parseUShortList(U-1),lookupRecords:this.parseRecordList(q,rs)}})}:P===3?(w=this.parseUShort(),C=this.parseUShort(),{substFormat:P,coverages:this.parseList(w,ce.pointer(ce.coverage)),lookupRecords:this.parseRecordList(C,rs)}):void R.assert(!1,"0x"+k.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},zr[6]=function(){var w=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(ce.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(rs)}})}:C===2?{substFormat:2,coverage:this.parsePointer(ce.coverage),backtrackClassDef:this.parsePointer(ce.classDef),inputClassDef:this.parsePointer(ce.classDef),lookaheadClassDef:this.parsePointer(ce.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(rs)}})}:C===3?{substFormat:3,backtrackCoverage:this.parseList(ce.pointer(ce.coverage)),inputCoverage:this.parseList(ce.pointer(ce.coverage)),lookaheadCoverage:this.parseList(ce.pointer(ce.coverage)),lookupRecords:this.parseRecordList(rs)}:void R.assert(!1,"0x"+w.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},zr[7]=function(){var w=this.parseUShort(),w=(R.argument(w===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),C=new ce(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:w,extension:zr[w].call(C)}},zr[8]=function(){var w=this.parseUShort();return R.argument(w===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(ce.coverage),backtrackCoverage:this.parseList(ce.pointer(ce.coverage)),lookaheadCoverage:this.parseList(ce.pointer(ce.coverage)),substitutes:this.parseUShortList()}};var Js=new Array(9);Js[1]=function(w){return w.substFormat===1?new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(w.coverage)},{name:"deltaGlyphID",type:"USHORT",value:w.deltaGlyphId}]):new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Oe.Coverage(w.coverage)}].concat(Oe.ushortList("substitute",w.substitute)))},Js[3]=function(w){return R.assert(w.substFormat===1,"Lookup type 3 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(w.coverage)}].concat(Oe.tableList("altSet",w.alternateSets,function(C){return new Oe.Table("alternateSetTable",Oe.ushortList("alternate",C))})))},Js[4]=function(w){return R.assert(w.substFormat===1,"Lookup type 4 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(w.coverage)}].concat(Oe.tableList("ligSet",w.ligatureSets,function(C){return new Oe.Table("ligatureSetTable",Oe.tableList("ligature",C,function(k){return new Oe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:k.ligGlyph}].concat(Oe.ushortList("component",k.components,k.components.length+1)))}))})))};var Ga={parse:function(w,C){return C=(w=new ce(w,C=C||0)).parseVersion(1),R.argument(C===1||C===1.1,"Unsupported GSUB table version."),C===1?{version:C,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(zr)}:{version:C,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(zr),variations:w.parseFeatureVariationsList()}},make:function(w){return new Oe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Oe.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Oe.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Oe.LookupList(w.lookups,Js)}])}},Va={parse:function(w,C){for(var k=new me.Parser(w,C),P=k.parseULong(),U=(R.argument(P===1,"Unsupported META table version."),k.parseULong(),k.parseULong(),k.parseULong()),q={},X=0;X<U;X++){var re=k.parseTag(),ue=k.parseULong(),fe=k.parseULong(),ue=z.UTF8(w,C+ue,fe);q[re]=ue}return q},make:function(w){var C,k=Object.keys(w).length,P="",U=16+12*k,q=new Oe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:U},{name:"numTags",type:"ULONG",value:k}]);for(C in w){var X=P.length;P+=w[C],q.fields.push({name:"tag "+C,type:"TAG",value:C}),q.fields.push({name:"offset "+C,type:"ULONG",value:U+X}),q.fields.push({name:"length "+C,type:"ULONG",value:w[C].length})}return q.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),q}};function Ha(w){return Math.log(w)/Math.log(2)|0}function vi(w){for(;w.length%4!=0;)w.push(0);for(var C=0,k=0;k<w.length;k+=4)C+=(w[k]<<24)+(w[k+1]<<16)+(w[k+2]<<8)+w[k+3];return C%=Math.pow(2,32)}function Wa(w,C,k,P){return new Oe.Record("Table Record",[{name:"tag",type:"TAG",value:w!==void 0?w:""},{name:"checkSum",type:"ULONG",value:C!==void 0?C:0},{name:"offset",type:"ULONG",value:k!==void 0?k:0},{name:"length",type:"ULONG",value:P!==void 0?P:0}])}function qa(w){for(var C=new Oe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),k=(C.tables=w,C.numTables=w.length,Math.pow(2,Ha(C.numTables))),P=(C.searchRange=16*k,C.entrySelector=Ha(k),C.rangeShift=16*C.numTables-C.searchRange,[]),U=[],q=C.sizeOf()+Wa().sizeOf()*C.numTables;q%4!=0;)q+=1,U.push({name:"padding",type:"BYTE",value:0});for(var X=0;X<w.length;X+=1){var re=w[X],fe=(R.argument(re.tableName.length===4,"Table name"+re.tableName+" is invalid."),re.sizeOf()),ue=Wa(re.tableName,vi(re.encode()),q,fe);for(P.push({name:ue.tag+" Table Record",type:"RECORD",value:ue}),U.push({name:re.tableName+" table",type:"RECORD",value:re}),q+=fe,R.argument(!isNaN(q),"Something went wrong calculating the offset.");q%4!=0;)q+=1,U.push({name:"padding",type:"BYTE",value:0})}return P.sort(function(Se,Fe){return Se.value.tag>Fe.value.tag?1:-1}),C.fields=C.fields.concat(P),C.fields=C.fields.concat(U),C}function Xa(w,C,k){for(var P=0;P<C.length;P+=1){var U=w.charToGlyphIndex(C[P]);if(0<U)return w.glyphs.get(U).getMetrics()}return k}var ph={make:qa,fontToTable:function(w){for(var C,k=[],P=[],U=[],q=[],X=[],re=[],fe=[],ue=0,Se=0,Fe=0,Ae=0,ye=0,Ue=0;Ue<w.glyphs.length;Ue+=1){var Ie=w.glyphs.get(Ue),Be=0|Ie.unicode;if(isNaN(Ie.advanceWidth))throw new Error("Glyph "+Ie.name+" ("+Ue+"): advanceWidth is not a number.");(Be<C||C===void 0)&&0<Be&&(C=Be),ue<Be&&(ue=Be);var Be=cr.getUnicodeRange(Be);if(Be<32)Se|=1<<Be;else if(Be<64)Fe|=1<<Be-32;else if(Be<96)Ae|=1<<Be-64;else{if(!(Be<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ye|=1<<Be-96}Ie.name!==".notdef"&&(Be=Ie.getMetrics(),k.push(Be.xMin),P.push(Be.yMin),U.push(Be.xMax),q.push(Be.yMax),re.push(Be.leftSideBearing),fe.push(Be.rightSideBearing),X.push(Ie.advanceWidth))}var Pe,Le={xMin:Math.min.apply(null,k),yMin:Math.min.apply(null,P),xMax:Math.max.apply(null,U),yMax:Math.max.apply(null,q),advanceWidthMax:Math.max.apply(null,X),advanceWidthAvg:function(dr){for(var js=0,os=0;os<dr.length;os+=1)js+=dr[os];return js/dr.length}(X),minLeftSideBearing:Math.min.apply(null,re),maxLeftSideBearing:Math.max.apply(null,re),minRightSideBearing:Math.min.apply(null,fe)},st=(Le.ascender=w.ascender,Le.descender=w.descender,Nn.make({flags:3,unitsPerEm:w.unitsPerEm,xMin:Le.xMin,yMin:Le.yMin,xMax:Le.xMax,yMax:Le.yMax,lowestRecPPEM:3,createdTimestamp:w.createdTimestamp})),pt=ve.make({ascender:Le.ascender,descender:Le.descender,advanceWidthMax:Le.advanceWidthMax,minLeftSideBearing:Le.minLeftSideBearing,minRightSideBearing:Le.minRightSideBearing,xMaxExtent:Le.maxLeftSideBearing+(Le.xMax-Le.xMin),numberOfHMetrics:w.glyphs.length}),ot=He.make(w.glyphs.length),it=cr.make({xAvgCharWidth:Math.round(Le.advanceWidthAvg),usWeightClass:w.tables.os2.usWeightClass,usWidthClass:w.tables.os2.usWidthClass,usFirstCharIndex:C,usLastCharIndex:ue,ulUnicodeRange1:Se,ulUnicodeRange2:Fe,ulUnicodeRange3:Ae,ulUnicodeRange4:ye,fsSelection:w.tables.os2.fsSelection,sTypoAscender:Le.ascender,sTypoDescender:Le.descender,sTypoLineGap:0,usWinAscent:Le.yMax,usWinDescent:Math.abs(Le.yMin),ulCodePageRange1:1,sxHeight:Xa(w,"xyvw",{yMax:Math.round(Le.ascender/2)}).yMax,sCapHeight:Xa(w,"HIKLEFJMNTZBDPRAGOQSUVWXY",Le).yMax,usDefaultChar:w.hasChar(" ")?32:0,usBreakChar:w.hasChar(" ")?32:0}),vt=qe.make(w.glyphs),Pt=Z.make(w.glyphs),Rt=w.getEnglishName("fontFamily"),Et=w.getEnglishName("fontSubfamily"),Ot=Rt+" "+Et,$t=($t=w.getEnglishName("postScriptName"))||Rt.replace(/\s/g,"")+"-"+Et,nr={};for(Pe in w.names)nr[Pe]=w.names[Pe];nr.uniqueID||(nr.uniqueID={en:w.getEnglishName("manufacturer")+":"+Ot}),nr.postScriptName||(nr.postScriptName={en:$t}),nr.preferredFamily||(nr.preferredFamily=w.names.fontFamily),nr.preferredSubfamily||(nr.preferredSubfamily=w.names.fontSubfamily);var _r=[],br=Fr.make(nr,_r),_r=0<_r.length?Je.make(_r):void 0,Vr=za.make(),Ot=Bn.make(w.glyphs,{version:w.getEnglishName("version"),fullName:Ot,familyName:Rt,weightName:Et,postScriptName:$t,unitsPerEm:w.unitsPerEm,fontBBox:[0,Le.yMin,Le.ascender,Le.advanceWidthMax]}),Rt=w.metas&&0<Object.keys(w.metas).length?Va.make(w.metas):void 0,Et=[st,pt,ot,it,br,Pt,Vr,Ot,vt];_r&&Et.push(_r),w.tables.gsub&&Et.push(Ga.make(w.tables.gsub)),Rt&&Et.push(Rt);for(var xr=vi(($t=qa(Et)).encode()),Xt=$t.fields,pr=!1,It=0;It<Xt.length;It+=1)if(Xt[It].name==="head table"){Xt[It].value.checkSumAdjustment=2981146554-xr,pr=!0;break}if(pr)return $t;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:vi};function bi(w,C){for(var k=0,P=w.length-1;k<=P;){var U=k+P>>>1,q=w[U].tag;if(q===C)return U;q<C?k=1+U:P=U-1}return-k-1}function Ya(w,C){for(var k=0,P=w.length-1;k<=P;){var U=k+P>>>1,q=w[U];if(q===C)return U;q<C?k=1+U:P=U-1}return-k-1}function $a(w,C){for(var k=0,P=w.length-1;k<=P;){var U,q=k+P>>>1,X=(U=w[q]).start;if(X===C)return U;X<C?k=1+q:P=q-1}if(0<k)return C>(U=w[k-1]).end?0:U}function eo(w,C){this.font=w,this.tableName=C}function to(w){eo.call(this,w,"gpos")}function Qr(w){eo.call(this,w,"gsub")}function Za(w,C,k){for(var P=w.subtables,U=0;U<P.length;U++){var q=P[U];if(q.substFormat===C)return q}if(k)return P.push(k),k}function Ka(w){for(var C=new ArrayBuffer(w.length),k=new Uint8Array(C),P=0;P<w.length;++P)k[P]=w[P];return C}function ns(w,C){if(!w)throw C}function Qa(w,C,k,P,U){var q=0<(C&P)?(q=w.parseByte(),k+(q=(C&U)==0?-q:q)):0<(C&U)?k:k+w.parseShort();return q}function mh(w,C,k){var P,U=new me.Parser(C,k);if(w.numberOfContours=U.parseShort(),w._xMin=U.parseShort(),w._yMin=U.parseShort(),w._xMax=U.parseShort(),w._yMax=U.parseShort(),0<w.numberOfContours){for(var q=w.endPointIndices=[],X=0;X<w.numberOfContours;X+=1)q.push(U.parseUShort());w.instructionLength=U.parseUShort(),w.instructions=[];for(var re=0;re<w.instructionLength;re+=1)w.instructions.push(U.parseByte());for(var fe=q[q.length-1]+1,ue=[],Se=0;Se<fe;Se+=1)if(P=U.parseByte(),ue.push(P),0<(8&P))for(var Fe=U.parseByte(),Ae=0;Ae<Fe;Ae+=1)ue.push(P),Se+=1;if(R.argument(ue.length===fe,"Bad flags."),0<q.length){var ye,Ue=[];if(0<fe){for(var Ie=0;Ie<fe;Ie+=1)P=ue[Ie],(ye={}).onCurve=!!(1&P),ye.lastPointOfContour=0<=q.indexOf(Ie),Ue.push(ye);for(var Be=0,Pe=0;Pe<fe;Pe+=1)P=ue[Pe],(ye=Ue[Pe]).x=Qa(U,P,Be,2,16),Be=ye.x;for(var Le=0,st=0;st<fe;st+=1)P=ue[st],(ye=Ue[st]).y=Qa(U,P,Le,4,32),Le=ye.y}w.points=Ue}else w.points=[]}else if(w.numberOfContours===0)w.points=[];else{w.isComposite=!0,w.points=[],w.components=[];for(var pt=!0;pt;){ue=U.parseUShort();var ot={glyphIndex:U.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ue)?0<(2&ue)?(ot.dx=U.parseShort(),ot.dy=U.parseShort()):ot.matchedPoints=[U.parseUShort(),U.parseUShort()]:0<(2&ue)?(ot.dx=U.parseChar(),ot.dy=U.parseChar()):ot.matchedPoints=[U.parseByte(),U.parseByte()],0<(8&ue)?ot.xScale=ot.yScale=U.parseF2Dot14():0<(64&ue)?(ot.xScale=U.parseF2Dot14(),ot.yScale=U.parseF2Dot14()):0<(128&ue)&&(ot.xScale=U.parseF2Dot14(),ot.scale01=U.parseF2Dot14(),ot.scale10=U.parseF2Dot14(),ot.yScale=U.parseF2Dot14()),w.components.push(ot),pt=!!(32&ue)}if(256&ue){w.instructionLength=U.parseUShort(),w.instructions=[];for(var it=0;it<w.instructionLength;it+=1)w.instructions.push(U.parseByte())}}}function _i(w,C){for(var k=[],P=0;P<w.length;P+=1){var U=w[P],U={x:C.xScale*U.x+C.scale01*U.y+C.dx,y:C.scale10*U.x+C.yScale*U.y+C.dy,onCurve:U.onCurve,lastPointOfContour:U.lastPointOfContour};k.push(U)}return k}function Ja(w){var C=new K;if(w)for(var k=function(Fe){for(var Ae=[],ye=[],Ue=0;Ue<Fe.length;Ue+=1){var Ie=Fe[Ue];ye.push(Ie),Ie.lastPointOfContour&&(Ae.push(ye),ye=[])}return R.argument(ye.length===0,"There are still points left in the current contour."),Ae}(w),P=0;P<k.length;++P){var U,q=k[P],X=q[q.length-1],re=q[0];X.onCurve?C.moveTo(X.x,X.y):re.onCurve?C.moveTo(re.x,re.y):(U={x:.5*(X.x+re.x),y:.5*(X.y+re.y)},C.moveTo(U.x,U.y));for(var fe=0;fe<q.length;++fe){var ue,Se=X,X=re,re=q[(fe+1)%q.length];X.onCurve?C.lineTo(X.x,X.y):(ue=re,Se.onCurve||(X.x,Se.x,X.y,Se.y),re.onCurve||(ue={x:.5*(X.x+re.x),y:.5*(X.y+re.y)}),C.quadraticCurveTo(X.x,X.y,ue.x,ue.y))}C.closePath()}return C}function gh(w,C){if(C.isComposite)for(var k=0;k<C.components.length;k+=1){var P=C.components[k],U=w.get(P.glyphIndex);if(U.getPath(),U.points){var q=void 0;if(P.matchedPoints===void 0)q=_i(U.points,P);else{if(P.matchedPoints[0]>C.points.length-1||P.matchedPoints[1]>U.points.length-1)throw Error("Matched points out of range in "+C.name);var X=C.points[P.matchedPoints[0]],re=U.points[P.matchedPoints[1]],P={xScale:P.xScale,scale01:P.scale01,scale10:P.scale10,yScale:P.yScale,dx:0,dy:0},re=_i([re],P)[0];P.dx=X.x-re.x,P.dy=X.y-re.y,q=_i(U.points,P)}C.points=C.points.concat(q)}}return Ja(C.points)}(to.prototype=eo.prototype={searchTag:bi,binSearch:Ya,getTable:function(w){var C=this.font.tables[this.tableName];return C=!C&&w?this.font.tables[this.tableName]=this.createDefaultTable():C},getScriptNames:function(){var w=this.getTable();return w?w.scripts.map(function(C){return C.tag}):[]},getDefaultScriptName:function(){var w=this.getTable();if(w){for(var C=!1,k=0;k<w.scripts.length;k++){var P=w.scripts[k].tag;if(P==="DFLT")return P;P==="latn"&&(C=!0)}return C?"latn":void 0}},getScriptTable:function(w,C){var k,P=this.getTable(C);if(P)return k=P.scripts,0<=(P=bi(P.scripts,w=w||"DFLT"))?k[P].script:C?(k.splice(-1-P,0,C={tag:w,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),C.script):void 0},getLangSysTable:function(U,C,k){var P,U=this.getScriptTable(U,k);if(U)return C&&C!=="dflt"&&C!=="DFLT"?0<=(P=bi(U.langSysRecords,C))?U.langSysRecords[P].langSys:k?(U.langSysRecords.splice(-1-P,0,k={tag:C,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),k.langSys):void 0:U.defaultLangSys},getFeatureTable:function(w,C,k,P){if(w=this.getLangSysTable(w,C,P),w){for(var U,q=w.featureIndexes,X=this.font.tables[this.tableName].features,re=0;re<q.length;re++)if((U=X[q[re]]).tag===k)return U.feature;if(P)return C=X.length,R.assert(C===0||k>=X[C-1].tag,"Features must be added in alphabetical order."),X.push(U={tag:k,feature:{params:0,lookupListIndexes:[]}}),q.push(C),U.feature}},getLookupTables:function(q,C,k,P,U){var q=this.getFeatureTable(q,C,k,U),X=[];if(q){for(var re,fe=q.lookupListIndexes,ue=this.font.tables[this.tableName].lookups,Se=0;Se<fe.length;Se++)(re=ue[fe[Se]]).lookupType===P&&X.push(re);if(X.length===0&&U)return C=ue.length,ue.push(re={lookupType:P,lookupFlag:0,subtables:[],markFilteringSet:void 0}),fe.push(C),[re]}return X},getGlyphClass:function(w,C){switch(w.format){case 1:return w.startGlyph<=C&&C<w.startGlyph+w.classes.length?w.classes[C-w.startGlyph]:0;case 2:var k=$a(w.ranges,C);return k?k.classId:0}},getCoverageIndex:function(w,C){switch(w.format){case 1:var k=Ya(w.glyphs,C);return 0<=k?k:-1;case 2:return k=$a(w.ranges,C),k?k.index+C-k.start:-1}},expandCoverage:function(w){if(w.format===1)return w.glyphs;for(var C=[],k=w.ranges,P=0;P<k.length;P++)for(var U=k[P],q=U.start,X=U.end,re=q;re<=X;re++)C.push(re);return C}}).init=function(){var w=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(w)},to.prototype.getKerningValue=function(w,C,k){for(var P=0;P<w.length;P++)for(var U=w[P].subtables,q=0;q<U.length;q++){var X=U[q],re=this.getCoverageIndex(X.coverage,C);if(!(re<0))switch(X.posFormat){case 1:for(var fe=X.pairSets[re],ue=0;ue<fe.length;ue++){var Se=fe[ue];if(Se.secondGlyph===k)return Se.value1&&Se.value1.xAdvance||0}break;case 2:var Ae=this.getGlyphClass(X.classDef1,C),Fe=this.getGlyphClass(X.classDef2,k),Ae=X.classRecords[Ae][Fe];return Ae.value1&&Ae.value1.xAdvance||0}}return 0},to.prototype.getKerningTables=function(w,C){if(this.font.tables.gpos)return this.getLookupTables(w,C,"kern",2)},(Qr.prototype=eo.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Qr.prototype.getSingle=function(w,C,k){for(var P=[],U=this.getLookupTables(C,k,w,1),q=0;q<U.length;q++)for(var X=U[q].subtables,re=0;re<X.length;re++){var fe=X[re],ue=this.expandCoverage(fe.coverage),Se=void 0;if(fe.substFormat===1)for(var Fe=fe.deltaGlyphId,Se=0;Se<ue.length;Se++){var Ae=ue[Se];P.push({sub:Ae,by:Ae+Fe})}else{var ye=fe.substitute;for(Se=0;Se<ue.length;Se++)P.push({sub:ue[Se],by:ye[Se]})}}return P},Qr.prototype.getAlternates=function(w,C,k){for(var P=[],U=this.getLookupTables(C,k,w,3),q=0;q<U.length;q++)for(var X=U[q].subtables,re=0;re<X.length;re++)for(var fe=X[re],ue=this.expandCoverage(fe.coverage),Se=fe.alternateSets,Fe=0;Fe<ue.length;Fe++)P.push({sub:ue[Fe],by:Se[Fe]});return P},Qr.prototype.getLigatures=function(w,C,k){for(var P=[],U=this.getLookupTables(C,k,w,4),q=0;q<U.length;q++)for(var X=U[q].subtables,re=0;re<X.length;re++)for(var fe=X[re],ue=this.expandCoverage(fe.coverage),Se=fe.ligatureSets,Fe=0;Fe<ue.length;Fe++)for(var Ae=ue[Fe],ye=Se[Fe],Ue=0;Ue<ye.length;Ue++){var Ie=ye[Ue];P.push({sub:[Ae].concat(Ie.components),by:Ie.ligGlyph})}return P},Qr.prototype.addSingle=function(w,C,k,P){k=Za(this.getLookupTables(k,P,w,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format),P=C.sub,w=this.binSearch(k.coverage.glyphs,P),w<0&&(k.coverage.glyphs.splice(w=-1-w,0,P),k.substitute.splice(w,0,0)),k.substitute[w]=C.by},Qr.prototype.addAlternate=function(w,C,k,P){k=Za(this.getLookupTables(k,P,w,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format),P=C.sub,w=this.binSearch(k.coverage.glyphs,P),w<0&&(k.coverage.glyphs.splice(w=-1-w,0,P),k.alternateSets.splice(w,0,0)),k.alternateSets[w]=C.by},Qr.prototype.addLigature=function(q,fe,re,U){var re=this.getLookupTables(re,U,q,4,!0)[0],U=re.subtables[0],q=(U||(re.subtables[0]=U={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(U.coverage.format===1,"Ligature: unable to modify coverage table format "+U.coverage.format),fe.sub[0]),X=fe.sub.slice(1),re={ligGlyph:fe.by,components:X},fe=this.binSearch(U.coverage.glyphs,q);if(0<=fe){for(var ue=U.ligatureSets[fe],Se=0;Se<ue.length;Se++)if(function(Fe,Ae){var ye=Fe.length;if(ye===Ae.length){for(var Ue=0;Ue<ye;Ue++)if(Fe[Ue]!==Ae[Ue])return;return 1}}(ue[Se].components,X))return;ue.push(re)}else U.coverage.glyphs.splice(fe=-1-fe,0,q),U.ligatureSets.splice(fe,0,[re])},Qr.prototype.getFeature=function(w,C,k){if(/ss\d\d/.test(w))return this.getSingle(w,C,k);switch(w){case"aalt":case"salt":return this.getSingle(w,C,k).concat(this.getAlternates(w,C,k));case"dlig":case"liga":case"rlig":return this.getLigatures(w,C,k)}},Qr.prototype.add=function(w,C,k,P){if(/ss\d\d/.test(w))return this.addSingle(w,C,k,P);switch(w){case"aalt":case"salt":return typeof C.by=="number"?this.addSingle(w,C,k,P):this.addAlternate(w,C,k,P);case"dlig":case"liga":case"rlig":return this.addLigature(w,C,k,P)}};var el={getPath:Ja,parse:function(w,C,k,P){for(var U=new tt.GlyphSet(P),q=0;q<k.length-1;q+=1){var X=k[q];X!==k[q+1]?U.push(q,tt.ttfGlyphLoader(P,q,mh,w,C+X,gh)):U.push(q,tt.glyphLoader(P,q))}return U}};function tl(w){this.font=w,this.getCommands=function(C){return el.getPath(C).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function yh(w){return w}function rl(w){return Math.sign(w)*Math.round(Math.abs(w))}function vh(w){return Math.sign(w)*Math.round(Math.abs(2*w))/2}function bh(w){return Math.sign(w)*(Math.round(Math.abs(w)+.5)-.5)}function _h(w){return Math.sign(w)*Math.ceil(Math.abs(w))}function xh(w){return Math.sign(w)*Math.floor(Math.abs(w))}function nl(w){var C=this.srPeriod,k=this.srPhase,P=1;return w<0&&(w=-w,P=-1),w+=this.srThreshold-k,w=Math.trunc(w/C)*C,(w+=k)<0?k*P:w*P}var Jr={x:1,y:0,axis:"x",distance:function(w,C,k,P){return(k?w.xo:w.x)-(P?C.xo:C.x)},interpolate:function(w,C,k,P){var U,q,X,re,fe,ue,Se;if(!P||P===this)return U=w.xo-C.xo,q=w.xo-k.xo,fe=C.x-C.xo,ue=k.x-k.xo,(Se=(X=Math.abs(U))+(re=Math.abs(q)))===0?void(w.x=w.xo+(fe+ue)/2):void(w.x=w.xo+(fe*re+ue*X)/Se);U=P.distance(w,C,!0,!0),q=P.distance(w,k,!0,!0),fe=P.distance(C,C,!1,!0),ue=P.distance(k,k,!1,!0),(Se=(X=Math.abs(U))+(re=Math.abs(q)))===0?Jr.setRelative(w,w,(fe+ue)/2,P,!0):Jr.setRelative(w,w,(fe*re+ue*X)/Se,P,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(w,C,k,P,U){var q,X;P&&P!==this?(q=U?C.xo:C.x,X=U?C.yo:C.y,q+=k*P.x,X+=k*P.y,w.x=q+(w.y-X)/P.normalSlope):w.x=(U?C.xo:C.x)+k},slope:0,touch:function(w){w.xTouched=!0},touched:function(w){return w.xTouched},untouch:function(w){w.xTouched=!1}},an={x:0,y:1,axis:"y",distance:function(w,C,k,P){return(k?w.yo:w.y)-(P?C.yo:C.y)},interpolate:function(w,C,k,P){var U,q,X,re,fe,ue,Se;if(!P||P===this)return U=w.yo-C.yo,q=w.yo-k.yo,fe=C.y-C.yo,ue=k.y-k.yo,(Se=(X=Math.abs(U))+(re=Math.abs(q)))===0?void(w.y=w.yo+(fe+ue)/2):void(w.y=w.yo+(fe*re+ue*X)/Se);U=P.distance(w,C,!0,!0),q=P.distance(w,k,!0,!0),fe=P.distance(C,C,!1,!0),ue=P.distance(k,k,!1,!0),(Se=(X=Math.abs(U))+(re=Math.abs(q)))===0?an.setRelative(w,w,(fe+ue)/2,P,!0):an.setRelative(w,w,(fe*re+ue*X)/Se,P,!0)},normalSlope:0,setRelative:function(w,C,k,P,U){var q,X;P&&P!==this?(q=U?C.xo:C.x,X=U?C.yo:C.y,q+=k*P.x,X+=k*P.y,w.y=X+P.normalSlope*(w.x-q)):w.y=(U?C.yo:C.y)+k},slope:Number.POSITIVE_INFINITY,touch:function(w){w.yTouched=!0},touched:function(w){return w.yTouched},untouch:function(w){w.yTouched=!1}};function _s(w,C){this.x=w,this.y=C,this.axis=void 0,this.slope=C/w,this.normalSlope=-w/C,Object.freeze(this)}function xs(w,C){var k=Math.sqrt(w*w+C*C);return C/=k,(w/=k)===1&&C===0?Jr:w===0&&C===1?an:new _s(w,C)}function ln(w,C,k,P){this.x=this.xo=Math.round(64*w)/64,this.y=this.yo=Math.round(64*C)/64,this.lastPointOfContour=k,this.onCurve=P,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Jr),Object.freeze(an),_s.prototype.distance=function(w,C,k,P){return this.x*Jr.distance(w,C,k,P)+this.y*an.distance(w,C,k,P)},_s.prototype.interpolate=function(w,U,q,P){var X=P.distance(w,U,!0,!0),re=P.distance(w,q,!0,!0),U=P.distance(U,U,!1,!0),q=P.distance(q,q,!1,!0),X=Math.abs(X),re=Math.abs(re),fe=X+re;fe===0?this.setRelative(w,w,(U+q)/2,P,!0):this.setRelative(w,w,(U*re+q*X)/fe,P,!0)},_s.prototype.setRelative=function(w,q,fe,ue,re){var X=re?q.xo:q.x,re=re?q.yo:q.y,q=X+fe*(ue=ue||this).x,X=re+fe*ue.y,re=ue.normalSlope,fe=this.slope,ue=w.x,Se=w.y;w.x=(fe*ue-re*q+X-Se)/(fe-re),w.y=fe*(w.x-ue)+Se},_s.prototype.touch=function(w){w.xTouched=!0,w.yTouched=!0},ln.prototype.nextTouched=function(w){for(var C=this.nextPointOnContour;!w.touched(C)&&C!==this;)C=C.nextPointOnContour;return C},ln.prototype.prevTouched=function(w){for(var C=this.prevPointOnContour;!w.touched(C)&&C!==this;)C=C.prevPointOnContour;return C};var ws=Object.freeze(new ln(0,0)),wh={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function bn(w,C){switch(this.env=w,this.stack=[],this.prog=C,w){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Jr,this.round=rl}}function ro(w){for(var C=w.tZone=new Array(w.gZone.length),k=0;k<C.length;k++)C[k]=new ln(0,0)}function sl(w,C){var k,P=w.prog,U=w.ip,q=1;do if((k=P[++U])===88)q++;else if(k===89)q--;else if(k===64)U+=P[U+1]+1;else if(k===65)U+=2*P[U+1]+1;else if(176<=k&&k<=183)U+=k-176+1;else if(184<=k&&k<=191)U+=2*(k-184+1);else if(C&&q===1&&k===27)break;while(0<q);w.ip=U}function ol(w,C){d.DEBUG&&console.log(C.step,"SVTCA["+w.axis+"]"),C.fv=C.pv=C.dpv=w}function il(w,C){d.DEBUG&&console.log(C.step,"SPVTCA["+w.axis+"]"),C.pv=C.dpv=w}function al(w,C){d.DEBUG&&console.log(C.step,"SFVTCA["+w.axis+"]"),C.fv=w}function ll(w,C){var k,U=C.stack,P=U.pop(),U=U.pop(),q=C.z2[P],X=C.z1[U];d.DEBUG&&console.log("SPVTL["+w+"]",P,U),P=w?(k=q.y-X.y,X.x-q.x):(k=X.x-q.x,X.y-q.y),C.pv=C.dpv=xs(k,P)}function ul(w,C){var k,U=C.stack,P=U.pop(),U=U.pop(),q=C.z2[P],X=C.z1[U];d.DEBUG&&console.log("SFVTL["+w+"]",P,U),P=w?(k=q.y-X.y,X.x-q.x):(k=X.x-q.x,X.y-q.y),C.fv=xs(k,P)}function xi(w){d.DEBUG&&console.log(w.step,"POP[]"),w.stack.pop()}function cl(w,C){var k=C.stack.pop(),P=C.z0[k],U=C.fv,q=C.pv,X=(d.DEBUG&&console.log(C.step,"MDAP["+w+"]",k),q.distance(P,ws));w&&(X=C.round(X)),U.setRelative(P,ws,X,q),U.touch(P),C.rp0=C.rp1=k}function dl(w,C){var k,P,U,q=C.z2,X=q.length-2;d.DEBUG&&console.log(C.step,"IUP["+w.axis+"]");for(var re=0;re<X;re++)k=q[re],w.touched(k)||(P=k.prevTouched(w))!==k&&(P===(U=k.nextTouched(w))&&w.setRelative(k,k,w.distance(P,P,!1,!0),w,!0),w.interpolate(k,P,U,w))}function hl(w,C){for(var k=C.stack,P=w?C.rp1:C.rp2,U=(w?C.z0:C.z1)[P],q=C.fv,X=C.pv,re=C.loop,fe=C.z2;re--;){var ue=k.pop(),Se=fe[ue],Fe=X.distance(U,U,!1,!0);q.setRelative(Se,Se,Fe,X),q.touch(Se),d.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-re)+": ":"")+"SHP["+(w?"rp1":"rp2")+"]",ue)}C.loop=1}function fl(w,C){for(var k=C.stack,X=w?C.rp1:C.rp2,P=(w?C.z0:C.z1)[X],U=C.fv,q=C.pv,X=k.pop(),re=C.z2[C.contours[X]],fe=re,ue=(d.DEBUG&&console.log(C.step,"SHC["+w+"]",X),q.distance(P,P,!1,!0));fe!==P&&U.setRelative(fe,fe,ue,q),(fe=fe.nextPointOnContour)!==re;);}function pl(w,C){var k,P,re=C.stack,U=w?C.rp1:C.rp2,U=(w?C.z0:C.z1)[U],q=C.fv,X=C.pv,re=re.pop();switch(d.DEBUG&&console.log(C.step,"SHZ["+w+"]",re),re){case 0:k=C.tZone;break;case 1:k=C.gZone;break;default:throw new Error("Invalid zone")}for(var fe=X.distance(U,U,!1,!0),ue=k.length-2,Se=0;Se<ue;Se++)P=k[Se],q.setRelative(P,P,fe,X)}function ml(w,C){var P=C.stack,k=P.pop()/64,P=P.pop(),U=C.z1[P],q=C.z0[C.rp0],X=C.fv,re=C.pv;X.setRelative(U,q,k,re),X.touch(U),d.DEBUG&&console.log(C.step,"MSIRP["+w+"]",k,P),C.rp1=C.rp0,C.rp2=P,w&&(C.rp0=P)}function gl(w,C){var k=C.stack,re=k.pop(),k=k.pop(),P=C.z0[k],U=C.fv,q=C.pv,X=C.cvt[re],re=(d.DEBUG&&console.log(C.step,"MIAP["+w+"]",re,"(",X,")",k),q.distance(P,ws));w&&(Math.abs(re-X)<C.cvCutIn&&(re=X),re=C.round(re)),U.setRelative(P,ws,re,q),C.zp0===0&&(P.xo=P.x,P.yo=P.y),U.touch(P),C.rp0=C.rp1=k}function yl(w,C){var k=C.stack,P=k.pop(),U=C.z2[P];d.DEBUG&&console.log(C.step,"GC["+w+"]",P),k.push(64*C.dpv.distance(U,ws,w,!1))}function vl(w,C){var P=C.stack,k=P.pop(),P=P.pop(),U=C.z1[k],q=C.z0[P],q=C.dpv.distance(q,U,w,w);d.DEBUG&&console.log(C.step,"MD["+w+"]",k,P,"->",q),C.stack.push(Math.round(64*q))}function wi(w,C){var k=C.stack,P=k.pop(),U=C.fv,q=C.pv,X=C.ppem,re=C.deltaBase+16*(w-1),fe=C.deltaShift,ue=C.z0;d.DEBUG&&console.log(C.step,"DELTAP["+w+"]",P,k);for(var Se=0;Se<P;Se++){var Fe=k.pop(),Ae=k.pop();re+((240&Ae)>>4)===X&&(0<=(Ae=(15&Ae)-8)&&Ae++,d.DEBUG&&console.log(C.step,"DELTAPFIX",Fe,"by",Ae*fe),Fe=ue[Fe],U.setRelative(Fe,Fe,Ae*fe,q))}}function no(w,C){var k=C.stack,P=k.pop();d.DEBUG&&console.log(C.step,"ROUND[]"),k.push(64*C.round(P/64))}function ji(w,C){var k=C.stack,P=k.pop(),U=C.ppem,q=C.deltaBase+16*(w-1),X=C.deltaShift;d.DEBUG&&console.log(C.step,"DELTAC["+w+"]",P,k);for(var re=0;re<P;re++){var fe=k.pop(),ue=k.pop();q+((240&ue)>>4)===U&&(0<=(ue=(15&ue)-8)&&ue++,ue=ue*X,d.DEBUG&&console.log(C.step,"DELTACFIX",fe,"by",ue),C.cvt[fe]+=ue)}}function bl(w,C){var k,U=C.stack,P=U.pop(),U=U.pop(),q=C.z2[P],X=C.z1[U];d.DEBUG&&console.log(C.step,"SDPVTL["+w+"]",P,U),P=w?(k=q.y-X.y,X.x-q.x):(k=X.x-q.x,X.y-q.y),C.dpv=xs(k,P)}function _n(w,C){var k=C.stack,P=C.prog,U=C.ip;d.DEBUG&&console.log(C.step,"PUSHB["+w+"]");for(var q=0;q<w;q++)k.push(P[++U]);C.ip=U}function xn(w,C){var k=C.ip,P=C.prog,U=C.stack;d.DEBUG&&console.log(C.ip,"PUSHW["+w+"]");for(var q=0;q<w;q++){var X=P[++k]<<8|P[++k];32768&X&&(X=-(1+(65535^X))),U.push(X)}C.ip=k}function nt(w,C,k,P,U,q){var X,re,ue=q.stack,fe=w&&ue.pop(),ue=ue.pop(),Se=q.rp0,Se=q.z0[Se],Fe=q.z1[ue],Ae=q.minDis,ye=q.fv,Ue=q.dpv,Ie=X=Ue.distance(Fe,Se,!0,!0),Be=0<=Ie?1:-1;Ie=Math.abs(Ie),w&&(re=q.cvt[fe],P&&Math.abs(Ie-re)<q.cvCutIn&&(Ie=re)),k&&Ie<Ae&&(Ie=Ae),P&&(Ie=q.round(Ie)),ye.setRelative(Fe,Se,Be*Ie,Ue),ye.touch(Fe),d.DEBUG&&console.log(q.step,(w?"MIRP[":"MDRP[")+(C?"M":"m")+(k?">":"_")+(P?"R":"_")+(U===0?"Gr":U===1?"Bl":U===2?"Wh":"")+"]",w?fe+"("+q.cvt[fe]+","+re+")":"",ue,"(d =",X,"->",Be*Ie,")"),q.rp1=q.rp0,q.rp2=ue,C&&(q.rp0=ue)}tl.prototype.exec=function(w,C){if(typeof C!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var k=this.font,P=this._prepState;if(!P||P.ppem!==C){var U=this._fpgmState;if(!U){bn.prototype=wh,(U=this._fpgmState=new bn("fpgm",k.tables.fpgm)).funcs=[],U.font=k,d.DEBUG&&(console.log("---EXEC FPGM---"),U.step=-1);try{ss(U)}catch(ue){return console.log("Hinting error in FPGM:"+ue),void(this._errorState=3)}}bn.prototype=U,(P=this._prepState=new bn("prep",k.tables.prep)).ppem=C;var q=k.tables.cvt;if(q)for(var X=P.cvt=new Array(q.length),re=C/k.unitsPerEm,fe=0;fe<q.length;fe++)X[fe]=q[fe]*re;else P.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),P.step=-1);try{ss(P)}catch(ue){this._errorState<2&&console.log("Hinting error in PREP:"+ue),this._errorState=2}}if(!(1<this._errorState))try{return jh(w,P)}catch(ue){this._errorState<1&&(console.log("Hinting error:"+ue),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var jh=function(w,C){var k=C.ppem/C.font.unitsPerEm,P=k,U=w.components;if(bn.prototype=C,U){for(var q=C.font,X=[],re=[],fe=0;fe<U.length;fe++){var ue=U[fe],Se=q.glyphs.get(ue.glyphIndex),Fe=new bn("glyf",Se.instructions);d.DEBUG&&(console.log("---EXEC COMP "+fe+"---"),Fe.step=-1),_l(Se,Fe,k,P);for(var Ae=Math.round(ue.dx*k),ye=Math.round(ue.dy*P),Ue=Fe.gZone,Ie=Fe.contours,Be=0;Be<Ue.length;Be++){var Pe=Ue[Be];Pe.xTouched=Pe.yTouched=!1,Pe.xo=Pe.x=Pe.x+Ae,Pe.yo=Pe.y=Pe.y+ye}var Le=X.length;X.push.apply(X,Ue);for(var st=0;st<Ie.length;st++)re.push(Ie[st]+Le)}w.instructions&&!Fe.inhibitGridFit&&((Fe=new bn("glyf",w.instructions)).gZone=Fe.z0=Fe.z1=Fe.z2=X,Fe.contours=re,X.push(new ln(0,0),new ln(Math.round(w.advanceWidth*k),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),Fe.step=-1),ss(Fe),X.length-=2)}else Fe=new bn("glyf",w.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),Fe.step=-1),_l(w,Fe,k,P),X=Fe.gZone;return X},_l=function(w,C,k,P){for(var U,q,X,re=w.points||[],fe=re.length,ue=C.gZone=C.z0=C.z1=C.z2=[],Se=C.contours=[],Fe=0;Fe<fe;Fe++)U=re[Fe],ue[Fe]=new ln(U.x*k,U.y*P,U.lastPointOfContour,U.onCurve);for(var Ae=0;Ae<fe;Ae++)U=ue[Ae],q||(q=U,Se.push(Ae)),U.lastPointOfContour?((U.nextPointOnContour=q).prevPointOnContour=U,q=void 0):(X=ue[Ae+1],(U.nextPointOnContour=X).prevPointOnContour=U);if(!C.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",C.stack);for(var ye=0;ye<fe;ye++)console.log(ye,ue[ye].x,ue[ye].y)}if(ue.push(new ln(0,0),new ln(Math.round(w.advanceWidth*k),0)),ss(C),ue.length-=2,d.DEBUG){console.log("FINISHED GLYPH",C.stack);for(var Ue=0;Ue<fe;Ue++)console.log(Ue,ue[Ue].x,ue[Ue].y)}}},ss=function(w){var C=w.prog;if(C){var k,P=C.length;for(w.ip=0;w.ip<P;w.ip++){if(d.DEBUG&&w.step++,!(k=Sh[C[w.ip]]))throw new Error("unknown instruction: 0x"+Number(C[w.ip]).toString(16));k(w)}}},Sh=[ol.bind(void 0,an),ol.bind(void 0,Jr),il.bind(void 0,an),il.bind(void 0,Jr),al.bind(void 0,an),al.bind(void 0,Jr),ll.bind(void 0,0),ll.bind(void 0,1),ul.bind(void 0,0),ul.bind(void 0,1),function(w){var C=(k=w.stack).pop(),k=k.pop();d.DEBUG&&console.log(w.step,"SPVFS[]",C,k),w.pv=w.dpv=xs(k,C)},function(w){var C=(k=w.stack).pop(),k=k.pop();d.DEBUG&&console.log(w.step,"SPVFS[]",C,k),w.fv=xs(k,C)},function(w){var C=w.stack,k=w.pv;d.DEBUG&&console.log(w.step,"GPV[]"),C.push(16384*k.x),C.push(16384*k.y)},function(w){var C=w.stack,k=w.fv;d.DEBUG&&console.log(w.step,"GFV[]"),C.push(16384*k.x),C.push(16384*k.y)},function(w){w.fv=w.pv,d.DEBUG&&console.log(w.step,"SFVTPV[]")},function(C){var k=(X=C.stack).pop(),P=X.pop(),U=X.pop(),q=X.pop(),X=X.pop(),fe=C.z0,Se=C.z1,re=fe[k],fe=fe[P],ue=Se[U],Se=Se[q],C=C.z2[X],k=(d.DEBUG&&console.log("ISECT[], ",k,P,U,q,X),re.x),P=re.y,U=fe.x,q=fe.y,X=ue.x,re=ue.y,fe=Se.x,ue=Se.y,Se=(k-U)*(re-ue)-(P-q)*(X-fe),Fe=k*q-P*U,Ae=X*ue-re*fe;C.x=(Fe*(X-fe)-Ae*(k-U))/Se,C.y=(Fe*(re-ue)-Ae*(P-q))/Se},function(w){w.rp0=w.stack.pop(),d.DEBUG&&console.log(w.step,"SRP0[]",w.rp0)},function(w){w.rp1=w.stack.pop(),d.DEBUG&&console.log(w.step,"SRP1[]",w.rp1)},function(w){w.rp2=w.stack.pop(),d.DEBUG&&console.log(w.step,"SRP2[]",w.rp2)},function(w){var C=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZP0[]",C),w.zp0=C){case 0:w.tZone||ro(w),w.z0=w.tZone;break;case 1:w.z0=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var C=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZP1[]",C),w.zp1=C){case 0:w.tZone||ro(w),w.z1=w.tZone;break;case 1:w.z1=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var C=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZP2[]",C),w.zp2=C){case 0:w.tZone||ro(w),w.z2=w.tZone;break;case 1:w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var C=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZPS[]",C),w.zp0=w.zp1=w.zp2=C){case 0:w.tZone||ro(w),w.z0=w.z1=w.z2=w.tZone;break;case 1:w.z0=w.z1=w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){w.loop=w.stack.pop(),d.DEBUG&&console.log(w.step,"SLOOP[]",w.loop)},function(w){d.DEBUG&&console.log(w.step,"RTG[]"),w.round=rl},function(w){d.DEBUG&&console.log(w.step,"RTHG[]"),w.round=bh},function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"SMD[]",C),w.minDis=C/64},function(w){d.DEBUG&&console.log(w.step,"ELSE[]"),sl(w,!1)},function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"JMPR[]",C),w.ip+=C-1},function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"SCVTCI[]",C),w.cvCutIn=C/64},void 0,void 0,function(w){var C=w.stack;d.DEBUG&&console.log(w.step,"DUP[]"),C.push(C[C.length-1])},xi,function(w){d.DEBUG&&console.log(w.step,"CLEAR[]"),w.stack.length=0},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"SWAP[]"),C.push(k),C.push(P)},function(w){var C=w.stack;d.DEBUG&&console.log(w.step,"DEPTH[]"),C.push(C.length)},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"CINDEX[]",k),C.push(C[C.length-k])},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"MINDEX[]",k),C.push(C.splice(C.length-k,1)[0])},void 0,void 0,void 0,function(w){var C=(P=w.stack).pop(),k=P.pop(),P=(d.DEBUG&&console.log(w.step,"LOOPCALL[]",C,k),w.ip),U=w.prog;w.prog=w.funcs[C];for(var q=0;q<k;q++)ss(w),d.DEBUG&&console.log(++w.step,q+1<k?"next loopcall":"done loopcall",q);w.ip=P,w.prog=U},function(w){var C=w.stack.pop(),k=(d.DEBUG&&console.log(w.step,"CALL[]",C),w.ip),P=w.prog;w.prog=w.funcs[C],ss(w),w.ip=k,w.prog=P,d.DEBUG&&console.log(++w.step,"returning from",C)},function(w){if(w.env!=="fpgm")throw new Error("FDEF not allowed here");var P=w.stack,C=w.prog,k=w.ip,P=P.pop(),U=k;for(d.DEBUG&&console.log(w.step,"FDEF[]",P);C[++k]!==45;);w.ip=k,w.funcs[P]=C.slice(U+1,k)},void 0,cl.bind(void 0,0),cl.bind(void 0,1),dl.bind(void 0,an),dl.bind(void 0,Jr),hl.bind(void 0,0),hl.bind(void 0,1),fl.bind(void 0,0),fl.bind(void 0,1),pl.bind(void 0,0),pl.bind(void 0,1),function(w){for(var C=w.stack,k=w.loop,P=w.fv,U=C.pop()/64,q=w.z2;k--;){var X=C.pop(),re=q[X];d.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-k)+": ":"")+"SHPIX[]",X,U),P.setRelative(re,re,U),P.touch(re)}w.loop=1},function(w){for(var C=w.stack,k=w.rp1,P=w.rp2,U=w.loop,q=w.z0[k],X=w.z1[P],re=w.fv,fe=w.dpv,ue=w.z2;U--;){var Se=C.pop(),Fe=ue[Se];d.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-U)+": ":"")+"IP[]",Se,k,"<->",P),re.interpolate(Fe,q,X,fe),re.touch(Fe)}w.loop=1},ml.bind(void 0,0),ml.bind(void 0,1),function(w){for(var C=w.stack,k=w.rp0,P=w.z0[k],U=w.loop,q=w.fv,X=w.pv,re=w.z1;U--;){var fe=C.pop(),ue=re[fe];d.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-U)+": ":"")+"ALIGNRP[]",fe),q.setRelative(ue,P,0,X),q.touch(ue)}w.loop=1},function(w){d.DEBUG&&console.log(w.step,"RTDG[]"),w.round=vh},gl.bind(void 0,0),gl.bind(void 0,1),function(w){var C=w.prog,k=w.ip,P=w.stack,U=C[++k];d.DEBUG&&console.log(w.step,"NPUSHB[]",U);for(var q=0;q<U;q++)P.push(C[++k]);w.ip=k},function(w){var C=w.ip,k=w.prog,P=w.stack,U=k[++C];d.DEBUG&&console.log(w.step,"NPUSHW[]",U);for(var q=0;q<U;q++){var X=k[++C]<<8|k[++C];32768&X&&(X=-(1+(65535^X))),P.push(X)}w.ip=C},function(w){var P=w.stack,C=(C=w.store)||(w.store=[]),k=P.pop(),P=P.pop();d.DEBUG&&console.log(w.step,"WS",k,P),C[P]=k},function(U){var C=U.stack,k=U.store,P=C.pop(),U=(d.DEBUG&&console.log(U.step,"RS",P),k&&k[P]||0);C.push(U)},function(w){var C=(k=w.stack).pop(),k=k.pop();d.DEBUG&&console.log(w.step,"WCVTP",C,k),w.cvt[k]=C/64},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"RCVT",k),C.push(64*w.cvt[k])},yl.bind(void 0,0),yl.bind(void 0,1),void 0,vl.bind(void 0,0),vl.bind(void 0,1),function(w){d.DEBUG&&console.log(w.step,"MPPEM[]"),w.stack.push(w.ppem)},void 0,function(w){d.DEBUG&&console.log(w.step,"FLIPON[]"),w.autoFlip=!0},void 0,void 0,function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"LT[]",k,P),C.push(P<k?1:0)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"LTEQ[]",k,P),C.push(P<=k?1:0)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"GT[]",k,P),C.push(k<P?1:0)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"GTEQ[]",k,P),C.push(k<=P?1:0)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"EQ[]",k,P),C.push(k===P?1:0)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"NEQ[]",k,P),C.push(k!==P?1:0)},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"ODD[]",k),C.push(Math.trunc(k)%2?1:0)},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"EVEN[]",k),C.push(Math.trunc(k)%2?0:1)},function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"IF[]",C),C||(sl(w,!0),d.DEBUG&&console.log(w.step,"EIF[]"))},function(w){d.DEBUG&&console.log(w.step,"EIF[]")},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"AND[]",k,P),C.push(k&&P?1:0)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"OR[]",k,P),C.push(k||P?1:0)},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"NOT[]",k),C.push(k?0:1)},wi.bind(void 0,1),function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"SDB[]",C),w.deltaBase=C},function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"SDS[]",C),w.deltaShift=Math.pow(.5,C)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"ADD[]",k,P),C.push(P+k)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"SUB[]",k,P),C.push(P-k)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"DIV[]",k,P),C.push(64*P/k)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"MUL[]",k,P),C.push(P*k/64)},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"ABS[]",k),C.push(Math.abs(k))},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"NEG[]",k),C.push(-k)},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"FLOOR[]",k),C.push(64*Math.floor(k/64))},function(w){var C=w.stack,k=C.pop();d.DEBUG&&console.log(w.step,"CEILING[]",k),C.push(64*Math.ceil(k/64))},no.bind(void 0,0),no.bind(void 0,1),no.bind(void 0,2),no.bind(void 0,3),void 0,void 0,void 0,void 0,function(w){var C=(k=w.stack).pop(),k=k.pop();d.DEBUG&&console.log(w.step,"WCVTF[]",C,k),w.cvt[k]=C*w.ppem/w.font.unitsPerEm},wi.bind(void 0,2),wi.bind(void 0,3),ji.bind(void 0,1),ji.bind(void 0,2),ji.bind(void 0,3),function(w){var C,k=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SROUND[]",k),w.round=nl,192&k){case 0:C=.5;break;case 64:C=1;break;case 128:C=2;break;default:throw new Error("invalid SROUND value")}switch(w.srPeriod=C,48&k){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*C;break;case 32:w.srPhase=.5*C;break;case 48:w.srPhase=.75*C;break;default:throw new Error("invalid SROUND value")}w.srThreshold=(k&=15)===0?0:(k/8-.5)*C},function(w){var C,k=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"S45ROUND[]",k),w.round=nl,192&k){case 0:C=Math.sqrt(2)/2;break;case 64:C=Math.sqrt(2);break;case 128:C=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(w.srPeriod=C,48&k){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*C;break;case 32:w.srPhase=.5*C;break;case 48:w.srPhase=.75*C;break;default:throw new Error("invalid S45ROUND value")}w.srThreshold=(k&=15)===0?0:(k/8-.5)*C},void 0,void 0,function(w){d.DEBUG&&console.log(w.step,"ROFF[]"),w.round=yh},void 0,function(w){d.DEBUG&&console.log(w.step,"RUTG[]"),w.round=_h},function(w){d.DEBUG&&console.log(w.step,"RDTG[]"),w.round=xh},xi,xi,void 0,void 0,void 0,void 0,void 0,function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"SCANCTRL[]",C)},bl.bind(void 0,0),bl.bind(void 0,1),function(w){var C=w.stack,k=C.pop(),P=0;d.DEBUG&&console.log(w.step,"GETINFO[]",k),1&k&&(P=35),32&k&&(P|=4096),C.push(P)},void 0,function(w){var C=w.stack,k=C.pop(),P=C.pop(),U=C.pop();d.DEBUG&&console.log(w.step,"ROLL[]"),C.push(P),C.push(k),C.push(U)},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"MAX[]",k,P),C.push(Math.max(P,k))},function(w){var C=w.stack,k=C.pop(),P=C.pop();d.DEBUG&&console.log(w.step,"MIN[]",k,P),C.push(Math.min(P,k))},function(w){var C=w.stack.pop();d.DEBUG&&console.log(w.step,"SCANTYPE[]",C)},function(w){var C=w.stack.pop(),k=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"INSTCTRL[]",C,k),C){case 1:return void(w.inhibitGridFit=!!k);case 2:return void(w.ignoreCvt=!!k);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,_n.bind(void 0,1),_n.bind(void 0,2),_n.bind(void 0,3),_n.bind(void 0,4),_n.bind(void 0,5),_n.bind(void 0,6),_n.bind(void 0,7),_n.bind(void 0,8),xn.bind(void 0,1),xn.bind(void 0,2),xn.bind(void 0,3),xn.bind(void 0,4),xn.bind(void 0,5),xn.bind(void 0,6),xn.bind(void 0,7),xn.bind(void 0,8),nt.bind(void 0,0,0,0,0,0),nt.bind(void 0,0,0,0,0,1),nt.bind(void 0,0,0,0,0,2),nt.bind(void 0,0,0,0,0,3),nt.bind(void 0,0,0,0,1,0),nt.bind(void 0,0,0,0,1,1),nt.bind(void 0,0,0,0,1,2),nt.bind(void 0,0,0,0,1,3),nt.bind(void 0,0,0,1,0,0),nt.bind(void 0,0,0,1,0,1),nt.bind(void 0,0,0,1,0,2),nt.bind(void 0,0,0,1,0,3),nt.bind(void 0,0,0,1,1,0),nt.bind(void 0,0,0,1,1,1),nt.bind(void 0,0,0,1,1,2),nt.bind(void 0,0,0,1,1,3),nt.bind(void 0,0,1,0,0,0),nt.bind(void 0,0,1,0,0,1),nt.bind(void 0,0,1,0,0,2),nt.bind(void 0,0,1,0,0,3),nt.bind(void 0,0,1,0,1,0),nt.bind(void 0,0,1,0,1,1),nt.bind(void 0,0,1,0,1,2),nt.bind(void 0,0,1,0,1,3),nt.bind(void 0,0,1,1,0,0),nt.bind(void 0,0,1,1,0,1),nt.bind(void 0,0,1,1,0,2),nt.bind(void 0,0,1,1,0,3),nt.bind(void 0,0,1,1,1,0),nt.bind(void 0,0,1,1,1,1),nt.bind(void 0,0,1,1,1,2),nt.bind(void 0,0,1,1,1,3),nt.bind(void 0,1,0,0,0,0),nt.bind(void 0,1,0,0,0,1),nt.bind(void 0,1,0,0,0,2),nt.bind(void 0,1,0,0,0,3),nt.bind(void 0,1,0,0,1,0),nt.bind(void 0,1,0,0,1,1),nt.bind(void 0,1,0,0,1,2),nt.bind(void 0,1,0,0,1,3),nt.bind(void 0,1,0,1,0,0),nt.bind(void 0,1,0,1,0,1),nt.bind(void 0,1,0,1,0,2),nt.bind(void 0,1,0,1,0,3),nt.bind(void 0,1,0,1,1,0),nt.bind(void 0,1,0,1,1,1),nt.bind(void 0,1,0,1,1,2),nt.bind(void 0,1,0,1,1,3),nt.bind(void 0,1,1,0,0,0),nt.bind(void 0,1,1,0,0,1),nt.bind(void 0,1,1,0,0,2),nt.bind(void 0,1,1,0,0,3),nt.bind(void 0,1,1,0,1,0),nt.bind(void 0,1,1,0,1,1),nt.bind(void 0,1,1,0,1,2),nt.bind(void 0,1,1,0,1,3),nt.bind(void 0,1,1,1,0,0),nt.bind(void 0,1,1,1,0,1),nt.bind(void 0,1,1,1,0,2),nt.bind(void 0,1,1,1,0,3),nt.bind(void 0,1,1,1,1,0),nt.bind(void 0,1,1,1,1,1),nt.bind(void 0,1,1,1,1,2),nt.bind(void 0,1,1,1,1,3)],Dh=Array.from||function(w){return w.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function kt(w){(w=w||{}).empty||(ns(w.familyName,"When creating a new Font object, familyName is required."),ns(w.styleName,"When creating a new Font object, styleName is required."),ns(w.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ns(w.ascender,"When creating a new Font object, ascender is required."),ns(w.descender,"When creating a new Font object, descender is required."),ns(w.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:w.familyName||" "},fontSubfamily:{en:w.styleName||" "},fullName:{en:w.fullName||w.familyName+" "+w.styleName},postScriptName:{en:w.postScriptName||(w.familyName+w.styleName).replace(/\s/g,"")},designer:{en:w.designer||" "},designerURL:{en:w.designerURL||" "},manufacturer:{en:w.manufacturer||" "},manufacturerURL:{en:w.manufacturerURL||" "},license:{en:w.license||" "},licenseURL:{en:w.licenseURL||" "},version:{en:w.version||"Version 0.1"},description:{en:w.description||" "},copyright:{en:w.copyright||" "},trademark:{en:w.trademark||" "}},this.unitsPerEm=w.unitsPerEm||1e3,this.ascender=w.ascender,this.descender=w.descender,this.createdTimestamp=w.createdTimestamp,this.tables={os2:{usWeightClass:w.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:w.widthClass||this.usWidthClasses.MEDIUM,fsSelection:w.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new tt.GlyphSet(this,w.glyphs||[]),this.encoding=new Ee(this),this.position=new to(this),this.substitution=new Qr(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new tl(this):void 0)}})}function xl(w,C){var k,P=JSON.stringify(w),U=256;for(k in C){var q=parseInt(k);if(q&&!(q<256)){if(JSON.stringify(C[k])===P)return q;U<=q&&(U=q+1)}}return C[U]=w,U}kt.prototype.hasChar=function(w){return this.encoding.charToGlyphIndex(w)!==null},kt.prototype.charToGlyphIndex=function(w){return this.encoding.charToGlyphIndex(w)},kt.prototype.charToGlyph=function(w){return w=this.charToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},kt.prototype.stringToGlyphs=function(w,C){C=C||this.defaultRenderOptions;for(var k=Dh(w),P=[],U=0;U<k.length;U+=1){var q=k[U];P.push(this.charToGlyphIndex(q))}var X=P.length;if(C.features){var w=C.script||this.substitution.getDefaultScriptName(),re=[];C.features.liga&&(re=re.concat(this.substitution.getFeature("liga",w,C.language))),C.features.rlig&&(re=re.concat(this.substitution.getFeature("rlig",w,C.language)));for(var fe=0;fe<X;fe+=1)for(var ue=0;ue<re.length;ue++){for(var Se=re[ue],Fe=Se.sub,Ae=Fe.length,ye=0;ye<Ae&&Fe[ye]===P[fe+ye];)ye++;ye===Ae&&(P.splice(fe,Ae,Se.by),X=X-Ae+1)}}for(var Ue=new Array(X),Ie=this.glyphs.get(0),Be=0;Be<X;Be+=1)Ue[Be]=this.glyphs.get(P[Be])||Ie;return Ue},kt.prototype.nameToGlyphIndex=function(w){return this.glyphNames.nameToGlyphIndex(w)},kt.prototype.nameToGlyph=function(w){return w=this.nameToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},kt.prototype.glyphIndexToName=function(w){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(w):""},kt.prototype.getKerningValue=function(w,C){w=w.index||w,C=C.index||C;var k=this.position.defaultKerningTables;return k?this.position.getKerningValue(k,w,C):this.kerningPairs[w+","+C]||0},kt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},kt.prototype.forEachGlyph=function(w,C,k,P,U,q){C=C!==void 0?C:0,k=k!==void 0?k:0,U=U||this.defaultRenderOptions;var X,re=1/this.unitsPerEm*(P=P!==void 0?P:72),fe=this.stringToGlyphs(w,U);U.kerning&&(w=U.script||this.position.getDefaultScriptName(),X=this.position.getKerningTables(w,U.language));for(var ue=0;ue<fe.length;ue+=1){var Se=fe[ue];q.call(this,Se,C,k,P,U),Se.advanceWidth&&(C+=Se.advanceWidth*re),U.kerning&&ue<fe.length-1&&(C+=(X?this.position.getKerningValue(X,Se.index,fe[ue+1].index):this.getKerningValue(Se,fe[ue+1]))*re),U.letterSpacing?C+=U.letterSpacing*P:U.tracking&&(C+=U.tracking/1e3*P)}return C},kt.prototype.getPath=function(w,C,k,P,U){var q=new K;return this.forEachGlyph(w,C,k,P,U,function(X,re,fe,ue){X=X.getPath(re,fe,ue,U,this),q.extend(X)}),q},kt.prototype.getPaths=function(w,C,k,P,U){var q=[];return this.forEachGlyph(w,C,k,P,U,function(X,re,fe,ue){X=X.getPath(re,fe,ue,U,this),q.push(X)}),q},kt.prototype.getAdvanceWidth=function(w,C,k){return this.forEachGlyph(w,0,0,C,k,function(){})},kt.prototype.draw=function(w,C,k,P,U,q){this.getPath(C,k,P,U,q).draw(w)},kt.prototype.drawPoints=function(w,C,k,P,U,q){this.forEachGlyph(C,k,P,U,q,function(X,re,fe,ue){X.drawPoints(w,re,fe,ue)})},kt.prototype.drawMetrics=function(w,C,k,P,U,q){this.forEachGlyph(C,k,P,U,q,function(X,re,fe,ue){X.drawMetrics(w,re,fe,ue)})},kt.prototype.getEnglishName=function(w){if(w=this.names[w],w)return w.en},kt.prototype.validate=function(){var w=this;function C(k){k=w.getEnglishName(k),k&&k.trim().length}C("fontFamily"),C("weightName"),C("manufacturer"),C("copyright"),C("version"),this.unitsPerEm},kt.prototype.toTables=function(){return ph.fontToTable(this)},kt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},kt.prototype.toArrayBuffer=function(){for(var w=this.toTables().encode(),C=new ArrayBuffer(w.length),k=new Uint8Array(C),P=0;P<w.length;P++)k[P]=w[P];return C},kt.prototype.download=function(w){var C=this.getEnglishName("fontFamily"),k=this.getEnglishName("fontSubfamily"),P=(w=w||C.replace(/\s/g,"")+"-"+k+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,P.byteLength,function(U){U.root.getFile(w,{create:!0},function(q){q.createWriter(function(X){var re=new DataView(P),re=new Blob([re],{type:"font/opentype"});X.write(re),X.addEventListener("writeend",function(){location.href=q.toURL()},!1)})})},function(U){throw new Error(U.name+": "+U.message)})):(C=t("fs"),k=function(U){for(var q=new o(U.byteLength),X=new Uint8Array(U),re=0;re<q.length;++re)q[re]=X[re];return q}(P),C.writeFileSync(w,k))},kt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},kt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},kt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Eh={make:function(w,C){var k=new Oe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:w.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:w.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*w.axes.length}]);k.offsetToData=k.sizeOf();for(var P,U,q,X=0;X<w.axes.length;X++)k.fields=k.fields.concat((P=X,U=w.axes[X],q=C,q=xl(U.name,C),[{name:"tag_"+P,type:"TAG",value:U.tag},{name:"minValue_"+P,type:"FIXED",value:U.minValue<<16},{name:"defaultValue_"+P,type:"FIXED",value:U.defaultValue<<16},{name:"maxValue_"+P,type:"FIXED",value:U.maxValue<<16},{name:"flags_"+P,type:"USHORT",value:0},{name:"nameID_"+P,type:"USHORT",value:q}]));for(var re=0;re<w.instances.length;re++)k.fields=k.fields.concat(function(fe,ue,Se,Fe){for(var Ae=[{name:"nameID_"+fe,type:"USHORT",value:xl(ue.name,Fe)},{name:"flags_"+fe,type:"USHORT",value:0}],ye=0;ye<Se.length;++ye){var Ue=Se[ye].tag;Ae.push({name:"axis_"+fe+" "+Ue,type:"FIXED",value:ue.coordinates[Ue]<<16})}return Ae}(re,w.instances[re],w.axes,C));return k},parse:function(w,C,k){for(var P,U,q,X,re=new me.Parser(w,C),fe=re.parseULong(),ue=(R.argument(fe===65536,"Unsupported fvar table version."),re.parseOffset16()),Se=(re.skip("uShort",1),re.parseUShort()),Fe=re.parseUShort(),Ae=re.parseUShort(),ye=re.parseUShort(),Ue=[],Ie=0;Ie<Se;Ie++)Ue.push((P=w,U=C+ue+Ie*Fe,q=k,X={},P=new me.Parser(P,U),X.tag=P.parseTag(),X.minValue=P.parseFixed(),X.defaultValue=P.parseFixed(),X.maxValue=P.parseFixed(),P.skip("uShort",1),X.name=q[P.parseUShort()]||{},X));for(var Be=[],Pe=C+ue+Se*Fe,Le=0;Le<Ae;Le++)Be.push(function(st,pt,ot,it){var vt={},Pt=new me.Parser(st,pt);vt.name=it[Pt.parseUShort()]||{},Pt.skip("uShort",1),vt.coordinates={};for(var $t=0;$t<ot.length;++$t)vt.coordinates[ot[$t].tag]=Pt.parseFixed();return vt}(w,Pe+Le*ye,Ue,k));return{axes:Ue,instances:Be}}},Gr=new Array(10);Gr[1]=function(){var w=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{posFormat:1,coverage:this.parsePointer(ce.coverage),value:this.parseValueRecord()}:C===2?{posFormat:2,coverage:this.parsePointer(ce.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+w.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Gr[2]=function(){var w,C,k,P,q=this.offset+this.relativeOffset,U=this.parseUShort(),q=(R.assert(U===1||U===2,"0x"+q.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(ce.coverage)),X=this.parseUShort(),re=this.parseUShort();return U===1?{posFormat:U,coverage:q,valueFormat1:X,valueFormat2:re,pairSets:this.parseList(ce.pointer(ce.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(X),value2:this.parseValueRecord(re)}})))}:U===2?(w=this.parsePointer(ce.classDef),C=this.parsePointer(ce.classDef),k=this.parseUShort(),P=this.parseUShort(),{posFormat:U,coverage:q,valueFormat1:X,valueFormat2:re,classDef1:w,classDef2:C,class1Count:k,class2Count:P,classRecords:this.parseList(k,ce.list(P,function(){return{value1:this.parseValueRecord(X),value2:this.parseValueRecord(re)}}))}):void 0},Gr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Gr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Gr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Gr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Gr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Gr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Gr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Ch=new Array(10),Mh={parse:function(w,C){return C=(w=new ce(w,C=C||0)).parseVersion(1),R.argument(C===1||C===1.1,"Unsupported GPOS table version "+C),C===1?{version:C,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Gr)}:{version:C,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Gr),variations:w.parseFeatureVariationsList()}},make:function(w){return new Oe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Oe.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Oe.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Oe.LookupList(w.lookups,Ch)}])}},Ah={parse:function(w,C){if(w=new me.Parser(w,C),(C=w.parseUShort())===0){var k=w,P={},Fe=(k.skip("uShort"),k.parseUShort()),U=(R.argument(Fe===0,"Unsupported kern sub-table version."),k.skip("uShort",2),k.parseUShort());k.skip("uShort",3);for(var q=0;q<U;q+=1){var X=k.parseUShort(),re=k.parseUShort(),fe=k.parseShort();P[X+","+re]=fe}return P}if(C!==1)throw new Error("Unsupported kern table version ("+C+").");var ue=w,Se={},Fe=(ue.skip("uShort"),1<ue.parseULong()&&console.warn("Only the first kern subtable is supported."),ue.skip("uLong"),255&ue.parseUShort());if(ue.skip("uShort"),Fe==0){var Ae=ue.parseUShort();ue.skip("uShort",3);for(var ye=0;ye<Ae;ye+=1){var Ue=ue.parseUShort(),Ie=ue.parseUShort(),Be=ue.parseShort();Se[Ue+","+Ie]=Be}}return Se}},Th={parse:function(w,C,k,P){for(var U=new me.Parser(w,C),q=P?U.parseUShort:U.parseULong,X=[],re=0;re<k+1;re+=1){var fe=q.call(U);P&&(fe*=2),X.push(fe)}return X}};function kh(w,C){t("fs").readFile(w,function(k,P){if(k)return C(k.message);C(null,Ka(P))})}function Oh(w,C){var k=new XMLHttpRequest;k.open("get",w,!0),k.responseType="arraybuffer",k.onload=function(){return k.response?C(null,k.response):C("Font could not be loaded: "+k.statusText)},k.onerror=function(){C("Font could not be loaded")},k.send()}function wl(w,C){for(var k=[],P=12,U=0;U<C;U+=1){var q=me.getTag(w,P),X=me.getULong(w,P+4),re=me.getULong(w,P+8),fe=me.getULong(w,P+12);k.push({tag:q,checksum:X,offset:re,length:fe,compression:!1}),P+=16}return k}function rr(k,C){if(C.compression!=="WOFF")return{data:k,offset:C.offset};var k=new Uint8Array(k.buffer,C.offset+2,C.compressedLength-2),P=new Uint8Array(C.length);if(V(k,P),P.byteLength!==C.length)throw new Error("Decompression error: "+C.tag+" decompressed length doesn't match recorded length");return{data:new DataView(P.buffer,0),offset:0}}function Si(Le){var C,k,P,U,q,X,re,fe,ue,Se,Fe,Ae,ye,Ue,Ie=new kt({empty:!0}),Be=new DataView(Le,0),Pe=[],Le=me.getTag(Be,0);if(Le==="\0\0\0"||Le==="true"||Le==="typ1")Ie.outlinesFormat="truetype",Pe=wl(Be,P=me.getUShort(Be,4));else if(Le==="OTTO")Ie.outlinesFormat="cff",Pe=wl(Be,P=me.getUShort(Be,4));else{if(Le!=="wOFF")throw new Error("Unsupported OpenType signature "+Le);var st=me.getTag(Be,4);if(st==="\0\0\0")Ie.outlinesFormat="truetype";else{if(st!=="OTTO")throw new Error("Unsupported OpenType flavor "+Le);Ie.outlinesFormat="cff"}Pe=function(Rt,Et){for(var xr=[],Xt=44,pr=0;pr<Et;pr+=1){var It=me.getTag(Rt,Xt),dr=me.getULong(Rt,Xt+4),js=me.getULong(Rt,Xt+8),os=me.getULong(Rt,Xt+12),jl=void 0,jl=js<os&&"WOFF";xr.push({tag:It,offset:dr,compression:jl,compressedLength:js,length:os}),Xt+=20}return xr}(Be,P=me.getUShort(Be,12))}for(var pt=0;pt<P;pt+=1){var ot=Pe[pt],it=void 0;switch(ot.tag){case"cmap":it=rr(Be,ot),Ie.tables.cmap=Z.parse(it.data,it.offset),Ie.encoding=new Re(Ie.tables.cmap);break;case"cvt ":it=rr(Be,ot),Ue=new me.Parser(it.data,it.offset),Ie.tables.cvt=Ue.parseShortList(ot.length/2);break;case"fvar":q=ot;break;case"fpgm":it=rr(Be,ot),Ue=new me.Parser(it.data,it.offset),Ie.tables.fpgm=Ue.parseByteList(ot.length);break;case"head":it=rr(Be,ot),Ie.tables.head=Nn.parse(it.data,it.offset),Ie.unitsPerEm=Ie.tables.head.unitsPerEm,C=Ie.tables.head.indexToLocFormat;break;case"hhea":it=rr(Be,ot),Ie.tables.hhea=ve.parse(it.data,it.offset),Ie.ascender=Ie.tables.hhea.ascender,Ie.descender=Ie.tables.hhea.descender,Ie.numberOfHMetrics=Ie.tables.hhea.numberOfHMetrics;break;case"hmtx":ue=ot;break;case"ltag":it=rr(Be,ot),k=Je.parse(it.data,it.offset);break;case"maxp":it=rr(Be,ot),Ie.tables.maxp=He.parse(it.data,it.offset),Ie.numGlyphs=Ie.tables.maxp.numGlyphs;break;case"name":Ae=ot;break;case"OS/2":it=rr(Be,ot),Ie.tables.os2=cr.parse(it.data,it.offset);break;case"post":it=rr(Be,ot),Ie.tables.post=za.parse(it.data,it.offset),Ie.glyphNames=new Xe(Ie.tables.post);break;case"prep":it=rr(Be,ot),Ue=new me.Parser(it.data,it.offset),Ie.tables.prep=Ue.parseByteList(ot.length);break;case"glyf":X=ot;break;case"loca":Fe=ot;break;case"CFF ":U=ot;break;case"kern":Se=ot;break;case"GPOS":re=ot;break;case"GSUB":fe=ot;break;case"meta":ye=ot}}if(st=rr(Be,Ae),Ie.tables.name=Fr.parse(st.data,st.offset,k),Ie.names=Ie.tables.name,X&&Fe)Le=C===0,st=rr(Be,Fe),st=Th.parse(st.data,st.offset,Ie.numGlyphs,Le),Le=rr(Be,X),Ie.glyphs=el.parse(Le.data,Le.offset,st,Ie);else{if(!U)throw new Error("Font doesn't contain TrueType or CFF outlines.");Le=rr(Be,U),Bn.parse(Le.data,Le.offset,Ie)}for(var st=rr(Be,ue),vt=(qe.parse(st.data,st.offset,Ie.numberOfHMetrics,Ie.numGlyphs,Ie.glyphs),Ie),Pt=vt.tables.cmap.glyphIndexMap,$t=Object.keys(Pt),nr=0;nr<$t.length;nr+=1){var br,_r=$t[nr],Vr=Pt[_r];(br=vt.glyphs.get(Vr)).addUnicode(parseInt(_r))}for(var Ot=0;Ot<vt.glyphs.length;Ot+=1)br=vt.glyphs.get(Ot),vt.cffEncoding?vt.isCIDFont?br.name="gid"+Ot:br.name=vt.cffEncoding.charset[Ot]:vt.glyphNames.names&&(br.name=vt.glyphNames.glyphIndexToName(Ot));return Se?(Le=rr(Be,Se),Ie.kerningPairs=Ah.parse(Le.data,Le.offset)):Ie.kerningPairs={},re&&(st=rr(Be,re),Ie.tables.gpos=Mh.parse(st.data,st.offset),Ie.position.init()),fe&&(Le=rr(Be,fe),Ie.tables.gsub=Ga.parse(Le.data,Le.offset)),q&&(st=rr(Be,q),Ie.tables.fvar=Eh.parse(st.data,st.offset,Ie.names)),ye&&(Le=rr(Be,ye),Ie.tables.meta=Va.parse(Le.data,Le.offset),Ie.metas=Ie.tables.meta),Ie}d.Font=kt,d.Glyph=Ke,d.Path=K,d.BoundingBox=Y,d._parse=me,d.parse=Si,d.load=function(w,C){(typeof window>"u"?kh:Oh)(w,function(k,P){if(k)return C(k);var U;try{U=Si(P)}catch(q){return C(q,null)}return C(null,U)})},d.loadSync=function(w){return Si(Ka(t("fs").readFileSync(w)))},Object.defineProperty(d,"__esModule",{value:!0})},i(typeof l=="object"&&a!==void 0?l:u.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,a,l){(function(o){function u(p,m){for(var c=0,h=p.length-1;0<=h;h--){var v=p[h];v==="."?p.splice(h,1):v===".."?(p.splice(h,1),c++):c&&(p.splice(h,1),c--)}if(m)for(;c--;)p.unshift("..");return p}function i(p,m){if(p.filter)return p.filter(m);for(var c=[],h=0;h<p.length;h++)m(p[h],h,p)&&c.push(p[h]);return c}l.resolve=function(){for(var p="",m=!1,c=arguments.length-1;-1<=c&&!m;c--){var h=0<=c?arguments[c]:o.cwd();if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");h&&(p=h+"/"+p,m=h.charAt(0)==="/")}return(m?"/":"")+(p=u(i(p.split("/"),function(v){return!!v}),!m).join("/"))||"."},l.normalize=function(p){var m=l.isAbsolute(p),c=d(p,-1)==="/";return(p=(p=u(i(p.split("/"),function(h){return!!h}),!m).join("/"))||m?p:".")&&c&&(p+="/"),(m?"/":"")+p},l.isAbsolute=function(p){return p.charAt(0)==="/"},l.join=function(){var p=Array.prototype.slice.call(arguments,0);return l.normalize(i(p,function(m,c){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},l.relative=function(p,m){function c(x){for(var _=0;_<x.length&&x[_]==="";_++);for(var j=x.length-1;0<=j&&x[j]==="";j--);return j<_?[]:x.slice(_,j-_+1)}p=l.resolve(p).substr(1),m=l.resolve(m).substr(1);for(var h=c(p.split("/")),v=c(m.split("/")),f=Math.min(h.length,v.length),y=f,g=0;g<f;g++)if(h[g]!==v[g]){y=g;break}for(var b=[],g=y;g<h.length;g++)b.push("..");return(b=b.concat(v.slice(y))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(p){if(typeof p!="string"&&(p+=""),p.length===0)return".";for(var m=p.charCodeAt(0)===47,c=-1,h=!0,v=p.length-1;1<=v;--v)if(p.charCodeAt(v)===47){if(!h){c=v;break}}else h=!1;return c===-1?m?"/":".":m&&c===1?"/":p.slice(0,c)},l.basename=function(p,m){return p=function(c){typeof c!="string"&&(c+="");for(var h=0,v=-1,f=!0,y=c.length-1;0<=y;--y)if(c.charCodeAt(y)===47){if(!f){h=y+1;break}}else v===-1&&(f=!1,v=y+1);return v===-1?"":c.slice(h,v)}(p),p=m&&p.substr(-1*m.length)===m?p.substr(0,p.length-m.length):p},l.extname=function(p){typeof p!="string"&&(p+="");for(var m=-1,c=0,h=-1,v=!0,f=0,y=p.length-1;0<=y;--y){var g=p.charCodeAt(y);if(g===47){if(v)continue;c=y+1;break}h===-1&&(v=!1,h=y+1),g===46?m===-1?m=y:f!==1&&(f=1):m!==-1&&(f=-1)}return m===-1||h===-1||f===0||f===1&&m===h-1&&m===c+1?"":p.slice(m,h)};var d="ab".substr(-1)==="b"?function(p,m,c){return p.substr(m,c)}:function(p,m,c){return m<0&&(m=p.length+m),p.substr(m,c)}}).call(this,t("_process"))},{_process:259}],259:[function(t,i,l){var o,u,i=i.exports={};function d(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}try{o=typeof setTimeout=="function"?setTimeout:d}catch{o=d}try{u=typeof clearTimeout=="function"?clearTimeout:p}catch{u=p}function m(_){if(o===setTimeout)return setTimeout(_,0);if((o===d||!o)&&setTimeout)return(o=setTimeout)(_,0);try{return o(_,0)}catch{try{return o.call(null,_,0)}catch{return o.call(this,_,0)}}}var c,h=[],v=!1,f=-1;function y(){v&&c&&(v=!1,c.length?h=c.concat(h):f=-1,h.length&&g())}function g(){if(!v){for(var _=m(y),j=(v=!0,h.length);j;){for(c=h,h=[];++f<j;)c&&c[f].run();f=-1,j=h.length}c=null,v=!1,function(S){if(u===clearTimeout)return clearTimeout(S);if((u===p||!u)&&clearTimeout)return(u=clearTimeout)(S);try{u(S)}catch{try{return u.call(null,S)}catch{return u.call(this,S)}}}(_)}}function b(_,j){this.fun=_,this.array=j}function x(){}i.nextTick=function(_){var j=new Array(arguments.length-1);if(1<arguments.length)for(var S=1;S<arguments.length;S++)j[S-1]=arguments[S];h.push(new b(_,j)),h.length!==1||v||m(g)},b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=x,i.addListener=x,i.once=x,i.off=x,i.removeListener=x,i.removeAllListeners=x,i.emit=x,i.prependListener=x,i.prependOnceListener=x,i.listeners=function(_){return[]},i.binding=function(_){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(_){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],260:[function(t,a,l){a=function(o){var u,i=Object.prototype,d=i.hasOwnProperty,D=typeof Symbol=="function"?Symbol:{},p=D.iterator||"@@iterator",m=D.asyncIterator||"@@asyncIterator",c=D.toStringTag||"@@toStringTag";function h(H,z,G,W){var K,se,M,R,z=z&&z.prototype instanceof _?z:_,z=Object.create(z.prototype),W=new B(W||[]);return z._invoke=(K=H,se=G,M=W,R=f,function(J,te){if(R===g)throw new Error("Generator is already running");if(R===b){if(J==="throw")throw te;return N()}for(M.method=J,M.arg=te;;){var ie=M.delegate;if(ie&&(ie=function de(oe,he){var le=oe.iterator[he.method];if(le===u){if(he.delegate=null,he.method==="throw"){if(oe.iterator.return&&(he.method="return",he.arg=u,de(oe,he),he.method==="throw"))return x;he.method="throw",he.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}if(le=v(le,oe.iterator,he.arg),le.type==="throw")return he.method="throw",he.arg=le.arg,he.delegate=null,x;if(le=le.arg,!le)return he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,x;{if(!le.done)return le;he[oe.resultName]=le.value,he.next=oe.nextLoc,he.method!=="return"&&(he.method="next",he.arg=u)}return he.delegate=null,x}(ie,M),ie)){if(ie===x)continue;return ie}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(R===f)throw R=b,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);if(R=g,ie=v(K,se,M),ie.type==="normal"){if(R=M.done?b:y,ie.arg!==x)return{value:ie.arg,done:M.done}}else ie.type==="throw"&&(R=b,M.method="throw",M.arg=ie.arg)}}),z}function v(H,V,G){try{return{type:"normal",arg:H.call(V,G)}}catch(Y){return{type:"throw",arg:Y}}}o.wrap=h;var f="suspendedStart",y="suspendedYield",g="executing",b="completed",x={};function _(){}function j(){}function S(){}var D={},E=(D[p]=function(){return this},Object.getPrototypeOf),E=E&&E(E(I([]))),T=(E&&E!==i&&d.call(E,p)&&(D=E),S.prototype=_.prototype=Object.create(D));function F(H){["next","throw","return"].forEach(function(V){H[V]=function(G){return this._invoke(V,G)}})}function A(H){var V;this._invoke=function(G,Y){function K(){return new Promise(function(se,M){(function R(de,W,J,te){var ie,de=v(H[de],H,W);if(de.type!=="throw")return(W=(ie=de.arg).value)&&typeof W=="object"&&d.call(W,"__await")?Promise.resolve(W.__await).then(function(oe){R("next",oe,J,te)},function(oe){R("throw",oe,J,te)}):Promise.resolve(W).then(function(oe){ie.value=oe,J(ie)},function(oe){return R("throw",oe,J,te)});te(de.arg)})(G,Y,se,M)})}return V=V?V.then(K,K):K()}}function L(H){var V={tryLoc:H[0]};1 in H&&(V.catchLoc=H[1]),2 in H&&(V.finallyLoc=H[2],V.afterLoc=H[3]),this.tryEntries.push(V)}function O(H){var V=H.completion||{};V.type="normal",delete V.arg,H.completion=V}function B(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(L,this),this.reset(!0)}function I(H){if(H){var V,G=H[p];if(G)return G.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length))return V=-1,(G=function Y(){for(;++V<H.length;)if(d.call(H,V))return Y.value=H[V],Y.done=!1,Y;return Y.value=u,Y.done=!0,Y}).next=G}return{next:N}}function N(){return{value:u,done:!0}}return(j.prototype=T.constructor=S).constructor=j,S[c]=j.displayName="GeneratorFunction",o.isGeneratorFunction=function(H){return H=typeof H=="function"&&H.constructor,!!H&&(H===j||(H.displayName||H.name)==="GeneratorFunction")},o.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,S):(H.__proto__=S,c in H||(H[c]="GeneratorFunction")),H.prototype=Object.create(T),H},o.awrap=function(H){return{__await:H}},F(A.prototype),A.prototype[m]=function(){return this},o.AsyncIterator=A,o.async=function(H,V,G,Y){var K=new A(h(H,V,G,Y));return o.isGeneratorFunction(V)?K:K.next().then(function(se){return se.done?se.value:K.next()})},F(T),T[c]="Generator",T[p]=function(){return this},T.toString=function(){return"[object Generator]"},o.keys=function(H){var V,G=[];for(V in H)G.push(V);return G.reverse(),function Y(){for(;G.length;){var K=G.pop();if(K in H)return Y.value=K,Y.done=!1,Y}return Y.done=!0,Y}},o.values=I,B.prototype={constructor:B,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!H)for(var V in this)V.charAt(0)==="t"&&d.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=u)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var V=this;function G(z,W){return se.type="throw",se.arg=H,V.next=z,W&&(V.method="next",V.arg=u),!!W}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var K=this.tryEntries[Y],se=K.completion;if(K.tryLoc==="root")return G("end");if(K.tryLoc<=this.prev){var M=d.call(K,"catchLoc"),R=d.call(K,"finallyLoc");if(M&&R){if(this.prev<K.catchLoc)return G(K.catchLoc,!0);if(this.prev<K.finallyLoc)return G(K.finallyLoc)}else if(M){if(this.prev<K.catchLoc)return G(K.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return G(K.finallyLoc)}}}},abrupt:function(H,V){for(var G=this.tryEntries.length-1;0<=G;--G){var Y=this.tryEntries[G];if(Y.tryLoc<=this.prev&&d.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var K=Y;break}}var se=(K=K&&(H==="break"||H==="continue")&&K.tryLoc<=V&&V<=K.finallyLoc?null:K)?K.completion:{};return se.type=H,se.arg=V,K?(this.method="next",this.next=K.finallyLoc,x):this.complete(se)},complete:function(H,V){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&V&&(this.next=V),x},finish:function(H){for(var V=this.tryEntries.length-1;0<=V;--V){var G=this.tryEntries[V];if(G.finallyLoc===H)return this.complete(G.completion,G.afterLoc),O(G),x}},catch:function(H){for(var V=this.tryEntries.length-1;0<=V;--V){var G,Y,K=this.tryEntries[V];if(K.tryLoc===H)return(G=K.completion).type==="throw"&&(Y=G.arg,O(K)),Y}throw new Error("illegal catch attempt")},delegateYield:function(H,V,G){return this.delegate={iterator:I(H),resultName:V,nextLoc:G},this.method==="next"&&(this.arg=u),x}},o}(typeof a=="object"?a.exports:{});try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}},{}],261:[function(t,a,l){(function(o){var u,i,d,p,m,c,h,v,f,y;function g(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function b(O){return O=typeof O!="string"?String(O):O}function x(O){var B={next:function(){var I=O.shift();return{done:I===void 0,value:I}}};return i&&(B[Symbol.iterator]=function(){return B}),B}function _(O){this.map={},O instanceof _?O.forEach(function(B,I){this.append(I,B)},this):Array.isArray(O)?O.forEach(function(B){this.append(B[0],B[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(B){this.append(B,O[B])},this)}function j(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function S(O){return new Promise(function(B,I){O.onload=function(){B(O.result)},O.onerror=function(){I(O.error)}})}function D(O){var B=new FileReader,I=S(B);return B.readAsArrayBuffer(O),I}function E(O){var B;return O.slice?O.slice(0):((B=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),B.buffer)}function T(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(d&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(p&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(u&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(m&&d&&h(O))this._bodyArrayBuffer=E(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(O)&&!v(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var O=j(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var O,B,I=j(this);if(I)return I;if(this._bodyBlob)return I=this._bodyBlob,O=new FileReader,B=S(O),O.readAsText(I),B;if(this._bodyArrayBuffer)return Promise.resolve(function(N){for(var H=new Uint8Array(N),V=new Array(H.length),G=0;G<H.length;G++)V[G]=String.fromCharCode(H[G]);return V.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function F(O,B){var I,N=(B=B||{}).body;if(O instanceof F){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,B.headers||(this.headers=new _(O.headers)),this.method=O.method,this.mode=O.mode,N||O._bodyInit==null||(N=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=B.credentials||this.credentials||"omit",!B.headers&&this.headers||(this.headers=new _(B.headers)),this.method=(O=B.method||this.method||"GET",I=O.toUpperCase(),-1<f.indexOf(I)?I:O),this.mode=B.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(N)}function A(O){var B=new FormData;return O.trim().split("&").forEach(function(I){var N;I&&(N=(I=I.split("=")).shift().replace(/\+/g," "),I=I.join("=").replace(/\+/g," "),B.append(decodeURIComponent(N),decodeURIComponent(I)))}),B}function L(O,B){B=B||{},this.type="default",this.status=B.status===void 0?200:B.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in B?B.statusText:"OK",this.headers=new _(B.headers),this.url=B.url||"",this._initBody(O)}o.fetch||(u="URLSearchParams"in o,i="Symbol"in o&&"iterator"in Symbol,d="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),p="FormData"in o,(m="ArrayBuffer"in o)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=function(O){return O&&DataView.prototype.isPrototypeOf(O)},v=ArrayBuffer.isView||function(O){return O&&-1<c.indexOf(Object.prototype.toString.call(O))}),_.prototype.append=function(O,B){O=g(O),B=b(B);var I=this.map[O];this.map[O]=I?I+","+B:B},_.prototype.delete=function(O){delete this.map[g(O)]},_.prototype.get=function(O){return O=g(O),this.has(O)?this.map[O]:null},_.prototype.has=function(O){return this.map.hasOwnProperty(g(O))},_.prototype.set=function(O,B){this.map[g(O)]=b(B)},_.prototype.forEach=function(O,B){for(var I in this.map)this.map.hasOwnProperty(I)&&O.call(B,this.map[I],I,this)},_.prototype.keys=function(){var O=[];return this.forEach(function(B,I){O.push(I)}),x(O)},_.prototype.values=function(){var O=[];return this.forEach(function(B){O.push(B)}),x(O)},_.prototype.entries=function(){var O=[];return this.forEach(function(B,I){O.push([I,B])}),x(O)},i&&(_.prototype[Symbol.iterator]=_.prototype.entries),f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],F.prototype.clone=function(){return new F(this,{body:this._bodyInit})},T.call(F.prototype),T.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},L.error=function(){var O=new L(null,{status:0,statusText:""});return O.type="error",O},y=[301,302,303,307,308],L.redirect=function(O,B){if(y.indexOf(B)===-1)throw new RangeError("Invalid status code");return new L(null,{status:B,headers:{location:O}})},o.Headers=_,o.Request=F,o.Response=L,o.fetch=function(O,B){return new Promise(function(I,N){var H=new F(O,B),V=new XMLHttpRequest;V.onload=function(){var G,Y={status:V.status,statusText:V.statusText,headers:(Y=V.getAllResponseHeaders()||"",G=new _,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(M){var M=M.split(":"),R=M.shift().trim();R&&(M=M.join(":").trim(),G.append(R,M))}),G)},K=(Y.url="responseURL"in V?V.responseURL:Y.headers.get("X-Request-URL"),"response"in V?V.response:V.responseText);I(new L(K,Y))},V.onerror=function(){N(new TypeError("Network request failed"))},V.ontimeout=function(){N(new TypeError("Network request failed"))},V.open(H.method,H.url,!0),H.credentials==="include"?V.withCredentials=!0:H.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&d&&(V.responseType="blob"),H.headers.forEach(function(G,Y){V.setRequestHeader(Y,G)}),V.send(H._bodyInit===void 0?null:H._bodyInit)})},o.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,a,l){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,u=d(t("../core/main")),i=d(t("../color/color_conversion"));function d(c){return c&&c.__esModule?c:{default:c}}var p=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];u.default.prototype._rgbColorName=function(f){var h,v,f=i.default._rgbaToHSBA(f),y=[(o=f)[0],f[1],f[2]];y[0]!==0&&(y[0]=Math.round(100*y[0]),(f=y[0].toString().split(""))[v=f.length-1]=parseInt(f[v]),f[v]<2.5?f[v]=0:2.5<=f[v]&&f[v]<7.5&&(f[v]=5),f.length===2?(f[0]=parseInt(f[0]),7.5<=f[v]&&(f[v]=0,f[0]=f[0]+1),y[0]=10*f[0]+f[1]):7.5<=f[v]?y[0]=10:y[0]=f[v]),y[2]=y[2]/255;for(var g=y.length-1;1<=g;g--)y[g]<=.25?y[g]=0:.25<y[g]&&y[g]<.75?y[g]=.5:y[g]=1;if(y[0]===0&&y[1]===0&&y[2]===1){for(var b=2;0<=b;b--)o[b]=Math.round(1e4*o[b])/1e4;for(var x=0;x<p.length;x++){if(p[x].h===o[0]&&p[x].s===o[1]&&p[x].b===o[2]){h=p[x].name;break}h="white"}}else for(var _=0;_<m.length;_++)if(m[_].h===y[0]&&m[_].s===y[1]&&m[_].b===y[2]){h=m[_].name;break}return h},t=u.default,l.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,a,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t},u="_Description",i="_fallbackDesc",d="_fallbackTable",p="_Label",m="_labelDesc",c="_labelTable";function h(v){if(v==="label"||v==="fallback")throw new Error("description should not be LABEL or FALLBACK");return v.endsWith(".")||v.endsWith(";")||v.endsWith(",")||v.endsWith("?")||v.endsWith("!")||(v+="."),v}o.default.prototype.describe=function(v,f){var y;o.default._validateParameters("describe",arguments),typeof v=="string"&&(y=this.canvas.id,v=h(v),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==v&&(this.descriptions.fallback.innerHTML=v):this._describeHTML("fallback",v),f===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==v&&(this.descriptions.label.innerHTML=v):this._describeHTML("label",v)))},o.default.prototype.describeElement=function(v,f,y){var g,b;o.default._validateParameters("describeElement",arguments),typeof f=="string"&&typeof v=="string"&&(g=this.canvas.id,f=h(f),b=function(x){if(x==="label"||x==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return x.endsWith(".")||x.endsWith(";")||x.endsWith(",")?x=x.replace(/.$/,":"):x.endsWith(":")||(x+=":"),x}(v),v=v.replace(/[^a-zA-Z0-9]/g,""),b='<th scope="row">'.concat(b,"</th><td>").concat(f,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[v]?this.descriptions.fallbackElements[v].innerHTML!==b&&(this.descriptions.fallbackElements[v].innerHTML=b):this._describeElementHTML("fallback",v,b),y===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[v]?this.descriptions.labelElements[v].innerHTML!==b&&(this.descriptions.labelElements[v].innerHTML=b):this._describeElementHTML("label",v,b)))},o.default.prototype._describeHTML=function(v,f){var y,g=this.canvas.id;v==="fallback"?(this.dummyDOM.querySelector("#".concat(g+u))?this.dummyDOM.querySelector("#"+g+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(g+i,'"></p>')):(y='<div id="'.concat(g).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(g).concat(i,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#".concat(g)).innerHTML=y),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(g).concat(i)),this.descriptions.fallback.innerHTML=f):v==="label"&&(this.dummyDOM.querySelector("#".concat(g+p))?this.dummyDOM.querySelector("#".concat(g+c))&&this.dummyDOM.querySelector("#".concat(g+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(g).concat(m,'"></p>')):(y='<div id="'.concat(g).concat(p,'" class="p5Label"><p id="').concat(g).concat(m,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",y)),this.descriptions.label=this.dummyDOM.querySelector("#"+g+m),this.descriptions.label.innerHTML=f)},o.default.prototype._describeElementHTML=function(v,f,y){var g,b=this.canvas.id;v==="fallback"?(this.dummyDOM.querySelector("#".concat(b+u))?this.dummyDOM.querySelector("#"+b+d)||this.dummyDOM.querySelector("#"+b+i).insertAdjacentHTML("afterend",'<table id="'.concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(g='<div id="'.concat(b).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+b).innerHTML=g),(g=document.createElement("tr")).id=b+"_fte_"+f,this.dummyDOM.querySelector("#"+b+d).appendChild(g),this.descriptions.fallbackElements[f]=this.dummyDOM.querySelector("#".concat(b).concat("_fte_").concat(f)),this.descriptions.fallbackElements[f].innerHTML=y):v==="label"&&(this.dummyDOM.querySelector("#".concat(b+p))?this.dummyDOM.querySelector("#".concat(b+c))||this.dummyDOM.querySelector("#"+b+m).insertAdjacentHTML("afterend",'<table id="'.concat(b+c,'"></table>')):(g='<div id="'.concat(b).concat(p,'" class="p5Label"><table id="').concat(b).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+b).insertAdjacentHTML("afterend",g)),(v=document.createElement("tr")).id=b+"_lte_"+f,this.dummyDOM.querySelector("#"+b+c).appendChild(v),this.descriptions.labelElements[f]=this.dummyDOM.querySelector("#".concat(b).concat("_lte_").concat(f)),this.descriptions.labelElements[f].innerHTML=y)},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,a,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(o){var u,i,d,p;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(u=this._accessibleOutputs[o],d=function(m,c,h,v){return c="".concat(c," canvas, ").concat(h," by ").concat(v," pixels, contains ").concat(m[0]),c=(m[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(m[1]),c}((i=function(m,c){var h,v="",f="",y=0;for(h in c){var g,b=0;for(g in c[h]){var x='<li id="'.concat(m,"shape").concat(y,'">').concat(c[h][g].color," ").concat(h,",");h==="line"?x+=" location = ".concat(c[h][g].pos,", length = ").concat(c[h][g].length," pixels"):(x+=" location = ".concat(c[h][g].pos),h!=="point"&&(x+=", area = ".concat(c[h][g].area," %")),x+="</li>"),v+=x,b++,y++}f=1<b?"".concat(f," ").concat(b," ").concat(h,"s"):"".concat(f," ").concat(b," ").concat(h)}return{numShapes:[y,f],details:v}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(m,c){var h,v,f=0,y="",g=Array.from(Array(10),function(){return Array(10)});for(h in c)for(var b in c[h]){var x=void 0;x=h!=="line"?'<a href="#'.concat(m,"shape").concat(f,'">').concat(c[h][b].color," ").concat(h,"</a>"):'<a href="#'.concat(m,"shape").concat(f,'">').concat(c[h][b].color," ").concat(h," midpoint</a>"),c[h][b].loc.locY<g.length&&c[h][b].loc.locX<g[c[h][b].loc.locY].length&&(g[c[h][b].loc.locY][c[h][b].loc.locX]?g[c[h][b].loc.locY][c[h][b].loc.locX]=g[c[h][b].loc.locY][c[h][b].loc.locX]+"  "+x:g[c[h][b].loc.locY][c[h][b].loc.locX]=x,f++)}for(v in g){var _,j="<tr>";for(_ in g[v])j+="<td>",g[v][_]!==void 0&&(j+=g[v][_]),j+="</td>";y=y+j+"</tr>"}return y}(o,this.ingredients.shapes),d!==u.summary.innerHTML&&(u.summary.innerHTML=d),p!==u.map.innerHTML&&(u.map.innerHTML=p),i.details!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=i.details),this._accessibleOutputs[o]=u)},t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d){return function(p){if(Array.isArray(p)){for(var m=0,c=new Array(p.length);m<p.length;m++)c[m]=p[m];return c}}(d)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(d,p,m){return p=Math.floor(d[0]/p*10),d=Math.floor(d[1]/m*10),p===10&&(p-=1),d===10&&(d-=1),{locX:p,locY:d}}o.default.prototype.textOutput=function(d){o.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},o.default.prototype.gridOutput=function(d){o.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},o.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},o.default.prototype._createOutput=function(d,p){var m,c,h,v=this.canvas.id,f=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),"");p==="Fallback"?(m=v+d,this.dummyDOM.querySelector("#".concat(c=v+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(v,"_Description"))?this.dummyDOM.querySelector("#".concat(v,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(v)).innerHTML='<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>'))):p==="Label"&&(m=v+d+(f=p),this.dummyDOM.querySelector("#".concat(c=v+"accessibleOutput"+p))||(this.dummyDOM.querySelector("#".concat(v,"_Label"))?this.dummyDOM.querySelector("#".concat(v,"_Label")):this.dummyDOM.querySelector("#".concat(v))).insertAdjacentHTML("afterend",'<div id="'.concat(c,'"></div>'))),this._accessibleOutputs[m]={},d==="textOutput"?(f="#".concat(v,"gridOutput").concat(f),h='<div id="'.concat(m,'">Text Output<div id="').concat(m,'Summary" aria-label="text output summary"><p id="').concat(m,'_summary"></p><ul id="').concat(m,'_list"></ul></div><table id="').concat(m,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(c)).innerHTML=h,this._accessibleOutputs[m].list=this.dummyDOM.querySelector("#".concat(m,"_list"))):d==="gridOutput"&&(f="#".concat(v,"textOutput").concat(f),h='<div id="'.concat(m,'">Grid Output<p id="').concat(m,'_summary" aria-label="grid output summary"><table id="').concat(m,'_map" summary="grid output content"></table><ul id="').concat(m,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector("#".concat(c)).innerHTML=h,this._accessibleOutputs[m].map=this.dummyDOM.querySelector("#".concat(m,"_map"))),this._accessibleOutputs[m].shapeDetails=this.dummyDOM.querySelector("#".concat(m,"_shapeDetails")),this._accessibleOutputs[m].summary=this.dummyDOM.querySelector("#".concat(m,"_summary"))},o.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},o.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},o.default.prototype._accsCanvasColors=function(d,p){d==="fill"?this.ingredients.colors.fillRGBA!==p&&(this.ingredients.colors.fillRGBA=p,this.ingredients.colors.fill=this._rgbColorName(p)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==p&&(this.ingredients.colors.strokeRGBA=p,this.ingredients.colors.stroke=this._rgbColorName(p))},o.default.prototype._accsOutput=function(d,p){d==="ellipse"&&p[2]===p[3]?d="circle":d==="rectangle"&&p[2]===p[3]&&(d="square");var m,c,h={},v=!0,f=function(g,b){var x;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(x=Math.round(b[0]+b[2]/2),Math.round(b[1]+b[3]/2)):g==="triangle"?(x=(b[0]+b[2]+b[4])/3,(b[1]+b[3]+b[5])/3):g==="quadrilateral"?(x=(b[0]+b[2]+b[4]+b[6])/4,(b[1]+b[3]+b[5]+b[7])/4):g==="line"?(x=(b[0]+b[2])/2,(b[1]+b[3])/2):(x=b[0],b[1]),[x,g]}(d,p);if(d==="line"?(h.color=this.ingredients.colors.stroke,h.length=Math.round(this.dist(p[0],p[1],p[2],p[3])),m=this._getPos(p[0],[1]),c=this._getPos(p[2],[3]),h.loc=i(f,this.width,this.height),h.pos=m===c?"at ".concat(m):"from ".concat(m," to ").concat(c)):(d==="point"?h.color=this.ingredients.colors.stroke:(h.color=this.ingredients.colors.fill,h.area=this._getArea(d,p)),h.pos=this._getPos.apply(this,u(f)),h.loc=i(f,this.width,this.height)),this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[h]){for(var y in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][y])===JSON.stringify(h)&&(v=!1);v===!0&&this.ingredients.shapes[d].push(h)}}else this.ingredients.shapes[d]=[h]},o.default.prototype._getPos=function(c,m){var c=new DOMPointReadOnly(c,m),m=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),c=c.matrixTransform(m),m=c.x,c=c.y,h=this.width*this._pixelDensity,v=this.height*this._pixelDensity;return m<.4*h?c<.4*v?"top left":.6*v<c?"bottom left":"mid left":.6*h<m?c<.4*v?"top right":.6*v<c?"bottom right":"mid right":c<.4*v?"top middle":.6*v<c?"bottom middle":"middle"},o.default.prototype._getArea=function(d,p){var m,c,h=0,v=(d==="arc"?(h=(m=((p[5]-p[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*p[2]*p[3]/8,p[6]!=="open"&&p[6]!=="chord"||(c=p[0],b=p[1],v=p[0]+p[2]/2*Math.cos(p[4]).toFixed(2),x=p[1]+p[3]/2*Math.sin(p[4]).toFixed(2),y=p[0]+p[2]/2*Math.cos(p[5]).toFixed(2),f=p[1]+p[3]/2*Math.sin(p[5]).toFixed(2),c=Math.abs(c*(x-f)+v*(f-b)+y*(b-x))/2,m>Math.PI?h+=c:h-=c)):d==="ellipse"||d==="circle"?h=3.14*p[2]/2*p[3]/2:d==="line"||d==="point"?h=0:d==="quadrilateral"?h=Math.abs((p[6]+p[0])*(p[7]-p[1])+(p[0]+p[2])*(p[1]-p[3])+(p[2]+p[4])*(p[3]-p[5])+(p[4]+p[6])*(p[5]-p[7]))/2:d==="rectangle"||d==="square"?h=p[2]*p[3]:d==="triangle"&&(h=Math.abs(p[0]*(p[3]-p[5])+p[2]*(p[5]-p[1])+p[4]*(p[1]-p[3]))/2),this.width*this._pixelDensity),f=this.height*this._pixelDensity,y=[new DOMPoint(0,0),new DOMPoint(v,0),new DOMPoint(v,f),new DOMPoint(0,f)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),b=y.map(function(_){return _.matrixTransform(g)}),x=Math.abs((b[3].x+b[0].x)*(b[3].y-b[0].y)+(b[0].x+b[1].x)*(b[0].y-b[1].y)+(b[1].x+b[2].x)*(b[1].y-b[2].y)+(b[2].x+b[3].x)*(b[2].y-b[3].y))/2;return Math.round(100*h/x)},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,a,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(o){var u,i,d,p;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(u=this._accessibleOutputs[o],d=function(m,c,h,v){return h="Your output is a, ".concat(h," by ").concat(v," pixels, ").concat(c," canvas containing the following"),h=m===1?"".concat(h," shape:"):"".concat(h," ").concat(m," shapes:"),h}((i=function(m,c){var h,v="",f=0;for(h in c)for(var y in c[h]){var g='<li><a href="#'.concat(m,"shape").concat(f,'">').concat(c[h][y].color," ").concat(h,"</a>");h==="line"?g+=", ".concat(c[h][y].pos,", ").concat(c[h][y].length," pixels long.</li>"):(g+=", at ".concat(c[h][y].pos),h!=="point"&&(g+=", covering ".concat(c[h][y].area,"% of the canvas")),g+=".</li>"),v+=g,f++}return{numShapes:f,listShapes:v}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(m,c){var h,v="",f=0;for(h in c)for(var y in c[h]){var g='<tr id="'.concat(m,"shape").concat(f,'"><th>').concat(c[h][y].color," ").concat(h,"</th>");h==="line"?g+="<td>location = ".concat(c[h][y].pos,"</td><td>length = ").concat(c[h][y].length," pixels</td></tr>"):(g+="<td>location = ".concat(c[h][y].pos,"</td>"),h!=="point"&&(g+="<td> area = ".concat(c[h][y].area,"%</td>")),g+="</tr>"),v+=g,f++}return v}(o,this.ingredients.shapes),d!==u.summary.innerHTML&&(u.summary.innerHTML=d),i.listShapes!==u.list.innerHTML&&(u.list.innerHTML=i.listShapes),p!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=p),this._accessibleOutputs[o]=u)},t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,a,l){var o=(o=t("./core/main"))&&o.__esModule?o:{default:o};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),a.exports=o.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(o){var u=o[0],i=o[1],d=o[2],p=(2-i)*d/2;return p!=0&&(p==1?i=0:p<.5?i/=2-i:i=i*d/(2-2*p)),[u,i,p,o[3]]},_hsbaToRGBA:function(o){var u,i,d,p,m,c=6*o[0],h=o[1],v=o[2];return h===0?[v,v,v,o[3]]:(i=v*(1-h),d=v*(1-h*(c-(u=Math.floor(c)))),h=v*(1-h*(1+u-c)),c=u===1?(p=d,m=v,i):u===2?(p=i,m=v,h):u===3?(p=i,m=d,v):u===4?(p=h,m=i,v):u===5?(p=v,m=i,d):(p=v,m=h,i),[p,m,c,o[3]])},_hslaToHSBA:function(o){var u=o[0],i=o[1],d=o[2],p=d<.5?(1+i)*d:d+i-d*i;return[u,i=2*(p-d)/p,p,o[3]]},_hslaToRGBA:function(o){var u,i=6*o[0],d=o[1],p=o[2];return d===0?[p,p,p,o[3]]:[(u=function(m,c,h){return m<0?m+=6:6<=m&&(m-=6),m<1?c+(h-c)*m:m<3?h:m<4?c+(h-c)*(4-m):c})(2+i,d=2*p-(p=p<.5?(1+d)*p:p+d-p*d),p),u(i,d,p),u(i-2,d,p),o[3]]},_rgbaToHSBA:function(o){var u,i,d=o[0],p=o[1],m=o[2],c=Math.max(d,p,m),h=c-Math.min(d,p,m);return h==0?i=u=0:(i=h/c,d===c?u=(p-m)/h:p===c?u=2+(m-d)/h:m===c&&(u=4+(d-p)/h),u<0?u+=6:6<=u&&(u-=6)),[u/6,i,c,o[3]]},_rgbaToHSLA:function(o){var u,i,d=o[0],p=o[1],m=o[2],c=Math.max(d,p,m),v=Math.min(d,p,m),h=c+v,v=c-v;return v==0?i=u=0:(i=h<1?v/h:v/(2-h),d===c?u=(p-m)/v:p===c?u=2+(m-d)/v:m===c&&(u=4+(d-p)/v),u<0?u+=6:6<=u&&(u-=6)),[u/6,i,h/2,o[3]]}},t=t.default.ColorConversion,l.default=t},{"../core/main":283}],269:[function(t,a,l){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function u(c){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var v,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in c){var g;Object.prototype.hasOwnProperty.call(c,v)&&((g=y?Object.getOwnPropertyDescriptor(c,v):null)&&(g.get||g.set)?Object.defineProperty(f,v,g):f[v]=c[v])}return f.default=c,h&&h.set(c,f),f}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.alpha=function(c){return i.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()},i.default.prototype.blue=function(c){return i.default._validateParameters("blue",arguments),this.color(c)._getBlue()},i.default.prototype.brightness=function(c){return i.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()},i.default.prototype.color=function(){for(var c,h=arguments.length,v=new Array(h),f=0;f<h;f++)v[f]=arguments[f];return i.default._validateParameters("color",v),v[0]instanceof i.default.Color?v[0]:(c=Array.isArray(v[0])?v[0]:v,new i.default.Color(this,c))},i.default.prototype.green=function(c){return i.default._validateParameters("green",arguments),this.color(c)._getGreen()},i.default.prototype.hue=function(c){return i.default._validateParameters("hue",arguments),this.color(c)._getHue()},i.default.prototype.lerpColor=function(c,h,v){i.default._validateParameters("lerpColor",arguments),c instanceof i.default.Color||(c=color(c)),h instanceof i.default.Color||(h=color(h));var f,y,g,b=this._colorMode,x=this._colorMaxes;if(b===d.RGB)y=c.levels.map(function(_){return _/255}),g=h.levels.map(function(_){return _/255});else if(b===d.HSB)c._getBrightness(),h._getBrightness(),y=c.hsba,g=h.hsba;else{if(b!==d.HSL)throw new Error("".concat(b," cannot be used for interpolation."));c._getLightness(),h._getLightness(),y=c.hsla,g=h.hsla}return v=Math.max(Math.min(v,1),0),this.lerp===void 0&&(this.lerp=function(_,j,S){return S*(j-_)+_}),b===d.RGB?f=this.lerp(y[0],g[0],v):(.5<Math.abs(y[0]-g[0])&&(y[0]>g[0]?g[0]+=1:y[0]+=1),1<=(f=this.lerp(y[0],g[0],v))&&--f),c=this.lerp(y[1],g[1],v),h=this.lerp(y[2],g[2],v),y=this.lerp(y[3],g[3],v),f*=x[b][0],c*=x[b][1],h*=x[b][2],y*=x[b][3],this.color(f,c,h,y)},i.default.prototype.paletteLerp=function(c,h){var v=c[0];if(h<v[1])return this.color(v[0]);for(var f=1;f<c.length;f++){var y,g=c[f];if(h<g[1])return y=c[f-1],this.lerpColor(this.color(y[0]),this.color(g[0]),(h-y[1])/(g[1]-y[1]))}return this.color(c[c.length-1][0])},i.default.prototype.lightness=function(c){return i.default._validateParameters("lightness",arguments),this.color(c)._getLightness()},i.default.prototype.red=function(c){return i.default._validateParameters("red",arguments),this.color(c)._getRed()},i.default.prototype.saturation=function(c){return i.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var m=i.default;l.default=m},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(f,a,l){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(_)}function u(_){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(j){return o(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":o(j)})(_)}f("core-js/modules/es.symbol"),f("core-js/modules/es.symbol.description"),f("core-js/modules/es.symbol.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.iterator"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.get-own-property-descriptor"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.iterator"),f("core-js/modules/es.string.trim"),f("core-js/modules/es.weak-map"),f("core-js/modules/web.dom-collections.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=c(f("../core/main")),d=function(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var j=m();if(j&&j.has(_))return j.get(_);var S,D={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var T;Object.prototype.hasOwnProperty.call(_,S)&&((T=E?Object.getOwnPropertyDescriptor(_,S):null)&&(T.get||T.set)?Object.defineProperty(D,S,T):D[S]=_[S])}return D.default=_,j&&j.set(_,D),D}(f("../core/constants")),p=c(f("./color_conversion"));function m(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,m=function(){return _},_)}function c(_){return _&&_.__esModule?_:{default:_}}function h(_,j){for(var S=0;S<j.length;S++){var D=j[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}var v={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=/\s*/,x=/(\d{1,3})/,y=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(y.source,"%")),b={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",x.source,",",x.source,",",x.source,"\\)$"].join(f.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),RGBA:new RegExp(["^rgba\\(",x.source,",",x.source,",",x.source,",",y.source,"\\)$"].join(f.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",y.source,"\\)$"].join(f.source),"i"),HSL:new RegExp(["^hsl\\(",x.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSLA:new RegExp(["^hsla\\(",x.source,",",g.source,",",g.source,",",y.source,"\\)$"].join(f.source),"i"),HSB:new RegExp(["^hsb\\(",x.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSBA:new RegExp(["^hsba\\(",x.source,",",g.source,",",g.source,",",y.source,"\\)$"].join(f.source),"i")},x=(i.default.Color=function(){function _(E,T){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),![d.RGB,d.HSL,d.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=_._parseInputs.apply(this,T),this._calculateLevels()}var j,S,D;return j=_,D=[{key:"_parseInputs",value:function(E,T,F,A){var L,O=arguments.length,B=this.mode,I=this.maxes[B],N=[];if(3<=O){for(N[0]=E/I[0],N[1]=T/I[1],N[2]=F/I[2],N[3]=typeof A=="number"?A/I[3]:1,L=N.length-1;0<=L;--L){var H=N[L];H<0?N[L]=0:1<H&&(N[L]=1)}return B===d.HSL?p.default._hslaToRGBA(N):B===d.HSB?p.default._hsbaToRGBA(N):N}if(O===1&&typeof E=="string"){if(F=E.trim().toLowerCase(),v[F])return _._parseInputs.call(this,v[F]);if(b.HEX3.test(F))return(N=b.HEX3.exec(F).slice(1).map(function(V){return parseInt(V+V,16)/255}))[3]=1,N;if(b.HEX6.test(F))return(N=b.HEX6.exec(F).slice(1).map(function(V){return parseInt(V,16)/255}))[3]=1,N;if(b.HEX4.test(F))return N=b.HEX4.exec(F).slice(1).map(function(V){return parseInt(V+V,16)/255});if(b.HEX8.test(F))return N=b.HEX8.exec(F).slice(1).map(function(V){return parseInt(V,16)/255});if(b.RGB.test(F))return(N=b.RGB.exec(F).slice(1).map(function(V){return V/255}))[3]=1,N;if(b.RGB_PERCENT.test(F))return(N=b.RGB_PERCENT.exec(F).slice(1).map(function(V){return parseFloat(V)/100}))[3]=1,N;if(b.RGBA.test(F))return N=b.RGBA.exec(F).slice(1).map(function(V,G){return G===3?parseFloat(V):V/255});if(b.RGBA_PERCENT.test(F))return N=b.RGBA_PERCENT.exec(F).slice(1).map(function(V,G){return G===3?parseFloat(V):parseFloat(V)/100});if(b.HSL.test(F)?(N=b.HSL.exec(F).slice(1).map(function(V,G){return G===0?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:b.HSLA.test(F)&&(N=b.HSLA.exec(F).slice(1).map(function(V,G){return G===0?parseInt(V,10)/360:G===3?parseFloat(V):parseInt(V,10)/100})),(N=N.map(function(V){return Math.max(Math.min(V,1),0)})).length)return p.default._hslaToRGBA(N);if(b.HSB.test(F)?(N=b.HSB.exec(F).slice(1).map(function(V,G){return G===0?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:b.HSBA.test(F)&&(N=b.HSBA.exec(F).slice(1).map(function(V,G){return G===0?parseInt(V,10)/360:G===3?parseFloat(V):parseInt(V,10)/100})),N.length){for(L=N.length-1;0<=L;--L)N[L]=Math.max(Math.min(N[L],1),0);return p.default._hsbaToRGBA(N)}N=[1,1,1,1]}else{if(O!==1&&O!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));N[0]=E/I[2],N[1]=E/I[2],N[2]=E/I[2],N[3]=typeof T=="number"?T/I[3]:1,N=N.map(function(V){return Math.max(Math.min(V,1),0)})}return N}}],(S=[{key:"toString",value:function(E){var T=this.levels,F=this._array,A=F[3];switch(E){case"#rrggbb":return"#".concat(T[0]<16?"0".concat(T[0].toString(16)):T[0].toString(16),T[1]<16?"0".concat(T[1].toString(16)):T[1].toString(16),T[2]<16?"0".concat(T[2].toString(16)):T[2].toString(16));case"#rrggbbaa":return"#".concat(T[0]<16?"0".concat(T[0].toString(16)):T[0].toString(16),T[1]<16?"0".concat(T[1].toString(16)):T[1].toString(16),T[2]<16?"0".concat(T[2].toString(16)):T[2].toString(16),T[3]<16?"0".concat(T[3].toString(16)):T[3].toString(16));case"#rgb":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16),Math.round(15*F[3]).toString(16));case"rgb":return"rgb(".concat(T[0],", ",T[1],", ",T[2],")");case"rgb%":return"rgb(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%, ",(100*F[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",A,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",A,")");case"hsla%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");default:return"rgba(".concat(T[0],",",T[1],",",T[2],",",A,")")}}},{key:"setRed",value:function(E){this._array[0]=E/this.maxes[d.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(E){this._array[1]=E/this.maxes[d.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(E){this._array[2]=E/this.maxes[d.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var E=this._array,T=this.levels=new Array(E.length),F=E.length-1;0<=F;--F)T[F]=Math.round(255*E[F]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(E,T){this.mode=E,this.maxes=T}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[d.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[d.RGB][1]}},{key:"_getHue",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[d.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])}}])&&h(j.prototype,S),D&&h(j,D),_}(),i.default.Color);l.default=x},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,a,l){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function u(c){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var v,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in c){var g;Object.prototype.hasOwnProperty.call(c,v)&&((g=y?Object.getOwnPropertyDescriptor(c,v):null)&&(g.get||g.set)?Object.defineProperty(f,v,g):f[v]=c[v])}return f.default=c,h&&h.set(c,f),f}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}t("./p5.Color"),i.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},i.default.prototype.endClip=function(){this._renderer.endClip()},i.default.prototype.clip=function(c,h){this._renderer.beginClip(h),c(),this._renderer.endClip(h)},i.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this},i.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},i.default.prototype.colorMode=function(c,h,v,f,y){return i.default._validateParameters("colorMode",arguments),c!==d.RGB&&c!==d.HSB&&c!==d.HSL||(this._colorMode=c,c=this._colorMaxes[c],arguments.length===2?(c[0]=h,c[1]=h,c[2]=h,c[3]=h):arguments.length===4?(c[0]=h,c[1]=v,c[2]=f):arguments.length===5&&(c[0]=h,c[1]=v,c[2]=f,c[3]=y)),this},i.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this},i.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},i.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},i.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this},i.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},i.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=i.default;l.default=m},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QUADRATIC=l.LINEAR=l._CTX_MIDDLE=l._DEFAULT_LEADMULT=l._DEFAULT_TEXT_FILL=l.WORD=l.CHAR=l.BOLDITALIC=l.BOLD=l.ITALIC=l.NORMAL=l.BLUR=l.ERODE=l.DILATE=l.POSTERIZE=l.INVERT=l.OPAQUE=l.GRAY=l.THRESHOLD=l.BURN=l.DODGE=l.SOFT_LIGHT=l.HARD_LIGHT=l.OVERLAY=l.REPLACE=l.SCREEN=l.MULTIPLY=l.EXCLUSION=l.SUBTRACT=l.DIFFERENCE=l.LIGHTEST=l.DARKEST=l.ADD=l.REMOVE=l.BLEND=l.UP_ARROW=l.TAB=l.SHIFT=l.RIGHT_ARROW=l.RETURN=l.OPTION=l.LEFT_ARROW=l.ESCAPE=l.ENTER=l.DOWN_ARROW=l.DELETE=l.CONTROL=l.BACKSPACE=l.ALT=l.AUTO=l.HSL=l.HSB=l.RGB=l.MITER=l.BEVEL=l.ROUND=l.SQUARE=l.PROJECT=l.PIE=l.CHORD=l.OPEN=l.CLOSE=l.TESS=l.QUAD_STRIP=l.QUADS=l.TRIANGLE_STRIP=l.TRIANGLE_FAN=l.TRIANGLES=l.LINE_LOOP=l.LINE_STRIP=l.LINES=l.POINTS=l.BASELINE=l.BOTTOM=l.TOP=l.CENTER=l.LEFT=l.RIGHT=l.RADIUS=l.CORNERS=l.CORNER=l.RAD_TO_DEG=l.DEG_TO_RAD=l.RADIANS=l.DEGREES=l.TWO_PI=l.TAU=l.QUARTER_PI=l.PI=l.HALF_PI=l.WAIT=l.TEXT=l.MOVE=l.HAND=l.CROSS=l.ARROW=l.WEBGL2=l.WEBGL=l.P2D=l.VERSION=void 0,l.RGBA=l.HALF_FLOAT=l.FLOAT=l.UNSIGNED_INT=l.UNSIGNED_BYTE=l.COVER=l.CONTAIN=l.FALLBACK=l.LABEL=l.AXES=l.GRID=l._DEFAULT_FILL=l._DEFAULT_STROKE=l.PORTRAIT=l.LANDSCAPE=l.SMOOTH=l.FLAT=l.MIRROR=l.CLAMP=l.REPEAT=l.NEAREST=l.IMAGE=l.IMMEDIATE=l.TEXTURE=l.FILL=l.STROKE=l.CURVE=l.BEZIER=void 0;var o=Math.PI,u=(l.VERSION="1.11.3",l.P2D="p2d",l.WEBGL="webgl",l.WEBGL2="webgl2",l.ARROW="default",l.CROSS="crosshair",l.HAND="pointer",l.MOVE="move",l.TEXT="text",l.WAIT="wait",o/2),u=(l.HALF_PI=u,o),u=(l.PI=u,o/4),u=(l.QUARTER_PI=u,2*o),u=(l.TAU=u,2*o),u=(l.TWO_PI=u,l.DEGREES="degrees",l.RADIANS="radians",o/180),u=(l.DEG_TO_RAD=u,180/o);l.RAD_TO_DEG=u,l.CORNER="corner",l.CORNERS="corners",l.RADIUS="radius",l.RIGHT="right",l.LEFT="left",l.CENTER="center",l.TOP="top",l.BOTTOM="bottom",l.BASELINE="alphabetic",l.POINTS=0,l.LINES=1,l.LINE_STRIP=3,l.LINE_LOOP=2,l.TRIANGLES=4,l.TRIANGLE_FAN=6,l.TRIANGLE_STRIP=5,l.QUADS="quads",l.QUAD_STRIP="quad_strip",l.TESS="tess",l.CLOSE="close",l.OPEN="open",l.CHORD="chord",l.PIE="pie",l.PROJECT="square",l.SQUARE="butt",l.ROUND="round",l.BEVEL="bevel",l.MITER="miter",l.RGB="rgb",l.HSB="hsb",l.HSL="hsl",l.AUTO="auto",l.ALT=18,l.BACKSPACE=8,l.CONTROL=17,l.DELETE=46,l.DOWN_ARROW=40,l.ENTER=13,l.ESCAPE=27,l.LEFT_ARROW=37,l.OPTION=18,l.RETURN=13,l.RIGHT_ARROW=39,l.SHIFT=16,l.TAB=9,l.UP_ARROW=38,l.BLEND="source-over",l.REMOVE="destination-out",l.ADD="lighter",l.DARKEST="darken",l.LIGHTEST="lighten",l.DIFFERENCE="difference",l.SUBTRACT="subtract",l.EXCLUSION="exclusion",l.MULTIPLY="multiply",l.SCREEN="screen",l.REPLACE="copy",l.OVERLAY="overlay",l.HARD_LIGHT="hard-light",l.SOFT_LIGHT="soft-light",l.DODGE="color-dodge",l.BURN="color-burn",l.THRESHOLD="threshold",l.GRAY="gray",l.OPAQUE="opaque",l.INVERT="invert",l.POSTERIZE="posterize",l.DILATE="dilate",l.ERODE="erode",l.BLUR="blur",l.NORMAL="normal",l.ITALIC="italic",l.BOLD="bold",l.BOLDITALIC="bold italic",l.CHAR="CHAR",l.WORD="WORD",l._DEFAULT_TEXT_FILL="#000000",l._DEFAULT_LEADMULT=1.25,l._CTX_MIDDLE="middle",l.LINEAR="linear",l.QUADRATIC="quadratic",l.BEZIER="bezier",l.CURVE="curve",l.STROKE="stroke",l.FILL="fill",l.TEXTURE="texture",l.IMMEDIATE="immediate",l.IMAGE="image",l.NEAREST="nearest",l.REPEAT="repeat",l.CLAMP="clamp",l.MIRROR="mirror",l.FLAT="flat",l.SMOOTH="smooth",l.LANDSCAPE="landscape",l.PORTRAIT="portrait",l._DEFAULT_STROKE="#000000",l._DEFAULT_FILL="#FFFFFF",l.GRID="grid",l.AXES="axes",l.LABEL="label",l.FALLBACK="fallback",l.CONTAIN="contain",l.COVER="cover",l.UNSIGNED_BYTE="unsigned-byte",l.UNSIGNED_INT="unsigned-int",l.FLOAT="float",l.HALF_FLOAT="half-float",l.RGBA="rgba"},{}],273:[function(t,a,l){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function u(y){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(d=t("./main"))&&d.__esModule?d:{default:d},d=function(y){if(y&&y.__esModule)return y;if(y===null||u(y)!=="object"&&typeof y!="function")return{default:y};var g=p();if(g&&g.has(y))return g.get(y);var b,x={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in y){var j;Object.prototype.hasOwnProperty.call(y,b)&&((j=_?Object.getOwnPropertyDescriptor(y,b):null)&&(j.get||j.set)?Object.defineProperty(x,b,j):x[b]=y[b])}return x.default=y,g&&g.set(y,x),x}(t("./constants"));function p(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,p=function(){return y},y)}var m=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],c=(i.default.prototype._frameRate=0,i.default.prototype._lastFrameTime=window.performance.now(),i.default.prototype._targetFrameRate=60,window.print),h=!1;function v(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}i.default.prototype.print=function(){var y;arguments.length?(y=console).log.apply(y,arguments):h||(c(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(h=!0))},i.default.prototype.frameCount=0,i.default.prototype.deltaTime=0,i.default.prototype.focused=document.hasFocus(),i.default.prototype.cursor=function(y,g,b){var x,_="auto",j=this._curElement.elt;m.includes(y)?_=y:typeof y=="string"&&(x="",g&&b&&typeof g=="number"&&typeof b=="number"&&(x="".concat(g," ").concat(b)),_=y.substring(0,7)==="http://"||y.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(y)?"url(".concat(y,") ").concat(x,", auto"):y),j.style.cursor=_},i.default.prototype.frameRate=function(y){return i.default._validateParameters("frameRate",arguments),typeof y!="number"||y<0?this._frameRate:(this._setProperty("_targetFrameRate",y),y===0&&this._setProperty("_frameRate",y),this)},i.default.prototype.getFrameRate=function(){return this.frameRate()},i.default.prototype.setFrameRate=function(y){return this.frameRate(y)},i.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},i.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},i.default.prototype.webglVersion=d.P2D,i.default.prototype.displayWidth=screen.width,i.default.prototype.displayHeight=screen.height,i.default.prototype.windowWidth=0,i.default.prototype.windowHeight=0,i.default.prototype._onresize=function(y){this._setProperty("windowWidth",v()),this._setProperty("windowHeight",f());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(y))===void 0||g||y.preventDefault()},i.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",v()),this._setProperty("windowHeight",f())},i.default.prototype.width=0,i.default.prototype.height=0,i.default.prototype.fullscreen=function(y){if(i.default._validateParameters("fullscreen",arguments),y===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(y){if(y=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},i.default.prototype.pixelDensity=function(y){var g;return i.default._validateParameters("pixelDensity",arguments),typeof y=="number"?(y!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=y),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},i.default.prototype.displayDensity=function(){return window.devicePixelRatio},i.default.prototype.getURL=function(){return location.href},i.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(y){return y!==""})},i.default.prototype.getURLParams=function(){for(var y,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,b={};(y=g.exec(location.search))!=null;)y.index===g.lastIndex&&g.lastIndex++,b[y[1]]=y[2];return b},t=i.default,l.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization");function u(c,h){h=h||console.log.bind(console),i||p(),i.some(function(v){var f;if(c.message&&c.message.match("\\W?".concat(v.name,"\\W"))!==null)return f=v.type==="function"?"".concat(v.name,"()"):v.name,h("Did you just try to use p5.js's ".concat(f," ").concat(v.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0})}var i=null,p=null,d=(o.default._friendlyError=o.default._checkForUserDefinedFunctions=o.default._fesErrorMonitor=function(){},i=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),p=function(){function c(v){return Object.getOwnPropertyNames(v).filter(function(f){return f[0]!=="_"&&!(f in h)&&(h[f]=!0)}).map(function(f){var y=typeof v[f]=="function"?"function":f===f.toUpperCase()?"constant":"variable";return{name:f,type:y}})}var h={};(i=[].concat(c(o.default.prototype),c(t("../constants")))).sort(function(v,f){return f.name.length-v.name.length})},m=(o.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)})),o.default);l.default=m},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(o=t("../main"))&&o.__esModule?o:{default:o};t("../internationalization"),o.default._friendlyFileLoadError=function(){},t=o.default,l.default=t},{"../internationalization":281,"../main":283}],276:[function(t,a,l){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=m(t("../main"));t("../internationalization"),p(t("../constants"));function d(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,d=function(){return h},h)}function p(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var v=d();if(v&&v.has(h))return v.get(h);var f,y,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&((y=b?Object.getOwnPropertyDescriptor(h,f):null)&&(y.get||y.set)?Object.defineProperty(g,f,y):g[f]=h[f]);return g.default=h,v&&v.set(h,g),g}function m(h){return h&&h.__esModule?h:{default:h}}i.default._fesCodeReader=function(){};var c=i.default;l.default=c},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,a,l){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function o(){var u=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(p){return p.stacktrace!==void 0||p["opera#sourceloc"]!==void 0?this.parseOpera(p):p.stack&&p.stack.match(i)?this.parseV8OrIE(p):p.stack?this.parseFFOrSafari(p):void 0},extractLocation:function(p){return p.indexOf(":")===-1?[p]:[(p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(p.replace(/[()]/g,"")))[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(p){return p.stack.split(`
`).filter(function(m){return!!m.match(i)},this).map(function(m){var c=(m=-1<m.indexOf("(eval ")?m.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):m).replace(/^\s+/,"").replace(/\(eval code/g,"("),h=c.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(c=h?c.replace(h[0],""):c).split(/\s+/).slice(1),h=this.extractLocation(h?h[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(h[0])?void 0:h[0],lineNumber:h[1],columnNumber:h[2],source:m}},this)},parseFFOrSafari:function(p){return p.stack.split(`
`).filter(function(m){return!m.match(d)},this).map(function(m){var c,h;return(m=-1<m.indexOf(" > eval")?m.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):m).indexOf("@")===-1&&m.indexOf(":")===-1?{functionName:m}:{functionName:(h=m.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&h[1]?h[1]:void 0,fileName:(h=this.extractLocation(m.replace(c,"")))[0],lineNumber:h[1],columnNumber:h[2],source:m}},this)},parseOpera:function(p){return!p.stacktrace||-1<p.message.indexOf(`
`)&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,c=p.message.split(`
`),h=[],v=2,f=c.length;v<f;v+=2){var y=m.exec(c[v]);y&&h.push({fileName:y[2],lineNumber:y[1],source:c[v]})}return h},parseOpera10:function(p){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=p.stacktrace.split(`
`),h=[],v=0,f=c.length;v<f;v+=2){var y=m.exec(c[v]);y&&h.push({functionName:y[3]||void 0,fileName:y[2],lineNumber:y[1],source:c[v]})}return h},parseOpera11:function(p){return p.stack.split(`
`).filter(function(m){return!!m.match(u)&&!m.match(/^Error created at/)},this).map(function(m){var c,v=m.split("@"),h=this.extractLocation(v.pop()),v=v.shift()||"";return{functionName:v.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=v.match(/\(([^)]*)\)/)?v.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:m}},this)}}}t.default._getErrorStackParser=function(){return new o},t=t.default,l.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,a,l){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=(u=t("../main"))&&u.__esModule?u:{default:u};(function(p){if(!(p&&p.__esModule)&&!(p===null||d(p)!=="object"&&typeof p!="function")){var m=i();if(m&&m.has(p))return m.get(p);var c,h={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in p){var f;Object.prototype.hasOwnProperty.call(p,c)&&((f=v?Object.getOwnPropertyDescriptor(p,c):null)&&(f.get||f.set)?Object.defineProperty(h,c,f):h[c]=p[c])}h.default=p,m&&m.set(p,h)}})(t("../constants")),t("../internationalization");function i(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,i=function(){return p},p)}function d(p){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}u.default._validateParameters=u.default._clearValidateParamsCache=function(){},t=u.default,l.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,a,l){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function u(p){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var m=d();if(m&&m.has(p))return m.get(p);var c,h={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in p){var f;Object.prototype.hasOwnProperty.call(p,c)&&((f=v?Object.getOwnPropertyDescriptor(p,c):null)&&(f.get||f.set)?Object.defineProperty(h,c,f):h[c]=p[c])}return h.default=p,m&&m.set(p,h),h}(t("./constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}l.default={modeAdjust:function(p,m,c,h,v){var f;return v===i.CORNER?f={x:p,y:m,w:Math.abs(c),h:Math.abs(h)}:v===i.CORNERS?f={x:Math.min(p,c),y:Math.min(m,h),w:Math.abs(c-p),h:Math.abs(h-m)}:v===i.RADIUS?f={x:p-(c=Math.abs(c)),y:m-(h=Math.abs(h)),w:2*c,h:2*h}:v===i.CENTER&&(f={x:p-.5*(c=Math.abs(c)),y:m-.5*(h=Math.abs(h)),w:c,h}),f}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,a,l){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(i,d){document.readyState==="complete"?i():window.addEventListener("load",i,!1)}),u]).then(function(){var i;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(i=new Event("p5Ready"),window.dispatchEvent(i),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!o.default.instance&&new o.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,a,l){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.setTranslatorLanguage=l.currentTranslatorLanguage=l.availableTranslatorLanguages=l.initialize=l.translator=void 0;var o,u,i=p(t("i18next")),d=p(t("i18next-browser-languagedetector"));function p(h){return h&&h.__esModule?h:{default:h}}function m(h,v){for(var f=0;f<v.length;f++){var y=v[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var c=function(){function h(y,g){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(y,g)}var v,f;return v=h,(f=[{key:"fetchWithTimeout",value:function(y,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(y,g),new Promise(function(x,_){return setTimeout(function(){return _(new Error("timeout"))},b)})])}},{key:"init",value:function(y){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=y,this.options=g}},{key:"read",value:function(y,g,b){var x=this.options.loadPath;y===this.options.fallback?b(null,o[y][g]):u.includes(y)?(x=this.services.interpolator.interpolate(x,{lng:y,ns:g}),this.loadUrl(x,b)):b("Not found",!1)}},{key:"loadUrl",value:function(y,g){this.fetchWithTimeout(y).then(function(b){if(b.ok)return b.json();throw new Error("failed loading ".concat(y))},function(){throw new Error("failed loading ".concat(y))}).then(function(b){return g(null,b)}).catch(g)}}])&&m(v.prototype,f),h}();c.type="backend",l.translator=function(h,v){console.debug("p5.js translator called before translations were loaded"),i.default.t(h,v)},l.initialize=function(){return i.default.use(d.default).use(c).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:o}).then(function(h){l.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})},l.availableTranslatorLanguages=function(){return i.default.languages},l.currentTranslatorLanguage=function(h){return i.default.language},l.setTranslatorLanguage=function(h){return i.default.changeLanguage(h||void 0,function(v){return console.debug("Translations failed to load (".concat(v,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,l.default=t},{"./main":283}],283:[function(t,a,l){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("./shim");var i=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var v=d();if(v&&v.has(h))return v.get(h);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var b;Object.prototype.hasOwnProperty.call(h,f)&&((b=g?Object.getOwnPropertyDescriptor(h,f):null)&&(b.get||b.set)?Object.defineProperty(y,f,b):y[f]=h[f])}return y.default=h,v&&v.set(h,y),y}(t("./constants"));function d(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,d=function(){return h},h)}function p(h,v){for(var f=0;f<v.length;f++){var y=v[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var m,c=function(){function h(y,x){var b=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=x,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var x=Object.getOwnPropertyNames(h.prototype._registeredMethods),_=!0,j=!1,S=void 0;try{for(var D,E=x[Symbol.iterator]();!(_=(D=E.next()).done);_=!0){var T=D.value;this._registeredMethods[T]=h.prototype._registeredMethods[T].slice()}}catch(V){j=!0,S=V}finally{try{_||E.return==null||E.return()}finally{if(j)throw S}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),h.prototype.callRegisteredHooksFor=function(V){var G=this||h.prototype,Y=this._isGlobal?window:this;if(G._registeredMethods.hasOwnProperty(V)){var G=G._registeredMethods[V],K=!0,V=!1,se=void 0;try{for(var M,R=G[Symbol.iterator]();!(K=(M=R.next()).done);K=!0){var z=M.value;typeof z=="function"&&z.call(Y)}}catch(te){V=!0,se=te}finally{try{K||R.return==null||R.return()}finally{if(V)throw se}}}},this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var V=b._isGlobal?window:b;if(V.preload){b.callRegisteredHooksFor("beforePreload");var G,Y=document.getElementById(b._loadingScreenId),K=(Y||((Y=document.createElement("div")).innerHTML="Loading...",Y.style.position="absolute",Y.id=b._loadingScreenId,(b._userNode||document.body).appendChild(Y)),b._preloadMethods);for(G in K){K[G]=K[G]||h;var se=K[G];se!==h.prototype&&se!==h||(b._isGlobal&&(window[G]=b._wrapPreload(b,G)),se=b),b._registeredPreloadMethods[G]=se[G],se[G]=b._wrapPreload(se,G)}V.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._recording||b._draw()},this._runIfPreloadsAreDone=function(){var V,G=this._isGlobal?window:this;G._preloadCount===0&&((V=document.getElementById(G._loadingScreenId))&&V.parentNode.removeChild(V),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),G._setup(),this._recording||G._draw()))},this._decrementPreload=function(){var V=this._isGlobal?window:this;V._preloadDone||typeof V.preload!="function"||(V._setProperty("_preloadCount",V._preloadCount-1),V._runIfPreloadsAreDone())},this._wrapPreload=function(V,G){var Y=this;return function(){Y._incrementPreload();for(var K=arguments.length,se=new Array(K),M=0;M<K;M++)se[M]=arguments[M];return Y._registeredPreloadMethods[G].apply(V,se)}},this._incrementPreload=function(){var V=this._isGlobal?window:this;V._preloadDone||V._setProperty("_preloadCount",V._preloadCount+1)},this._setup=function(){b.callRegisteredHooksFor("beforeSetup"),b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var V=b._isGlobal?window:b;if(typeof V.preload=="function")for(var G in b._preloadMethods)V[G]=b._preloadMethods[G][G],V[G]&&b&&(V[G]=V[G].bind(b));b._millisStart=window.performance.now(),V._preloadDone=!0,typeof V.setup=="function"&&V.setup();var Y=document.getElementsByTagName("canvas"),K=!0,se=!1,M=void 0;try{for(var R,z=Y[Symbol.iterator]();!(K=(R=z.next()).done);K=!0){var W=R.value;W.dataset.hidden==="true"&&(W.style.visibility="",delete W.dataset.hidden)}}catch(J){se=!0,M=J}finally{try{K||z.return==null||z.return()}finally{if(se)throw M}}b._lastTargetFrameTime=window.performance.now(),b._lastRealFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput(),b.callRegisteredHooksFor("afterSetup")},this._draw=function(G){var G=G||window.performance.now(),Y=G-b._lastTargetFrameTime,K=1e3/b._targetFrameRate;(!b._loop||K-5<=Y)&&(b.deltaTime=G-b._lastRealFrameTime,b._setProperty("deltaTime",b.deltaTime),b._frameRate=1e3/b.deltaTime,b.redraw(),b._lastTargetFrameTime=Math.max(b._lastTargetFrameTime+K,G),b._lastRealFrameTime=G,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(V,G){b[V]=G,b._isGlobal&&(window[V]=G)},this.remove=function(){b._startListener&&window.removeEventListener("load",b._startListener,!1);var V=document.getElementById(b._loadingScreenId);if(V&&(V.parentNode.removeChild(V),b._incrementPreload()),b._curElement){for(var G in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(G,b._events[G]);var Y=!0,V=!1,K=void 0;try{for(var se,M=b._elements[Symbol.iterator]();!(Y=(se=M.next()).done);Y=!0){var R,z=se.value;for(R in z.elt&&z.elt.parentNode&&z.elt.parentNode.removeChild(z.elt),z._events)z.elt.removeEventListener(R,z._events[R])}}catch(de){V=!0,K=de}finally{try{Y||M.return==null||M.return()}finally{if(V)throw K}}var W=b;b._registeredMethods.remove.forEach(function(de){de!==void 0&&de.call(W)})}if(b._isGlobal){for(var J in h.prototype)try{delete window[J]}catch{window[J]=void 0}for(var te in b)if(b.hasOwnProperty(te))try{delete window[te]}catch{window[te]=void 0}h.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(V){V!==void 0&&V.call(this)},this),this._setupPromisePreloads();var F,A,L=this._createFriendlyGlobalFunctionBinder();if(y)y(this),h._checkForUserDefinedFunctions(this);else{for(var O in this._isGlobal=!0,h.instance=this,h.prototype)typeof h.prototype[O]=="function"?(F=O.substring(2),this._events.hasOwnProperty(F)||(Math.hasOwnProperty(O)&&Math[O]===h.prototype[O]?L(O,h.prototype[O]):L(O,h.prototype[O].bind(this)))):L(O,h.prototype[O]);for(var B in this)this.hasOwnProperty(B)&&L(B,this[B])}for(A in this._events){var I=this["_on".concat(A)];I&&(I=I.bind(this),window.addEventListener(A,I,{passive:!1}),this._events[A]=I)}function N(){b._setProperty("focused",!0)}function H(){b._setProperty("focused",!1)}window.addEventListener("focus",N),window.addEventListener("blur",H),this.registerMethod("remove",function(){window.removeEventListener("focus",N),window.removeEventListener("blur",H)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var v,f;return v=h,(f=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(y,g){h.prototype._preloadMethods.hasOwnProperty(y)||(h.prototype._preloadMethods[y]=g)}},{key:"registerMethod",value:function(y,g){var b=this||h.prototype;b._registeredMethods.hasOwnProperty(y)||(b._registeredMethods[y]=[]),b._registeredMethods[y].push(g)}},{key:"unregisterMethod",value:function(y,g){var b=this||h.prototype;if(b._registeredMethods.hasOwnProperty(y)){for(var x=b._registeredMethods[y],_=[],j=0;j<x.length;j++)x[j]===g&&_.push(j);for(var S=_.length-1;0<=S;S--)x.splice(_[S],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=y.globalObject||window;return y.log||console.log.bind(console),function(b,x){h.disableFriendlyErrors,g[b]=x}}}])&&p(v.prototype,f),h}();for(m in c.instance=null,c.disableFriendlyErrors=!1,i)c.prototype[m]=i[m];c.VERSION=i.VERSION,c.prototype._preloadMethods={loadJSON:c.prototype,loadImage:c.prototype,loadStrings:c.prototype,loadXML:c.prototype,loadBytes:c.prototype,loadTable:c.prototype,loadFont:c.prototype,loadModel:c.prototype,loadShader:c.prototype},c.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},c.prototype._registeredPreloadMethods={},l.default=c},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function u(i,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.Element=function(){function i(c,h){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.elt=c,this._pInst=this._pixelsState=h,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var d,p,m;return d=i,m=[{key:"_adjustListener",value:function(c,h,v){return h===!1?o.default.Element._detachListener(c,v):o.default.Element._attachListener(c,h,v),this}},{key:"_attachListener",value:function(c,h,v){v._events[c]&&o.default.Element._detachListener(c,v),h=h.bind(v),v.elt.addEventListener(c,h,!1),v._events[c]=h}},{key:"_detachListener",value:function(c,h){var v=h._events[c];h.elt.removeEventListener(c,v,!1),h._events[c]=null}}],(p=[{key:"parent",value:function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof o.default.Element&&(c=c.elt),c.appendChild(this.elt),this)}},{key:"id",value:function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)}},{key:"mousePressed",value:function(c){return o.default.Element._adjustListener("mousedown",function(h){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(h),c.call(this,h)},this),this}},{key:"doubleClicked",value:function(c){return o.default.Element._adjustListener("dblclick",c,this),this}},{key:"mouseWheel",value:function(c){return o.default.Element._adjustListener("wheel",c,this),this}},{key:"mouseReleased",value:function(c){return o.default.Element._adjustListener("mouseup",c,this),this}},{key:"mouseClicked",value:function(c){return o.default.Element._adjustListener("click",c,this),this}},{key:"mouseMoved",value:function(c){return o.default.Element._adjustListener("mousemove",c,this),this}},{key:"mouseOver",value:function(c){return o.default.Element._adjustListener("mouseover",c,this),this}},{key:"mouseOut",value:function(c){return o.default.Element._adjustListener("mouseout",c,this),this}},{key:"touchStarted",value:function(c){return o.default.Element._adjustListener("touchstart",c,this),this}},{key:"touchMoved",value:function(c){return o.default.Element._adjustListener("touchmove",c,this),this}},{key:"touchEnded",value:function(c){return o.default.Element._adjustListener("touchend",c,this),this}},{key:"dragOver",value:function(c){return o.default.Element._adjustListener("dragover",c,this),this}},{key:"dragLeave",value:function(c){return o.default.Element._adjustListener("dragleave",c,this),this}},{key:"_setProperty",value:function(c,h){this[c]=h}}])&&u(d.prototype,p),m&&u(d,m),i}(),t=o.default.Element,l.default=t},{"./main":283}],285:[function(t,a,l){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(b)}function u(b){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(g=t("./main"))&&g.__esModule?g:{default:g},d=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var x=p();if(x&&x.has(b))return x.get(b);var _,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in b){var D;Object.prototype.hasOwnProperty.call(b,_)&&((D=S?Object.getOwnPropertyDescriptor(b,_):null)&&(D.get||D.set)?Object.defineProperty(j,_,D):j[_]=b[_])}return j.default=b,x&&x.set(b,j),j}(t("./constants"));function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}function m(b,x){for(var _=0;_<x.length;_++){var j=x[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}function c(b,x){return(c=Object.setPrototypeOf||function(_,j){return _.__proto__=j,_})(b,x)}function h(b){return function(){var x,_=y(b);return v(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=y(this).constructor,Reflect.construct(_,arguments,x)):_.apply(this,arguments))}}function v(b,x){return!x||u(x)!=="object"&&typeof x!="function"?f(b):x}function f(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function y(b){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(b)}i.default.Graphics=function(b){var x=j;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),b&&c(x,b);var _=h(j);function j(S,D,B,T,F){var A;if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");O=F||document.createElement("canvas"),(A=_.call(this,O,T)).canvas=O;var L,O=B||d.P2D,B=T._userNode||document.body;for(L in F||B.appendChild(A.canvas),i.default.prototype)A[L]||(typeof i.default.prototype[L]=="function"?A[L]=i.default.prototype[L].bind(f(A)):A[L]=i.default.prototype[L]);return i.default.prototype._initializeInstanceVariables.apply(f(A)),A.width=S,A.height=D,A._pixelDensity=T._pixelDensity,O===d.WEBGL?(A._renderer=new i.default.RendererGL(A.canvas,f(A),!1),S=(F=A._renderer._adjustDimensions(S,D)).adjustedWidth,D=F.adjustedHeight):A._renderer=new i.default.Renderer2D(A.canvas,f(A),!1),T._elements.push(f(A)),Object.defineProperty(f(A),"deltaTime",{get:function(){return this._pInst.deltaTime}}),A._renderer.resize(S,D),A._renderer._applyDefaults(),v(A,f(A))}return x=j,(b=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var S,D=this._pInst._elements.indexOf(this);for(S in D!==-1&&this._pInst._elements.splice(D,1),this._events)this.elt.removeEventListener(S,this._events[S]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(S){return new i.default.Framebuffer(this,S)}}])&&m(x.prototype,b),j}(i.default.Element);var g=i.default.Graphics;l.default=g},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,a,l){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=(y=t("./main"))&&y.__esModule?y:{default:y},i=function(b){if(b&&b.__esModule)return b;if(b===null||p(b)!=="object"&&typeof b!="function")return{default:b};var x=d();if(x&&x.has(b))return x.get(b);var _,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in b){var D;Object.prototype.hasOwnProperty.call(b,_)&&((D=S?Object.getOwnPropertyDescriptor(b,_):null)&&(D.get||D.set)?Object.defineProperty(j,_,D):j[_]=b[_])}return j.default=b,x&&x.set(b,j),j}(t("../core/constants"));function d(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,d=function(){return b},b)}function p(b){return(p=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(b)}function m(b,x){for(var _=0;_<x.length;_++){var j=x[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}function c(b,x){return(c=Object.setPrototypeOf||function(_,j){return _.__proto__=j,_})(b,x)}function h(b){return function(){var x,_,j=f(b);return x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=f(this).constructor,Reflect.construct(j,arguments,x)):j.apply(this,arguments),j=this,!(_=x)||p(_)!=="object"&&typeof _!="function"?v(j):_}}function v(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function f(b){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(b)}var y=function(b){var x=j;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),b&&c(x,b);var _=h(j);function j(S,D,E){var T;if(this instanceof j)return(T=_.call(this,S,D)).canvas=S,T._pixelsState=D,E?(T._isMainCanvas=!0,T._pInst._setProperty("_curElement",v(T)),T._pInst._setProperty("canvas",T.canvas),T._pInst._setProperty("width",T.width),T._pInst._setProperty("height",T.height)):(T.canvas.style.display="none",T._styles=[]),T._clipping=!1,T._clipInvert=!1,T._textSize=12,T._textLeading=15,T._textFont="sans-serif",T._textStyle=i.NORMAL,T._textAscent=null,T._textDescent=null,T._textAlign=i.LEFT,T._textBaseline=i.BASELINE,T._textWrap=i.WORD,T._rectMode=i.CORNER,T._ellipseMode=i.CENTER,T._curveTightness=0,T._imageMode=i.CORNER,T._tint=null,T._doStroke=!0,T._doFill=!0,T._strokeSet=!1,T._fillSet=!1,T._leadingSet=!1,T._pushPopDepth=0,T;throw new TypeError("Cannot call a class as a function")}return x=j,(b=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(S){this._pushPopDepth--,S.properties&&Object.assign(this,S.properties)}},{key:"beginClip",value:function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=S.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(S,D){this.width=S,this.height=D,this.elt.width=S*this._pInst._pixelDensity,this.elt.height=D*this._pInst._pixelDensity,this.elt.style.width="".concat(S,"px"),this.elt.style.height="".concat(D,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(S,D,E,T){var F=this._pixelsState,A=F._pixelDensity,L=this.canvas;if(S===void 0&&D===void 0)S=D=0,E=F.width,T=F.height;else if(S*=A,D*=A,E===void 0&&T===void 0)return S<0||D<0||S>=L.width||D>=L.height?[0,0,0,0]:this._getPixel(S,D);return F=new u.default.Image(E*A,T*A),F.pixelDensity(A),F.canvas.getContext("2d").drawImage(L,S,D,E*A,T*A,0,0,E*A,T*A),F}},{key:"textLeading",value:function(S){return typeof S=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",S),this._pInst):this._textLeading}},{key:"textStyle",value:function(S){return S?(S!==i.NORMAL&&S!==i.ITALIC&&S!==i.BOLD&&S!==i.BOLDITALIC||this._setProperty("_textStyle",S),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(S,D){return S!==void 0?(this._setProperty("_textAlign",S),D!==void 0&&this._setProperty("_textBaseline",D),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(S){return this._setProperty("_textWrap",S),this._textWrap}},{key:"text",value:function(S,D,E,T,F){var A,L,O,B,I=this._pInst,N=this._textWrap,H=Number.MAX_VALUE,V=E;if((this._doFill||this._doStroke)&&S!==void 0){if(A=(S=(S=typeof S!="string"?S.toString():S).replace(/(\t)/g,"  ")).split(`
`),T!==void 0){switch(this._rectMode===i.CENTER&&(D-=T/2),this._textAlign){case i.CENTER:D+=T/2;break;case i.RIGHT:D+=T}if(F!==void 0){this._rectMode===i.CENTER&&(E-=F/2,V-=F/2);var S=E,G=I.textAscent();switch(this._textBaseline){case i.BOTTOM:B=E+F,E=Math.max(B,E),V+=G;break;case i.CENTER:B=E+F/2,E=Math.max(B,E),V+=G/2}H=E+F-G,this._textBaseline===i.CENTER&&(H=S+F-G/2)}else this._textBaseline!==i.BOTTOM&&this._textBaseline!==i.CENTER||(V=E-(S=I.textSize()*this._textLeading)/2,H=E+S/2);if(N===i.WORD){for(var Y=[],K=0;K<A.length;K++){for(var se="",M=A[K].split(" "),R=0;R<M.length;R++)L="".concat(se+M[R])+" ",se=T<(O=this.textWidth(L))&&0<se.length?(Y.push(se),"".concat(M[R])+" "):L;Y.push(se)}var z=0;this._textBaseline===i.CENTER?z=(Y.length-1)*I.textLeading()/2:this._textBaseline===i.BOTTOM&&(z=(Y.length-1)*I.textLeading());for(var W=0;W<A.length;W++){se="",M=A[W].split(" ");for(var J=0;J<M.length;J++)L="".concat(se+M[J])+" ",T<(O=this.textWidth(L))&&0<se.length?(this._renderText(I,se.trim(),D,E-z,H,V),se="".concat(M[J])+" ",E+=I.textLeading()):se=L;this._renderText(I,se.trim(),D,E-z,H,V),E+=I.textLeading()}}else{for(var te=[],ie=0;ie<A.length;ie++)for(var de=A[ie].split(se=""),oe=0;oe<de.length;oe++)L="".concat(se+de[oe]),(O=this.textWidth(L))<=T?se+=de[oe]:T<O&&0<se.length&&(te.push(se),se="".concat(de[oe]));te.push(se);var he=0;this._textBaseline===i.CENTER?he=(te.length-1)*I.textLeading()/2:this._textBaseline===i.BOTTOM&&(he=(te.length-1)*I.textLeading());for(var le=0;le<A.length;le++){de=A[le].split(se="");for(var ee=0;ee<de.length;ee++)L="".concat(se+de[ee]),(O=this.textWidth(L))<=T?se+=de[ee]:T<O&&0<se.length&&(this._renderText(I,se.trim(),D,E-he,H,V),E+=I.textLeading(),se="".concat(de[ee]))}this._renderText(I,se.trim(),D,E-he,H,V),E+=I.textLeading()}}else{var pe=0;this._textBaseline===i.CENTER?pe=(A.length-1)*I.textLeading()/2:this._textBaseline===i.BOTTOM&&(pe=(A.length-1)*I.textLeading());for(var _e=0;_e<A.length;_e++)this._renderText(I,A[_e],D,E-pe,H,V-pe),E+=I.textLeading()}return I}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return p(S)==="object"&&S.font&&S.font.supported}},{key:"_updateTextMetrics",value:function(){var S,D,E,T,F,A;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((S=document.createElement("span")).style.fontFamily=this._textFont,S.style.fontSize="".concat(this._textSize,"px"),S.innerHTML="ABCjgq|",(A=document.createElement("div")).style.display="inline-block",A.style.width="1px",A.style.height="0px",T=((D=document.createElement("div")).appendChild(S),D.appendChild(A),D.style.height="0px",D.style.overflow="hidden",document.body.appendChild(D),A.style.verticalAlign="baseline",g(A)),F=g(S),E=T[1]-F[1],T=(A.style.verticalAlign="bottom",g(A)),F=g(S),A=T[1]-F[1]-E,document.body.removeChild(D),this._setProperty("_textAscent",E),this._setProperty("_textDescent",A)),this}}])&&m(x.prototype,b),j}(u.default.Element);function g(b){var x=0,_=0;if(b.offsetParent)for(;x+=b.offsetLeft,_+=b.offsetTop,b=b.offsetParent;);else x+=b.offsetLeft,_+=b.offsetTop;return[x,_]}y.prototype.textSize=function(b){return typeof b=="number"?(this._setProperty("_textSize",b),this._leadingSet||this._setProperty("_textLeading",b*i._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.default.Renderer=y,t=u.default.Renderer,l.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(b,a,l){function o(x){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function u(x){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(_){return o(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":o(_)})(x)}b("core-js/modules/es.symbol"),b("core-js/modules/es.symbol.description"),b("core-js/modules/es.symbol.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.array.join"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.function.name"),b("core-js/modules/es.object.get-own-property-descriptor"),b("core-js/modules/es.object.get-prototype-of"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.reflect.construct"),b("core-js/modules/es.reflect.get"),b("core-js/modules/es.regexp.exec"),b("core-js/modules/es.regexp.to-string"),b("core-js/modules/es.string.iterator"),b("core-js/modules/es.weak-map"),b("core-js/modules/web.dom-collections.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.join"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.function.name"),b("core-js/modules/es.object.get-prototype-of"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.regexp.exec"),b("core-js/modules/es.regexp.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(g=b("./main"))&&g.__esModule?g:{default:g},d=function(x){if(x&&x.__esModule)return x;if(x===null||u(x)!=="object"&&typeof x!="function")return{default:x};var _=p();if(_&&_.has(x))return _.get(x);var j,S={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in x){var E;Object.prototype.hasOwnProperty.call(x,j)&&((E=D?Object.getOwnPropertyDescriptor(x,j):null)&&(E.get||E.set)?Object.defineProperty(S,j,E):S[j]=x[j])}return S.default=x,_&&_.set(x,S),S}(b("./constants"));function p(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,p=function(){return x},x)}function m(x,_){for(var j=0;j<_.length;j++){var S=_[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}function c(x,_,j){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(T,D,E){var T=function(F,A){for(;!Object.prototype.hasOwnProperty.call(F,A)&&(F=f(F))!==null;);return F}(T,D);if(T)return(T=Object.getOwnPropertyDescriptor(T,D)).get?T.get.call(E):T.value})(x,_,j||x)}function h(x,_){return(h=Object.setPrototypeOf||function(j,S){return j.__proto__=S,j})(x,_)}function v(x){return function(){var _,j=f(x),j=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=f(this).constructor,Reflect.construct(j,arguments,_)):j.apply(this,arguments),this);if(!_||u(_)!=="object"&&typeof _!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function f(x){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(x)}b("./p5.Renderer");var y="rgba(0,0,0,0)",g=function(x){var _=S;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),x&&h(_,x);var j=v(S);function S(D,E,T){if(this instanceof S)return(D=j.call(this,D,E,T)).drawingContext=D.canvas.getContext("2d"),D._pInst._setProperty("drawingContext",D.drawingContext),D;throw new TypeError("Cannot call a class as a function")}return _=S,(x=[{key:"getFilterGraphicsLayer",value:function(){var D;return this.filterGraphicsLayer||(D=(this._pInst instanceof i.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new i.default.Graphics(this.width,this.height,d.WEBGL,D)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(D,E){c(f(S.prototype),"resize",this).call(this,D,E),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var D,E;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(D=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(D,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(D=this._getFill(),E=(E=this._pInst).color.apply(E,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(E.levels),E=E.toString(),this._setFill(E),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(D),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var D=(D=this._pInst).color.apply(D,arguments);this._setFill(D.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",D.levels)}},{key:"stroke",value:function(){var D=(D=this._pInst).color.apply(D,arguments);this._setStroke(D.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",D.levels)}},{key:"erase",value:function(D,E){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,D=this._pInst.color(255,D).toString(),this.drawingContext.fillStyle=D,this._cachedStrokeStyle=this.drawingContext.strokeStyle,D=this._pInst.color(255,E).toString(),this.drawingContext.strokeStyle=D,E=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=E,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},D=(c(f(S.prototype),"beginClip",this).call(this,D),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),D=(this.drawingContext.fillStyle=D,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),D=(this.drawingContext.strokeStyle=D,this._cachedBlendMode);this.blendMode(d.BLEND),this._cachedBlendMode=D,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),c(f(S.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(D,E,T,F,A,L,O,B,I){D.gifProperties&&D._animateGif(this._pInst);try{i.default.MediaElement&&D instanceof i.default.MediaElement&&D._ensureCanvas();var N=(N=this._tint&&D.canvas?this._getTintedImageCanvas(D):N)||D.canvas||D.elt,H=1;D.width&&0<D.width&&(H=N.width/D.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(N,H*E,H*T,H*F,H*A,L,O,B,I),this._isErasing&&this._pInst.erase()}catch(V){if(V.name!=="NS_ERROR_NOT_AVAILABLE")throw V}}},{key:"_getTintedImageCanvas",value:function(D){if(!D.canvas)return D;D.tintCanvas||(D.tintCanvas=document.createElement("canvas")),D.tintCanvas.width!==D.canvas.width&&(D.tintCanvas.width=D.canvas.width),D.tintCanvas.height!==D.canvas.height&&(D.tintCanvas.height=D.canvas.height);var E=D.tintCanvas.getContext("2d");return E.save(),E.clearRect(0,0,D.canvas.width,D.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(E.drawImage(D.canvas,0,0),E.globalCompositeOperation="luminosity",E.drawImage(D.canvas,0,0),E.globalCompositeOperation="color",E.drawImage(D.canvas,0,0),E.globalCompositeOperation="multiply",E.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),E.fillRect(0,0,D.canvas.width,D.canvas.height),E.globalCompositeOperation="destination-in"),E.globalAlpha=this._tint[3]/255,E.drawImage(D.canvas,0,0),E.restore(),D.tintCanvas}},{key:"blendMode",value:function(D){if(D===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(D!==d.BLEND&&D!==d.REMOVE&&D!==d.DARKEST&&D!==d.LIGHTEST&&D!==d.DIFFERENCE&&D!==d.MULTIPLY&&D!==d.EXCLUSION&&D!==d.SCREEN&&D!==d.REPLACE&&D!==d.OVERLAY&&D!==d.HARD_LIGHT&&D!==d.SOFT_LIGHT&&D!==d.DODGE&&D!==d.BURN&&D!==d.ADD)throw new Error("Mode ".concat(D," not recognized."));this._cachedBlendMode=D,this.drawingContext.globalCompositeOperation=D}}},{key:"blend",value:function(){for(var D=this.drawingContext.globalCompositeOperation,E=arguments.length,T=new Array(E),F=0;F<E;F++)T[F]=arguments[F];var A=T[T.length-1],L=Array.prototype.slice.call(T,0,T.length-1);this.drawingContext.globalCompositeOperation=A,i.default.prototype.copy.apply(this,L),this.drawingContext.globalCompositeOperation=D}},{key:"_getPixel",value:function(D,E){return D=this.drawingContext.getImageData(D,E,1,1).data,[D[0],D[1],D[2],D[3]]}},{key:"loadPixels",value:function(){var D=this._pixelsState,E=D._pixelDensity,T=this.width*E,E=this.height*E,T=this.drawingContext.getImageData(0,0,T,E);D._setProperty("imageData",T),D._setProperty("pixels",T.data)}},{key:"set",value:function(D,E,T){D=Math.floor(D),E=Math.floor(E);var F=this._pixelsState;if(T instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(F._pixelDensity,F._pixelDensity),this.drawingContext.clearRect(D,E,T.width,T.height),this.drawingContext.drawImage(T.canvas,D,E),this.drawingContext.restore();else{var A=0,L=0,O=0,B=0,I=4*(E*F._pixelDensity*(this.width*F._pixelDensity)+D*F._pixelDensity);if(F.imageData||F.loadPixels(),typeof T=="number")I<F.pixels.length&&(O=L=A=T,B=255);else if(Array.isArray(T)){if(T.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");I<F.pixels.length&&(A=T[0],L=T[1],O=T[2],B=T[3])}else T instanceof i.default.Color&&I<F.pixels.length&&(A=T.levels[0],L=T.levels[1],O=T.levels[2],B=T.levels[3]);for(var N=0;N<F._pixelDensity;N++)for(var H=0;H<F._pixelDensity;H++)I=4*((E*F._pixelDensity+H)*this.width*F._pixelDensity+(D*F._pixelDensity+N)),F.pixels[I]=A,F.pixels[I+1]=L,F.pixels[I+2]=O,F.pixels[I+3]=B}}},{key:"updatePixels",value:function(D,E,T,F){var A=this._pixelsState,L=A._pixelDensity;D===void 0&&E===void 0&&T===void 0&&F===void 0&&(E=D=0,T=this.width,F=this.height),D*=L,E*=L,T*=L,F*=L,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=A.imageData),this.drawingContext.putImageData(A.imageData,0,0,D,E,T,F)}},{key:"arc",value:function(I,N,H,V,A,L,O){var B=this.drawingContext,I=I+H/2,N=N+V/2,H=H/2,V=V/2,G=!(O===d.CHORD||O===d.OPEN||(L-A)%d.TWO_PI==0);return this._doFill&&(this._clipping||B.beginPath(),B.ellipse(I,N,H,V,0,A,L),G&&B.lineTo(I,N),B.closePath(),this._clipping||B.fill()),this._doStroke&&(this._clipping||B.beginPath(),B.ellipse(I,N,H,V,0,A,L),O===d.PIE&&G&&B.lineTo(I,N),O!==d.PIE&&O!==d.CHORD||B.closePath(),this._clipping||B.stroke()),this}},{key:"ellipse",value:function(B){var E=this.drawingContext,T=this._doFill,F=this._doStroke,A=parseFloat(B[0]),L=parseFloat(B[1]),O=parseFloat(B[2]),B=parseFloat(B[3]);if(T&&!F){if(this._getFill()===y)return this}else if(!T&&F&&this._getStroke()===y)return this;A+=O/2,L+=B/2,O/=2,B/=2,this._clipping||E.beginPath(),E.ellipse(A,L,O,B,0,0,2*Math.PI),E.closePath(),!this._clipping&&T&&E.fill(),!this._clipping&&F&&E.stroke()}},{key:"line",value:function(D,E,T,F){var A=this.drawingContext;return this._doStroke&&this._getStroke()!==y&&(this._clipping||A.beginPath(),A.moveTo(D,E),A.lineTo(T,F),A.stroke()),this}},{key:"point",value:function(D,E){var T,F,A=this.drawingContext;return!this._doStroke||this._getStroke()===y?this:(T=this._getStroke(),F=this._getFill(),this._clipping||this._setFill(T),this._clipping||A.beginPath(),A.arc(D,E,A.lineWidth/2,0,d.TWO_PI,!1),void(this._clipping||(A.fill(),this._setFill(F))))}},{key:"quad",value:function(D,E,T,F,A,L,O,B){var I=this.drawingContext,N=this._doFill,H=this._doStroke;if(N&&!H){if(this._getFill()===y)return this}else if(!N&&H&&this._getStroke()===y)return this;return this._clipping||I.beginPath(),I.moveTo(D,E),I.lineTo(T,F),I.lineTo(A,L),I.lineTo(O,B),I.closePath(),!this._clipping&&N&&I.fill(),!this._clipping&&H&&I.stroke(),this}},{key:"rect",value:function(H){var E,T,F=H[0],A=H[1],L=H[2],O=H[3],B=H[4],I=H[5],N=H[6],H=H[7],V=this.drawingContext,G=this._doFill,Y=this._doStroke;if(G&&!Y){if(this._getFill()===y)return this}else if(!G&&Y&&this._getStroke()===y)return this;return this._clipping||V.beginPath(),B===void 0?V.rect(F,A,L,O):(I===void 0&&(I=B),N===void 0&&(N=I),H===void 0&&(H=N),Y=(G=Math.abs(L))/2,T=(E=Math.abs(O))/2,V.roundRect(F,A,L,O,[B=E<2*(B=G<2*B?Y:B)?T:B,I=E<2*(I=G<2*I?Y:I)?T:I,N=E<2*(N=G<2*N?Y:N)?T:N,H=E<2*(H=G<2*H?Y:H)?T:H])),!this._clipping&&this._doFill&&V.fill(),!this._clipping&&this._doStroke&&V.stroke(),this}},{key:"triangle",value:function(N){var E=this.drawingContext,T=this._doFill,F=this._doStroke,A=N[0],L=N[1],O=N[2],B=N[3],I=N[4],N=N[5];if(T&&!F){if(this._getFill()===y)return this}else if(!T&&F&&this._getStroke()===y)return this;this._clipping||E.beginPath(),E.moveTo(A,L),E.lineTo(O,B),E.lineTo(I,N),E.closePath(),!this._clipping&&T&&E.fill(),!this._clipping&&F&&E.stroke()}},{key:"endShape",value:function(D,E,T,F,A,L,O){if(E.length!==0&&(this._doStroke||this._doFill)){var B,I,N,H=D===d.CLOSE,V=(H&&!L&&E.push(E[0]),E.length);if(T&&O===null){if(3<V){var G=[],Y=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[1][0],E[1][1]),I=1;I+2<V;I++)B=E[I],G[0]=[B[0],B[1]],G[1]=[B[0]+(Y*E[I+1][0]-Y*E[I-1][0])/6,B[1]+(Y*E[I+1][1]-Y*E[I-1][1])/6],G[2]=[E[I+1][0]+(Y*E[I][0]-Y*E[I+2][0])/6,E[I+1][1]+(Y*E[I][1]-Y*E[I+2][1])/6],G[3]=[E[I+1][0],E[I+1][1]],this.drawingContext.bezierCurveTo(G[1][0],G[1][1],G[2][0],G[2][1],G[3][0],G[3][1]);H&&this.drawingContext.lineTo(E[I+1][0],E[I+1][1]),this._doFillStrokeClose(H)}}else if(F&&O===null){for(this._clipping||this.drawingContext.beginPath(),I=0;I<V;I++)E[I].isVert?E[I].moveTo?this.drawingContext.moveTo(E[I][0],E[I][1]):this.drawingContext.lineTo(E[I][0],E[I][1]):this.drawingContext.bezierCurveTo(E[I][0],E[I][1],E[I][2],E[I][3],E[I][4],E[I][5]);this._doFillStrokeClose(H)}else if(A&&O===null){for(this._clipping||this.drawingContext.beginPath(),I=0;I<V;I++)E[I].isVert?E[I].moveTo?this.drawingContext.moveTo(E[I][0],E[I][1]):this.drawingContext.lineTo(E[I][0],E[I][1]):this.drawingContext.quadraticCurveTo(E[I][0],E[I][1],E[I][2],E[I][3]);this._doFillStrokeClose(H)}else if(O===d.POINTS)for(I=0;I<V;I++)B=E[I],this._doStroke&&this._pInst.stroke(B[6]),this._pInst.point(B[0],B[1]);else if(O===d.LINES)for(I=0;I+1<V;I+=2)B=E[I],this._doStroke&&this._pInst.stroke(E[I+1][6]),this._pInst.line(B[0],B[1],E[I+1][0],E[I+1][1]);else if(O===d.TRIANGLES)for(I=0;I+2<V;I+=3)B=E[I],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(E[I+1][0],E[I+1][1]),this.drawingContext.lineTo(E[I+2][0],E[I+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(E[I+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(E[I+2][6]),this.drawingContext.stroke());else if(O===d.TRIANGLE_STRIP)for(I=0;I+1<V;I++)B=E[I],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[I+1][0],E[I+1][1]),this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+1][5]),I+2<V&&(this.drawingContext.lineTo(E[I+2][0],E[I+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+2][5])),this._doFillStrokeClose(H);else if(O===d.TRIANGLE_FAN){if(2<V){for(this._clipping||this.drawingContext.beginPath(),I=2;I<V;I++)B=E[I],this.drawingContext.moveTo(E[0][0],E[0][1]),this.drawingContext.lineTo(E[I-1][0],E[I-1][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(E[0][0],E[0][1]),I<V-1&&(this._doFill&&B[5]!==E[I+1][5]||this._doStroke&&B[6]!==E[I+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(B[5]),this.drawingContext.fill(),this._pInst.fill(E[I+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(B[6]),this.drawingContext.stroke(),this._pInst.stroke(E[I+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(H)}}else if(O===d.QUADS)for(I=0;I+3<V;I+=4){for(B=E[I],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),N=1;N<4;N++)this.drawingContext.lineTo(E[I+N][0],E[I+N][1]);this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+3][6]),this._doFillStrokeClose(H)}else if(O===d.QUAD_STRIP){if(3<V)for(I=0;I+1<V;I+=2)B=E[I],this._clipping||this.drawingContext.beginPath(),I+3<V?(this.drawingContext.moveTo(E[I+2][0],E[I+2][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(E[I+1][0],E[I+1][1]),this.drawingContext.lineTo(E[I+3][0],E[I+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+3][6])):(this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(E[I+1][0],E[I+1][1])),this._doFillStrokeClose(H)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0][0],E[0][1]),I=1;I<V;I++)(B=E[I]).isVert&&(B.moveTo?(H&&this.drawingContext.closePath(),this.drawingContext.moveTo(B[0],B[1])):this.drawingContext.lineTo(B[0],B[1]));this._doFillStrokeClose(H)}L=A=F=T=!1,H&&E.pop()}return this}},{key:"strokeCap",value:function(D){return D!==d.ROUND&&D!==d.SQUARE&&D!==d.PROJECT||(this.drawingContext.lineCap=D),this}},{key:"strokeJoin",value:function(D){return D!==d.ROUND&&D!==d.BEVEL&&D!==d.MITER||(this.drawingContext.lineJoin=D),this}},{key:"strokeWeight",value:function(D){return this.drawingContext.lineWidth=D===void 0||D===0?1e-4:D,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(D){D!==this._cachedFillStyle&&(this.drawingContext.fillStyle=D,this._cachedFillStyle=D)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(D){D!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=D,this._cachedStrokeStyle=D)}},{key:"bezier",value:function(D,E,T,F,A,L,O,B){return this._pInst.beginShape(),this._pInst.vertex(D,E),this._pInst.bezierVertex(T,F,A,L,O,B),this._pInst.endShape(),this}},{key:"curve",value:function(D,E,T,F,A,L,O,B){return this._pInst.beginShape(),this._pInst.curveVertex(D,E),this._pInst.curveVertex(T,F),this._pInst.curveVertex(A,L),this._pInst.curveVertex(O,B),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(D){D&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(D,E,T,F,A,L){this.drawingContext.transform(D,E,T,F,A,L)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(D){this.drawingContext.rotate(D)}},{key:"scale",value:function(D,E){return this.drawingContext.scale(D,E),this}},{key:"translate",value:function(D,E){return D instanceof i.default.Vector&&(E=D.y,D=D.x),this.drawingContext.translate(D,E),this}},{key:"_renderText",value:function(D,E,T,F,A,L){if(!(F<L||A<=F))return D.push(),this._isOpenType()?this._textFont._renderPath(E,T,F,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(E,T,F),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(E,T,F))),D.pop(),D}},{key:"textWidth",value:function(D){return this._isOpenType()?this._textFont._textWidth(D,this._textSize):this.drawingContext.measureText(D).width}},{key:"_applyTextProperties",value:function(){var D=this._pInst,E=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),E=this._textFont,this._isOpenType()&&(E=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),E||"sans-serif");return/\s/.exec(E)&&(E='"'.concat(E,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(E),this.drawingContext.textAlign=this._textAlign,this._textBaseline===d.CENTER?this.drawingContext.textBaseline=d._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,D}},{key:"push",value:function(){return this.drawingContext.save(),c(f(S.prototype),"push",this).call(this)}},{key:"pop",value:function(D){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,c(f(S.prototype),"pop",this).call(this,D)}}])&&m(_.prototype,x),S}(i.default.Renderer),b=(g.prototype.text=function(x,_,j,T,D){T!==void 0&&this.drawingContext.textBaseline===d.BASELINE&&(E=!0,this.drawingContext.textBaseline=d.TOP);var E,T=i.default.Renderer.prototype.text.apply(this,arguments);return E&&(this.drawingContext.textBaseline=d.BASELINE),T},i.default.Renderer2D=g,i.default.Renderer2D);l.default=b},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(t=t("./main"))&&t.__esModule?t:{default:t};o.default.prototype._promisePreloads=[];function u(){return{}}var i=!(o.default.prototype.registerPromisePreload=function(d){o.default.prototype._promisePreloads.push(d)});o.default.prototype._setupPromisePreloads=function(){var d=!0,p=!1,m=void 0;try{for(var c,h=this._promisePreloads[Symbol.iterator]();!(d=(c=h.next()).done);d=!0){var v=c.value,f=this,y=v.method,g=v.addCallbacks,b=v.legacyPreloadSetup,x=v.target||this,_=x[y].bind(x);if(x===o.default.prototype){if(i)continue;f=null,_=x[y]}x[y]=this._wrapPromisePreload(f,_,g),b&&(x[b.method]=this._legacyPreloadGenerator(f,b,x[y]))}}catch(j){p=!0,m=j}finally{try{d||h.return==null||h.return()}finally{if(p)throw m}}i=!0},o.default.prototype._wrapPromisePreload=function(d,p,m){var c=function(){for(var h=this,v=(this._incrementPreload(),null),f=null,y=arguments.length,g=new Array(y),b=0;b<y;b++)g[b]=arguments[b];if(m)for(var x=g.length-1;0<=x&&!f&&typeof g[x]=="function";x--)f=v,v=g.pop();var _=Promise.resolve(p.apply(this,g));return v&&_.then(v),f&&_.catch(f),_.then(function(){return h._decrementPreload()}),_};return c=d?c.bind(d):c},o.default.prototype._legacyPreloadGenerator=function(d,h,m){var c=h.createBaseObject||u,h=function(){var v=this;this._incrementPreload();for(var f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];var b=c.apply(this,y);return m.apply(this,y).then(function(x){Object.assign(b,x),v._decrementPreload()}),b};return h=d?h.bind(d):h}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,a,l){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=(c=t("./main"))&&c.__esModule?c:{default:c},i=function(h){if(h&&h.__esModule)return h;if(h===null||p(h)!=="object"&&typeof h!="function")return{default:h};var v=d();if(v&&v.has(h))return v.get(h);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var b;Object.prototype.hasOwnProperty.call(h,f)&&((b=g?Object.getOwnPropertyDescriptor(h,f):null)&&(b.get||b.set)?Object.defineProperty(y,f,b):y[f]=h[f])}return y.default=h,v&&v.set(h,y),y}(t("./constants"));function d(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,d=function(){return h},h)}function p(h){return(p=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(h)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var m="defaultCanvas0",c=(u.default.prototype.createCanvas=function(h,v,f,y){var g,b,x;if(u.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(f=i.P2D,y=arguments[2]):g=f||i.P2D,y)(x=document.getElementById(m))&&x.parentNode.removeChild(x),x=y,this._defaultGraphicsCreated=!1;else{if(g===i.WEBGL)(x=document.getElementById(m))&&(x.parentNode.removeChild(x),b=this._renderer,this._elements=this._elements.filter(function(j){return j!==b})),(x=document.createElement("canvas")).id=m,x.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)x=this.canvas;else{x=y||document.createElement("canvas");for(var _=0;document.getElementById("defaultCanvas".concat(_));)_++;m="defaultCanvas".concat(_),x.id=m,x.classList.add("p5Canvas")}this._setupDone||(x.dataset.hidden=!0,x.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(f=document.createElement("main"),document.body.appendChild(f)),document.getElementsByTagName("main")[0])).appendChild(x)}return g===i.WEBGL?(this._setProperty("_renderer",new u.default.RendererGL(x,this,!0)),this._elements.push(this._renderer),h=(y=this._renderer._adjustDimensions(h,v)).adjustedWidth,v=y.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new u.default.Renderer2D(x,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(h,v),this._renderer._applyDefaults(),this._renderer},u.default.prototype.resizeCanvas=function(h,v,f){if(u.default._validateParameters("resizeCanvas",arguments),this._renderer){var y,g,b,x={};for(y in this.drawingContext){var _=this.drawingContext[y];p(_)!=="object"&&typeof _!="function"&&(x[y]=_)}for(b in this._renderer instanceof u.default.RendererGL&&(h=(g=this._renderer._adjustDimensions(h,v)).adjustedWidth,v=g.adjustedHeight),this.width=h,this.height=v,this._renderer.resize(h,v),x)try{this.drawingContext[b]=x[b]}catch{}f||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},u.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},u.default.prototype.createGraphics=function(h,v){for(var f=arguments.length,y=new Array(2<f?f-2:0),g=2;g<f;g++)y[g-2]=arguments[g];return y[0]instanceof HTMLCanvasElement&&(y[1]=y[0],y[0]=i.P2D),u.default._validateParameters("createGraphics",arguments),new u.default.Graphics(h,v,y[0],this,y[1])},u.default.prototype.createFramebuffer=function(h){return new u.default.Framebuffer(this,h)},u.default.prototype.clearDepth=function(h){this._assert3d("clearDepth"),this._renderer.clearDepth(h)},u.default.prototype.blendMode=function(h){u.default._validateParameters("blendMode",arguments),h===i.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),h=i.BLEND),this._renderer.blendMode(h)},u.default);l.default=c},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,a,l){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function u(v){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(f){return o(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":o(f)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=c(t("../main")),d=function(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var f=m();if(f&&f.has(v))return f.get(v);var y,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in v){var x;Object.prototype.hasOwnProperty.call(v,y)&&((x=b?Object.getOwnPropertyDescriptor(v,y):null)&&(x.get||x.set)?Object.defineProperty(g,y,x):g[y]=v[y])}return g.default=v,f&&f.set(v,g),g}(t("../constants")),p=c(t("../helpers"));function m(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,m=function(){return v},v)}function c(v){return v&&v.__esModule?v:{default:v}}function h(v){return function(f){if(Array.isArray(f)){for(var y=0,g=new Array(f.length);y<f.length;y++)g[y]=f[y];return g}}(v)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),i.default.prototype._normalizeArcAngles=function(v,f,y,g,b){var x;return v-=d.TWO_PI*Math.floor(v/d.TWO_PI),f-=d.TWO_PI*Math.floor(f/d.TWO_PI),x=Math.min(Math.abs(v-f),d.TWO_PI-Math.abs(v-f)),b&&(v=v<=d.HALF_PI?Math.atan(y/g*Math.tan(v)):v>d.HALF_PI&&v<=3*d.HALF_PI?Math.atan(y/g*Math.tan(v))+d.PI:Math.atan(y/g*Math.tan(v))+d.TWO_PI,f=f<=d.HALF_PI?Math.atan(y/g*Math.tan(f)):f>d.HALF_PI&&f<=3*d.HALF_PI?Math.atan(y/g*Math.tan(f))+d.PI:Math.atan(y/g*Math.tan(f))+d.TWO_PI),f<v&&(f+=d.TWO_PI),{start:v,stop:f,correspondToSamePoint:x<1e-5}},i.default.prototype.arc=function(v,f,y,g,b,x,_,j){return i.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&b!==x&&(b=this._toRadians(b),x=this._toRadians(x),v=p.default.modeAdjust(v,f,y,g,this._renderer._ellipseMode),(f=this._normalizeArcAngles(b,x,v.w,v.h,!0)).correspondToSamePoint?this._renderer.ellipse([v.x,v.y,v.w,v.h,j]):(this._renderer.arc(v.x,v.y,v.w,v.h,f.start,f.stop,_,j),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[v.x,v.y,v.w,v.h,f.start,f.stop,_]))),this},i.default.prototype.ellipse=function(v,f,y,g,b){return i.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},i.default.prototype.circle=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];i.default._validateParameters("circle",f);var g=f.slice(0,2);return g.push(f[2],f[2]),this._renderEllipse.apply(this,h(g))},i.default.prototype._renderEllipse=function(v,f,y,g,b){return(this._renderer._doStroke||this._renderer._doFill)&&(v=p.default.modeAdjust(v,f,y,g=g===void 0?y:g,this._renderer._ellipseMode),this._renderer.ellipse([v.x,v.y,v.w,v.h,b]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[v.x,v.y,v.w,v.h])),this},i.default.prototype.line=function(){for(var v,f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];return i.default._validateParameters("line",y),this._renderer._doStroke&&(v=this._renderer).line.apply(v,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",y),this},i.default.prototype.point=function(){for(var v,f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];return i.default._validateParameters("point",y),this._renderer._doStroke&&(y.length===1&&y[0]instanceof i.default.Vector?this._renderer.point.call(this._renderer,y[0].x,y[0].y,y[0].z):((v=this._renderer).point.apply(v,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",y))),this},i.default.prototype.quad=function(){for(var v,f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];return i.default._validateParameters("quad",y),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&y.length<12?this._renderer.quad.call(this._renderer,y[0],y[1],0,y[2],y[3],0,y[4],y[5],0,y[6],y[7],0,y[8],y[9]):((v=this._renderer).quad.apply(v,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",y))),this},i.default.prototype.rect=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];return i.default._validateParameters("rect",f),this._renderRect.apply(this,f)},i.default.prototype.square=function(v,f,y,g,b,x,_){return i.default._validateParameters("square",arguments),this._renderRect.call(this,v,f,y,y,g,b,x,_)},i.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var v=p.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),f=(this._renderer._rectMode===d.CORNER&&(v.w=arguments[2],v.h=arguments[3]),[v.x,v.y,v.w,v.h]),y=4;y<arguments.length;y++)f[y]=arguments[y];this._renderer.rect(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[v.x,v.y,v.w,v.h])}return this},i.default.prototype.triangle=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];return i.default._validateParameters("triangle",f),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",f),this},t=i.default,l.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,a,l){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function u(c){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../main"))&&m.__esModule?m:{default:m},d=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var v,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in c){var g;Object.prototype.hasOwnProperty.call(c,v)&&((g=y?Object.getOwnPropertyDescriptor(c,v):null)&&(g.get||g.set)?Object.defineProperty(f,v,g):f[v]=c[v])}return f.default=c,h&&h.set(c,f),f}(t("../constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}i.default.prototype.ellipseMode=function(c){return i.default._validateParameters("ellipseMode",arguments),c!==d.CORNER&&c!==d.CORNERS&&c!==d.RADIUS&&c!==d.CENTER||(this._renderer._ellipseMode=c),this},i.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},i.default.prototype.rectMode=function(c){return i.default._validateParameters("rectMode",arguments),c!==d.CORNER&&c!==d.CORNERS&&c!==d.RADIUS&&c!==d.CENTER||(this._renderer._rectMode=c),this},i.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},i.default.prototype.strokeCap=function(c){return i.default._validateParameters("strokeCap",arguments),c!==d.ROUND&&c!==d.SQUARE&&c!==d.PROJECT||this._renderer.strokeCap(c),this},i.default.prototype.strokeJoin=function(c){return i.default._validateParameters("strokeJoin",arguments),c!==d.ROUND&&c!==d.BEVEL&&c!==d.MITER||this._renderer.strokeJoin(c),this},i.default.prototype.strokeWeight=function(c){return i.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var m=i.default;l.default=m},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(u=t("../main"))&&u.__esModule?u:{default:u};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),o.default.prototype.bezier=function(){for(var i,d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return o.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(i=this._renderer).bezier.apply(i,p),this},o.default.prototype.bezierDetail=function(i){return o.default._validateParameters("bezierDetail",arguments),this._bezierDetail=i,this},o.default.prototype.bezierPoint=function(i,d,p,m,c){o.default._validateParameters("bezierPoint",arguments);var h=1-c;return Math.pow(h,3)*i+3*Math.pow(h,2)*c*d+3*h*Math.pow(c,2)*p+Math.pow(c,3)*m},o.default.prototype.bezierTangent=function(i,d,p,m,c){o.default._validateParameters("bezierTangent",arguments);var h=1-c;return 3*m*Math.pow(c,2)-3*p*Math.pow(c,2)+6*p*h*c-6*d*h*c+3*d*Math.pow(h,2)-3*i*Math.pow(h,2)},o.default.prototype.curve=function(){for(var i,d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return o.default._validateParameters("curve",p),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,p),this},o.default.prototype.curveDetail=function(i){return o.default._validateParameters("curveDetail",arguments),this._curveDetail=i<3?3:i,this},o.default.prototype.curveTightness=function(i){return o.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=i,this},o.default.prototype.curvePoint=function(i,d,p,m,c){o.default._validateParameters("curvePoint",arguments);var h=this._renderer._curveTightness,v=c*c*c,f=c*c;return i*((h-1)/2*v+(1-h)*f+(h-1)/2*c)+d*((h+3)/2*v+(-5-h)/2*f+1)+p*((-3-h)/2*v+(h+2)*f+(1-h)/2*c)+m*((1-h)/2*v+(h-1)/2*f)},o.default.prototype.curveTangent=function(i,d,p,m,f){o.default._validateParameters("curveTangent",arguments);var h=this._renderer._curveTightness,v=f*f*3,f=2*f;return i*((h-1)/2*v+(1-h)*f+(h-1)/2)+d*((h+3)/2*v+(-5-h)/2*f)+p*((-3-h)/2*v+(h+2)*f+(1-h)/2)+m*((1-h)/2*v+(h-1)/2*f)};var u=o.default;l.default=u},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,a,l){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(_)}function u(_){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(j){return o(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":o(j)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(x=t("../main"))&&x.__esModule?x:{default:x},d=function(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var j=p();if(j&&j.has(_))return j.get(_);var S,D={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var T;Object.prototype.hasOwnProperty.call(_,S)&&((T=E?Object.getOwnPropertyDescriptor(_,S):null)&&(T.get||T.set)?Object.defineProperty(D,S,T):D[S]=_[S])}return D.default=_,j&&j.set(_,D),D}(t("../constants"));function p(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,p=function(){return _},_)}var m=null,c=[],h=[],v=!1,f=!1,y=!1,g=!1,b=!0,x=(i.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(h=[],g=!0),this},i.default.prototype.beginShape=function(_){var j;return i.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(j=this._renderer).beginShape.apply(j,arguments):(m=_===d.POINTS||_===d.LINES||_===d.TRIANGLES||_===d.TRIANGLE_FAN||_===d.TRIANGLE_STRIP||_===d.QUADS||_===d.QUAD_STRIP?_:null,c=[],h=[]),this},i.default.prototype.bezierVertex=function(){for(var _,j=arguments.length,S=new Array(j),D=0;D<j;D++)S[D]=arguments[D];if(i.default._validateParameters("bezierVertex",S),this._renderer.isP3D)(_=this._renderer).bezierVertex.apply(_,S);else if(c.length===0)i.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{v=!0;for(var E=[],T=0;T<S.length;T++)E[T]=S[T];E.isVert=!1,(g?h:c).push(E)}return this},i.default.prototype.curveVertex=function(){for(var _,j=arguments.length,S=new Array(j),D=0;D<j;D++)S[D]=arguments[D];return i.default._validateParameters("curveVertex",S),this._renderer.isP3D?(_=this._renderer).curveVertex.apply(_,S):(f=!0,this.vertex(S[0],S[1])),this},i.default.prototype.endContour=function(){if(!this._renderer.isP3D){var _=h[0].slice();_.isVert=h[0].isVert,_.moveTo=!1,h.push(_),b&&(c.push(c[0]),b=!1);for(var j=0;j<h.length;j++)c.push(h[j])}return this},i.default.prototype.endShape=function(_){var j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(i.default._validateParameters("endShape",arguments),j<1&&(console.log(" p5.js says: You can not have less than one instance"),j=1),this._renderer.isP3D)this._renderer.endShape(_,f,v,y,g,m,j);else{if(j!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),c.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;j=_===d.CLOSE,j&&!g&&c.push(c[0]),this._renderer.endShape(_,c,f,v,y,g,m),b=!(g=y=v=f=!1),j&&c.pop()}return this},i.default.prototype.quadraticVertex=function(){for(var _,j=arguments.length,S=new Array(j),D=0;D<j;D++)S[D]=arguments[D];if(i.default._validateParameters("quadraticVertex",S),this._renderer.isP3D)(_=this._renderer).quadraticVertex.apply(_,S);else{if(this._contourInited)return(_={}).x=S[0],_.y=S[1],_.x3=S[2],_.y3=S[3],_.type=d.QUADRATIC,this._contourVertices.push(_),this;if(0<c.length){y=!0;for(var E=[],T=0;T<S.length;T++)E[T]=S[T];E.isVert=!1,(g?h:c).push(E)}else i.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},i.default.prototype.vertex=function(_,j,S,D,E){var T;return this._renderer.isP3D?(T=this._renderer).vertex.apply(T,arguments):((T=[]).isVert=!0,T[0]=_,T[1]=j,T[2]=0,T[3]=0,T[4]=0,T[5]=this._renderer._getFill(),T[6]=this._renderer._getStroke(),S&&(T.moveTo=S),(g?(h.length===0&&(T.moveTo=!0),h):c).push(T)),this},i.default.prototype.normal=function(_,j,S){var D;return this._assert3d("normal"),i.default._validateParameters("normal",arguments),(D=this._renderer).normal.apply(D,arguments),this},i.default);l.default=x},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,a,l){},{}],295:[function(t,a,l){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var o=this._styles.pop();o?(this._renderer.pop(o.renderer),Object.assign(this,o.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(o){if(!this._inUserDraw&&this._setupDone){var u=parseInt(o),i=((isNaN(u)||u<1)&&(u=1),this._isGlobal?window:this);if(typeof i.draw=="function"){i.setup===void 0&&i.scale(i._pixelDensity,i._pixelDensity);for(var d=0;d<u;d++){i.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),i._renderer.isP3D&&i._renderer._update(),i._setProperty("frameCount",i.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{i.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,l.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function u(i){return function(d){if(Array.isArray(d)){for(var p=0,m=new Array(d.length);p<d.length;p++)m[p]=d[p];return m}}(i)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.applyMatrix=function(){var i=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||i?(i=this._renderer).applyMatrix.apply(i,u(arguments.length<=0?void 0:arguments[0])):(i=this._renderer).applyMatrix.apply(i,arguments),this},o.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.default.prototype.rotate=function(i,d){return o.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(i),d),this},o.default.prototype.rotateX=function(i){return this._assert3d("rotateX"),o.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(i)),this},o.default.prototype.rotateY=function(i){return this._assert3d("rotateY"),o.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(i)),this},o.default.prototype.rotateZ=function(i){return this._assert3d("rotateZ"),o.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(i)),this},o.default.prototype.scale=function(i,d,p){var m;return o.default._validateParameters("scale",arguments),i instanceof o.default.Vector?(i=(m=i).x,d=m.y,p=m.z):Array.isArray(i)&&(i=(m=i)[0],d=m[1],p=m[2]||1),isNaN(d)?d=p=i:isNaN(p)&&(p=1),this._renderer.scale(i,d,p),this},o.default.prototype.shearX=function(i){return o.default._validateParameters("shearX",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,0,Math.tan(i),1,0,0),this},o.default.prototype.shearY=function(i){return o.default._validateParameters("shearY",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,Math.tan(i),0,1,0,0),this},o.default.prototype.translate=function(i,d,p){return o.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(i,d,p):this._renderer.translate(i,d),this},t=o.default,l.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,a,l){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(p){return function(m){if(Array.isArray(m)){for(var c=0,h=new Array(m.length);c<m.length;c++)h[c]=m[c];return h}}(p)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(p){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}u.default.prototype.storeItem=function(p,m){typeof p!="string"&&console.log("The argument that you passed to storeItem() - ".concat(p," is not a string.")),p.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(p," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=d(m);switch(c){case"number":case"boolean":m=m.toString();break;case"object":m instanceof u.default.Color?c="p5.Color":m instanceof u.default.Vector&&(c="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(p,m),p="".concat(p,"p5TypeID"),localStorage.setItem(p,c)},u.default.prototype.getItem=function(p){var m=localStorage.getItem(p),c=localStorage.getItem("".concat(p,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(p,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(c){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,i(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,i(m))}return m},u.default.prototype.clearStorage=function(){var p=this;Object.keys(localStorage).forEach(function(m){m.endsWith("p5TypeID")&&p.removeItem(m.replace("p5TypeID",""))})},u.default.prototype.removeItem=function(p){typeof p!="string"&&console.log("The argument that you passed to removeItem() - ".concat(p," is not a string.")),localStorage.removeItem(p),localStorage.removeItem("".concat(p,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,a,l){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function u(y){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),g&&p(y,g)}function p(y,g){return(p=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(y,g)}function m(y){return function(){var g,b=c(y),b=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=c(this).constructor,Reflect.construct(b,arguments,g)):b.apply(this,arguments),this);if(!g||u(g)!=="object"&&typeof g!="function"){if(b!==void 0)return b;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function c(y){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(y)}function h(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function v(y,g){for(var b=0;b<g.length;b++){var x=g[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}function f(y,g,b){g&&v(y.prototype,g)}i.default.prototype.createStringDict=function(y,g){return i.default._validateParameters("createStringDict",arguments),new i.default.StringDict(y,g)},i.default.prototype.createNumberDict=function(y,g){return i.default._validateParameters("createNumberDict",arguments),new i.default.NumberDict(y,g)},i.default.TypedDict=function(){function y(g,b){return h(this,y),g instanceof Object?this.data=g:(this.data={},this.data[g]=b),this}return f(y,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,b){this._validate(b)?this.data[g]=b:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(g){for(var b in g)this.set(b,g[b])}},{key:"create",value:function(g,b){g instanceof Object&&b===void 0?this._addObj(g):g!==void 0?this.set(g,b):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw new Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g," value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var b,x="";for(b in this.data)x+="".concat(b,",").concat(this.data[b],`
`);var _=new Blob([x],{type:"text/csv"});i.default.prototype.downloadFile(_,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,b){i.default.prototype.saveJSON(this.data,g,b)}},{key:"_validate",value:function(g){return!0}}]),y}(),i.default.StringDict=function(){d(g,i.default.TypedDict);var y=m(g);function g(){h(this,g);for(var b=arguments.length,x=new Array(b),_=0;_<b;_++)x[_]=arguments[_];return y.call.apply(y,[this].concat(x))}return f(g,[{key:"_validate",value:function(b){return typeof b=="string"}}]),g}(),i.default.NumberDict=function(){d(g,i.default.TypedDict);var y=m(g);function g(){h(this,g);for(var b=arguments.length,x=new Array(b),_=0;_<b;_++)x[_]=arguments[_];return y.call.apply(y,[this].concat(x))}return f(g,[{key:"_validate",value:function(b){return typeof b=="number"}},{key:"add",value:function(b,x){this.data.hasOwnProperty(b)?this.data[b]+=x:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"sub",value:function(b,x){this.add(b,-x)}},{key:"mult",value:function(b,x){this.data.hasOwnProperty(b)?this.data[b]*=x:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"div",value:function(b,x){this.data.hasOwnProperty(b)?this.data[b]/=x:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"_valueTest",value:function(b){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var x,_=this.data[Object.keys(this.data)[0]];for(x in this.data)this.data[x]*b<_*b&&(_=this.data[x]);return _}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(b){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var x=Object.keys(this.data)[0],_=1;_<Object.keys(this.data).length;_++)Object.keys(this.data)[_]*b<x*b&&(x=Object.keys(this.data)[_]);return x}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),g}(),t=i.default.TypedDict,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,a,l){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(_,j){for(var S=0;S<j.length;S++){var D=j[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}function d(_,j,S){j&&i(_.prototype,j),S&&i(_,S)}function p(_,j){return(p=Object.setPrototypeOf||function(S,D){return S.__proto__=D,S})(_,j)}function m(_){return function(){var j,S,D=h(_);return j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=h(this).constructor,Reflect.construct(D,arguments,j)):D.apply(this,arguments),D=this,!(S=j)||f(S)!=="object"&&typeof S!="function"?c(D):S}}function c(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(_)}function v(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")}function f(_){return(f=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(j){return o(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":o(j)})(_)}function y(_,j,S){return(j._userNode||document.body).appendChild(_),S=new(S?u.default.MediaElement:u.default.Element)(_,j),j._elements.push(S),S}u.default.prototype.select=function(_,j){return u.default._validateParameters("select",arguments),j=this._getContainer(j).querySelector(_),j?this._wrapElement(j):null},u.default.prototype.selectAll=function(_,j){u.default._validateParameters("selectAll",arguments);var S=[],D=this._getContainer(j).querySelectorAll(_);if(D)for(var E=0;E<D.length;E++){var T=this._wrapElement(D[E]);S.push(T)}return S},u.default.prototype._getContainer=function(_){var j=document;return typeof _=="string"?j=document.querySelector(_)||document:_ instanceof u.default.Element?j=_.elt:_ instanceof HTMLElement&&(j=_),j},u.default.prototype._wrapElement=function(_){var j,S=Array.prototype.slice.call(_.children);return _.tagName==="INPUT"&&_.type==="checkbox"?((j=new u.default.Element(_,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},j):_.tagName==="VIDEO"||_.tagName==="AUDIO"?new u.default.MediaElement(_,this):_.tagName==="SELECT"?this.createSelect(new u.default.Element(_,this)):0<S.length&&S.every(function(D){return D.tagName==="INPUT"||D.tagName==="LABEL"})&&(_.tagName==="DIV"||_.tagName==="SPAN")?this.createRadio(new u.default.Element(_,this)):new u.default.Element(_,this)},u.default.prototype.removeElements=function(_){u.default._validateParameters("removeElements",arguments),this._elements.filter(function(j){return!(j.elt instanceof HTMLCanvasElement)}).map(function(j){return j.remove()})},u.default.Element.prototype.changed=function(_){return u.default.Element._adjustListener("change",_,this),this},u.default.Element.prototype.input=function(_){return u.default.Element._adjustListener("input",_,this),this},u.default.prototype.createDiv=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=document.createElement("div");return j.innerHTML=_,y(j,this)},u.default.prototype.createP=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=document.createElement("p");return j.innerHTML=_,y(j,this)},u.default.prototype.createSpan=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=document.createElement("span");return j.innerHTML=_,y(j,this)},u.default.prototype.createImg=function(){u.default._validateParameters("createImg",arguments);var _,j=document.createElement("img"),S=arguments;return 1<S.length&&typeof S[1]=="string"&&(j.alt=S[1]),2<S.length&&typeof S[2]=="string"&&(j.crossOrigin=S[2]),j.src=S[0],_=y(j,this),j.addEventListener("load",function(){_.width=j.offsetWidth||j.width,_.height=j.offsetHeight||j.height;var D=S[S.length-1];typeof D=="function"&&D(_)}),_},u.default.prototype.createA=function(_,j,S){u.default._validateParameters("createA",arguments);var D=document.createElement("a");return D.href=_,D.innerHTML=j,S&&(D.target=S),y(D,this)},u.default.prototype.createSlider=function(_,j,S,D){u.default._validateParameters("createSlider",arguments);var E=document.createElement("input");return E.type="range",E.min=_,E.max=j,D===0?E.step=1e-18:D&&(E.step=D),typeof S=="number"&&(E.value=S),y(E,this)},u.default.prototype.createButton=function(_,j){u.default._validateParameters("createButton",arguments);var S=document.createElement("button");return S.innerHTML=_,j&&(S.value=j),y(S,this)},u.default.prototype.createCheckbox=function(){for(var _=arguments.length,j=new Array(_),S=0;S<_;S++)j[S]=arguments[S];u.default._validateParameters("createCheckbox",j);var D=document.createElement("div"),E=document.createElement("input"),T=(E.type="checkbox",document.createElement("label")),F=(T.appendChild(E),D.appendChild(T),y(D,this));return F.checked=function(){var A=F.elt.firstElementChild.getElementsByTagName("input")[0];if(A){if(arguments.length===0)return A.checked;A.checked=!(arguments.length<=0||!arguments[0])}return F},this.value=function(A){return F.value=A,this},j[0]&&(F.value(j[0]),(D=document.createElement("span")).innerHTML=j[0],T.appendChild(D)),j[1]&&(E.checked=!0),F},u.default.prototype.createSelect=function(){for(var _,j=arguments.length,S=new Array(j),D=0;D<j;D++)S[D]=arguments[D];u.default._validateParameters("createSelect",S);var E,T=S[0];return T instanceof u.default.Element&&T.elt instanceof HTMLSelectElement?this.elt=(_=T).elt:T instanceof HTMLSelectElement?(_=y(T,this),this.elt=T):(E=document.createElement("select"),T&&typeof T=="boolean"&&E.setAttribute("multiple","true"),_=y(E,this),this.elt=E),_.option=function(F,A){var L;if(F!==void 0){for(var O,B=0;B<this.elt.length;B+=1)if(this.elt[B].textContent===F){L=B;break}L!==void 0?A===!1?this.elt.remove(L):this.elt[L].value=A:((O=document.createElement("option")).textContent=F,O.value=A===void 0?F:A,this.elt.appendChild(O),this._pInst._elements.push(O))}},_.selected=function(F){if(F!==void 0){for(var A=0;A<this.elt.length;A+=1)this.elt[A].value.toString()===F.toString()&&(this.elt.selectedIndex=A);return this}if(this.elt.getAttribute("multiple")){var L=[],O=!0,B=!1,I=void 0;try{for(var N,H=this.elt.selectedOptions[Symbol.iterator]();!(O=(N=H.next()).done);O=!0){var V=N.value;L.push(V.value)}}catch(G){B=!0,I=G}finally{try{O||H.return==null||H.return()}finally{if(B)throw I}}return L}return this.elt.value},_.disable=function(F){if(typeof F=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===F&&(this.elt[A].disabled=!0,this.elt[A].selected=!1);else this.elt.disabled=!0;return this},_.enable=function(F){if(typeof F=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===F&&(this.elt[A].disabled=!1,this.elt[A].selected=!1);else{this.elt.disabled=!1;for(var L=0;L<this.elt.length;L++)this.elt[L].disabled=!1,this.elt[L].selected=!1}return this},_};var g=0;function b(_,F,S,D){var E=document.createElement(F),T=(typeof(S=S||"")=="string"&&(S=[S]),!0),F=!1,A=void 0;try{for(var L,O=S[Symbol.iterator]();!(T=(L=O.next()).done);T=!0){var B=L.value,I=document.createElement("source");I.setAttribute("src",B),E.appendChild(I)}}catch(H){F=!0,A=H}finally{try{T||O.return==null||O.return()}finally{if(F)throw A}}typeof D=="function"&&E.addEventListener("canplaythrough",function H(){D(),E.removeEventListener("canplaythrough",H)});var N=y(E,_,!0);return N.loadedmetadata=!1,E.addEventListener("loadedmetadata",function(){N.width=E.videoWidth,N.height=E.videoHeight,N.elt.width===0&&(N.elt.width=E.videoWidth),N.elt.height===0&&(N.elt.height=E.videoHeight),N.presetPlaybackRate&&(N.elt.playbackRate=N.presetPlaybackRate,delete N.presetPlaybackRate),N.loadedmetadata=!0}),N}u.default.prototype.createRadio=function(){function _(F){return F instanceof HTMLInputElement&&F.type==="radio"}function j(F){return F instanceof HTMLLabelElement}var S,D,E,T=arguments.length<=0?void 0:arguments[0];return T instanceof u.default.Element&&(T.elt instanceof HTMLDivElement||T.elt instanceof HTMLSpanElement)?(S=T,this.elt=T.elt):T instanceof HTMLDivElement||T instanceof HTMLSpanElement?(S=y(T,this),D=this.elt=T,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(E=arguments.length<=1?void 0:arguments[1])):(typeof T=="string"&&(E=T),D=document.createElement("div"),S=y(D,this),this.elt=D),S._name=E||"radioOption_".concat(g++),S._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(F){return _(F)||j(F)&&_(F.firstElementChild)}).map(function(F){return _(F)?F:F.firstElementChild})},S.option=function(F,A){var L,O,B,I=!0,N=!1,H=void 0;try{for(var V,G=S._getOptionsArray()[Symbol.iterator]();!(I=(V=G.next()).done);I=!0){var Y=V.value;if(Y.value===F){L=Y;break}}}catch(K){N=!0,H=K}finally{try{I||G.return==null||G.return()}finally{if(N)throw H}}return L===void 0&&((L=document.createElement("input")).setAttribute("type","radio"),L.setAttribute("value",F)),L.setAttribute("name",S._name),j(L.parentElement)?O=L.parentElement:(O=document.createElement("label")).insertAdjacentElement("afterbegin",L),O.lastElementChild instanceof HTMLSpanElement?B=O.lastElementChild:(B=document.createElement("span"),L.insertAdjacentElement("afterend",B)),B.innerHTML=A===void 0?F:A,this.elt.appendChild(O),L},S.remove=function(F){var A=!0,L=!1,O=void 0;try{for(var B,I=S._getOptionsArray()[Symbol.iterator]();!(A=(B=I.next()).done);A=!0){var N=B.value;if(N.value===F)return void(j(N.parentElement)?N.parentElement:N).remove()}}catch(H){L=!0,O=H}finally{try{A||I.return==null||I.return()}finally{if(L)throw O}}},S.value=function(){var F="",A=!0,L=!1,O=void 0;try{for(var B,I=S._getOptionsArray()[Symbol.iterator]();!(A=(B=I.next()).done);A=!0){var N=B.value;if(N.checked){F=N.value;break}}}catch(H){L=!0,O=H}finally{try{A||I.return==null||I.return()}finally{if(L)throw O}}return F},S.selected=function(F){var A=null;if(F===void 0){var L=!0,O=!1,B=void 0;try{for(var I,N=S._getOptionsArray()[Symbol.iterator]();!(L=(I=N.next()).done);L=!0){var H=I.value;if(H.checked){A=H;break}}}catch(se){O=!0,B=se}finally{try{L||N.return==null||N.return()}finally{if(O)throw B}}}else{S._getOptionsArray().forEach(function(R){R.checked=!1,R.removeAttribute("checked")});var V=!0,O=!1,B=void 0;try{for(var G,Y=S._getOptionsArray()[Symbol.iterator]();!(V=(G=Y.next()).done);V=!0){var K=G.value;K.value===F&&(K.setAttribute("checked",!0),K.checked=!0,A=K)}}catch(R){O=!0,B=R}finally{try{V||Y.return==null||Y.return()}finally{if(O)throw B}}}return A},S.disable=function(){var F=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],A=!0,L=!1,O=void 0;try{for(var B,I=S._getOptionsArray()[Symbol.iterator]();!(A=(B=I.next()).done);A=!0)B.value.setAttribute("disabled",F)}catch(N){L=!0,O=N}finally{try{A||I.return==null||I.return()}finally{if(L)throw O}}},S},u.default.prototype.createColorPicker=function(_){u.default._validateParameters("createColorPicker",arguments);var j=document.createElement("input");return j.type="color",_?_ instanceof u.default.Color?j.value=_.toString("#rrggbb"):(u.default.prototype._colorMode="rgb",u.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},j.value=u.default.prototype.color(_).toString("#rrggbb")):j.value="#000000",(j=y(j,this)).color=function(){return _&&(_.mode&&(u.default.prototype._colorMode=_.mode),_.maxes&&(u.default.prototype._colorMaxes=_.maxes)),u.default.prototype.color(this.elt.value)},j},u.default.prototype.createInput=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",S=(u.default._validateParameters("createInput",arguments),document.createElement("input"));return S.setAttribute("value",_),S.setAttribute("type",j),y(S,this)},u.default.prototype.createFileInput=function(_){var j,S=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(u.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(j=document.createElement("input")).setAttribute("type","file"),S&&j.setAttribute("multiple",!0),j.addEventListener("change",function(D){var E=!0,T=!1,F=void 0;try{for(var A,L=D.target.files[Symbol.iterator]();!(E=(A=L.next()).done);E=!0){var O=A.value;u.default.File._load(O,_)}}catch(B){T=!0,F=B}finally{try{E||L.return==null||L.return()}finally{if(T)throw F}}},!1),y(j,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},u.default.prototype.createVideo=function(_,j){return u.default._validateParameters("createVideo",arguments),b(this,"video",_,j)},u.default.prototype.createAudio=function(_,j){return u.default._validateParameters("createAudio",arguments),b(this,"audio",_,j)},u.default.prototype.VIDEO="video",u.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(_){var j=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return j?new Promise(function(S,D){j.call(navigator,_,S,D)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),u.default.prototype.createCapture=function(){for(var _=arguments.length,j=new Array(_),S=0;S<_;S++)j[S]=arguments[S];if(u.default._validateParameters("createCapture",j),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var D,E=!0,T=!0,F=!1,A=0,L=j;A<L.length;A++){var O=L[A];O===u.default.prototype.VIDEO?T=!1:O===u.default.prototype.AUDIO?E=!1:f(O)==="object"?(O.flipped!==void 0&&(F=O.flipped,delete O.flipped),B=Object.assign({},B,O)):typeof O=="function"&&(D=O)}var B=Object.assign({},{video:E,audio:T},B),I=document.createElement("video"),N=(I.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(B).then(function(H){try{"srcObject"in I?I.srcObject=H:I.src=window.URL.createObjectURL(H)}catch{I.src=H}}).catch(function(H){H.name==="NotFoundError"&&u.default._friendlyError("No webcam found on this device","createCapture"),H.name==="NotAllowedError"&&u.default._friendlyError("Access to the camera was denied","createCapture"),console.error(H)}),y(I,this,!0));return N.loadedmetadata=!1,I.addEventListener("loadedmetadata",function(){I.play(),I.width?(N.width=I.width,N.height=I.height,F&&(N.elt.style.transform="scaleX(-1)")):(N.width=N.elt.width=I.videoWidth,N.height=N.elt.height=I.videoHeight),N.loadedmetadata=!0,D&&D(I.srcObject)}),N.flipped=F,N},u.default.prototype.createElement=function(_,j){return u.default._validateParameters("createElement",arguments),_=document.createElement(_),j!==void 0&&(_.innerHTML=j),y(_,this)},u.default.Element.prototype.addClass=function(_){return this.elt.className?this.hasClass(_)||(this.elt.className=this.elt.className+" "+_):this.elt.className=_,this},u.default.Element.prototype.removeClass=function(_){return this.elt.classList.remove(_),this},u.default.Element.prototype.hasClass=function(_){return this.elt.classList.contains(_)},u.default.Element.prototype.toggleClass=function(_){return this.elt.classList.contains(_)?this.elt.classList.remove(_):this.elt.classList.add(_),this},u.default.Element.prototype.child=function(_){return _===void 0?this.elt.childNodes:(typeof _=="string"?(_[0]==="#"&&(_=_.substring(1)),_=document.getElementById(_)):_ instanceof u.default.Element&&(_=_.elt),_ instanceof HTMLElement&&this.elt.appendChild(_),this)},u.default.Element.prototype.center=function(_){var j=this.elt.style.display,S=this.elt.style.display==="none",D=this.parent().style.display==="none",E={x:this.elt.offsetLeft,y:this.elt.offsetTop},T=(S&&this.show(),D&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),F=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return _==="both"||_===void 0?this.position(T/2+this.parent().offsetLeft,F/2+this.parent().offsetTop):_==="horizontal"?this.position(T/2+this.parent().offsetLeft,E.y):_==="vertical"&&this.position(E.x,F/2+this.parent().offsetTop),this.style("display",j),S&&this.hide(),D&&this.parent().hide(),this},u.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},u.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},u.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=_,this},u.default.Element.prototype._rotate=function(){var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=_,this},u.default.Element.prototype.style=function(_,j){if((j=j instanceof u.default.Color?"rgba("+j.levels[0]+","+j.levels[1]+","+j.levels[2]+","+j.levels[3]/255+")":j)===void 0){if(_.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(_);for(var S=_.split(";"),D=0;D<S.length;D++){var E=S[D].split(":");E[0]&&E[1]&&(this.elt.style[E[0].trim()]=E[1].trim())}}else this.elt.style[_]=j,_!=="width"&&_!=="height"&&_!=="left"&&_!=="top"||(j=window.getComputedStyle(this.elt).getPropertyValue(_).replace(/[^\d.]/g,""),this[_]=Math.round(parseFloat(j,10)));return this},u.default.Element.prototype.attribute=function(_,j){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return j===void 0?this.elt.getAttribute(_):(this.elt.setAttribute(_,j),this);if(j===void 0)return this.elt.firstChild.getAttribute(_);for(var S=0;S<this.elt.childNodes.length;S++)this.elt.childNodes[S].setAttribute(_,j)},u.default.Element.prototype.removeAttribute=function(_){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var j=0;j<this.elt.childNodes.length;j++)this.elt.childNodes[j].removeAttribute(_);return this.elt.removeAttribute(_),this},u.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},u.default.Element.prototype.show=function(){return this.elt.style.display="block",this},u.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},u.default.Element.prototype.size=function(_,j){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var S=_,D=j,E=u.default.prototype.AUTO;if(S!==E||D!==E){if(S===E?S=j*this.width/this.height:D===E&&(D=_*this.height/this.width),this.elt instanceof HTMLCanvasElement){var T,F={},A=this.elt.getContext("2d");for(T in A)F[T]=A[T];for(T in this.elt.setAttribute("width",S*this._pInst._pixelDensity),this.elt.setAttribute("height",D*this._pInst._pixelDensity),this.elt.style.width=S+"px",this.elt.style.height=D+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),F)this.elt.getContext("2d")[T]=F[T]}else this.elt.style.width=S+"px",this.elt.style.height=D+"px",this.elt.width=S,this.elt.height=D;this.width=S,this.height=D,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",S),this._pInst._setProperty("height",D))}return this},u.default.Element.prototype.remove=function(){this instanceof u.default.MediaElement&&(this.stop(),(j=this.elt.srcObject)!==null&&j.getTracks().forEach(function(S){S.stop()}));var _,j=this._pInst._elements.indexOf(this);for(_ in j!==-1&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(_,this._events[_]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},u.default.Element.prototype.drop=function(_,j){var S;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",S=function(D){D.preventDefault()}),this.elt.addEventListener("dragleave",S)),u.default.Element._attachListener("drop",function(E){E.preventDefault(),typeof j=="function"&&j.call(this,E);var E=E.dataTransfer.files,T=!0,F=!1,A=void 0;try{for(var L,O=E[Symbol.iterator]();!(T=(L=O.next()).done);T=!0){var B=L.value;u.default.File._load(B,_)}}catch(I){F=!0,A=I}finally{try{T||O.return==null||O.return()}finally{if(F)throw A}}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.default.Element.prototype.draggable=function(_){var j,S="ontouchstart"in window,D=0,E=0,T=0,F=0,A=S?"touchend":"mouseup",L=S?"touchmove":"mousemove";function O(I){var N;I=I||window.event,F=S?(N=I.changedTouches,D=T-parseInt(N[0].clientX),E=F-parseInt(N[0].clientY),T=parseInt(N[0].clientX),parseInt(N[0].clientY)):(D=T-parseInt(I.clientX),E=F-parseInt(I.clientY),T=parseInt(I.clientX),parseInt(I.clientY)),_.style.left=_.offsetLeft-D+"px",_.style.top=_.offsetTop-E+"px"}function B(){document.removeEventListener(A,B,!1),document.removeEventListener(L,O,!1)}return _===void 0?j=_=this.elt:_!==this.elt&&_.elt!==this.elt&&(_=_.elt,j=this.elt),j.addEventListener(S?"touchstart":"mousedown",function(I){{var N;I=I||window.event,F=S?(N=I.changedTouches,T=parseInt(N[0].clientX),parseInt(N[0].clientY)):(T=parseInt(I.clientX),parseInt(I.clientY))}return document.addEventListener(A,B,!1),document.addEventListener(L,O,!1),!1},!1),j.style.cursor="move",this};function x(_,j,S,D){v(this,x),this.callback=_,this.time=j,this.id=S,this.val=D}t=function(_){var j=D;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),_&&p(j,_);var S=m(D);function D(E,T){v(this,D);var F=c(T=S.call(this,E,T));return T.elt.crossOrigin="anonymous",T._prevTime=0,T._cueIDCounter=0,T._cues=[],T.pixels=[],T._pixelsState=c(T),T._pixelDensity=1,T._modified=!1,T._frameOnCanvas=-1,Object.defineProperty(F,"src",{get:function(){var A=F.elt.children[0].src,L=F.elt.src===window.location.href?"":F.elt.src;return A===window.location.href?L:A},set:function(A){for(var L=0;L<F.elt.children.length;L++)F.elt.removeChild(F.elt.children[L]);var O=document.createElement("source");O.src=A,E.appendChild(O),F.elt.src=A,F.modified=!0}}),F._onended=function(){},F.elt.onended=function(){F._onended(F)},T}return d(D,[{key:"play",value:function(){var E;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(E=this.elt.play())&&E.catch&&E.catch(function(T){T.name==="NotAllowedError"?console.error(T):console.error("Media play method encountered an unexpected error",T)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var E=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(E)},{passive:!0,once:!0})}},{key:"autoplay",value:function(E){var T=this,F=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",E),E&&!F&&(E=function(){return T._setupAutoplayFailDetection()},this.elt.readyState===4?E():this.elt.addEventListener("canplay",E,{passive:!0,once:!0})),this}},{key:"volume",value:function(E){if(E===void 0)return this.elt.volume;this.elt.volume=E}},{key:"speed",value:function(E){if(E===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=E:this.presetPlaybackRate=E}},{key:"time",value:function(E){return E===void 0?this.elt.currentTime:(this.elt.currentTime=E,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var E=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&E&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var E=arguments.length,T=new Array(E),F=0;F<E;F++)T[F]=arguments[F];return u.default.Renderer2D.prototype.loadPixels.apply(this,T)}},{key:"updatePixels",value:function(E,T,F,A){return this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.updatePixels.call(this,E,T,F,A)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var E=arguments.length,T=new Array(E),F=0;F<E;F++)T[F]=arguments[F];return u.default.Renderer2D.prototype.get.apply(this,T)}},{key:"_getPixel",value:function(){this.loadPixels();for(var E=arguments.length,T=new Array(E),F=0;F<E;F++)T[F]=arguments[F];return u.default.Renderer2D.prototype._getPixel.apply(this,T)}},{key:"set",value:function(E,T,F){this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.set.call(this,E,T,F),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var E=arguments.length,T=new Array(E),F=0;F<E;F++)T[F]=arguments[F];u.default.prototype.copy.apply(this,T)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var E=arguments.length,T=new Array(E),F=0;F<E;F++)T[F]=arguments[F];u.default.Image.prototype.mask.apply(this,T)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(E){this._modified=E}},{key:"onended",value:function(E){return this._onended=E,this}},{key:"connect",value:function(E){var T,F;if(typeof u.default.prototype.getAudioContext=="function")T=u.default.prototype.getAudioContext(),F=u.default.soundOut.input;else try{F=(T=E.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=T.createMediaElementSource(this.elt),this.audioSourceNode.connect(F)),E?E.input?this.audioSourceNode.connect(E.input):this.audioSourceNode.connect(E):this.audioSourceNode.connect(F)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(E,L,F){var A=this._cueIDCounter++,L=new x(L,E,A,F);return this._cues.push(L),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),A}},{key:"removeCue",value:function(E){for(var T=0;T<this._cues.length;T++)this._cues[T].id===E&&(console.log(E),this._cues.splice(T,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var E=this.time(),T=0;T<this._cues.length;T++){var F=this._cues[T].time,A=this._cues[T].val;this._prevTime<F&&F<=E&&this._cues[T].callback(A)}this._prevTime=E}}]),D}(u.default.Element),u.default.MediaElement=t,t=function(){function _(j,S){v(this,_),this.file=j,this._pInst=S,S=j.type.split("/"),this.type=S[0],this.subtype=S[1],this.name=j.name,this.size=j.size,this.data=void 0}return d(_,null,[{key:"_createLoader",value:function(j,S){var D=new FileReader;return D.onload=function(E){var T,F=new u.default.File(j);F.file.type==="application/json"?F.data=JSON.parse(E.target.result):F.file.type==="text/xml"?(T=new DOMParser().parseFromString(E.target.result,"text/xml"),F.data=new u.default.XML(T.documentElement)):F.data=E.target.result,S(F)},D}},{key:"_load",value:function(j,S){var D;/^text\//.test(j.type)||j.type==="application/json"?u.default.File._createLoader(j,S).readAsText(j):/^(video|audio)\//.test(j.type)?((D=new u.default.File(j)).data=URL.createObjectURL(j),S(D)):u.default.File._createLoader(j,S).readAsDataURL(j)}}]),_}(),u.default.File=t,t=u.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(f,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(f=f("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",o.default.prototype.accelerationX=0,o.default.prototype.accelerationY=0,o.default.prototype.accelerationZ=0,o.default.prototype.pAccelerationX=0,o.default.prototype.pAccelerationY=0,o.default.prototype.pAccelerationZ=0,o.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},o.default.prototype.rotationX=0,o.default.prototype.rotationY=0,o.default.prototype.rotationZ=0,o.default.prototype.pRotationX=0,o.default.prototype.pRotationY=0;var u=o.default.prototype.pRotationZ=0,i=0,d=0,p="clockwise",m="clockwise",c="clockwise",h=(o.default.prototype.pRotateDirectionX=void 0,o.default.prototype.pRotateDirectionY=void 0,o.default.prototype.pRotateDirectionZ=void 0,o.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},o.default.prototype.turnAxis=void 0,.5),v=30,f=(o.default.prototype.setMoveThreshold=function(y){o.default._validateParameters("setMoveThreshold",arguments),h=y},o.default.prototype.setShakeThreshold=function(y){o.default._validateParameters("setShakeThreshold",arguments),v=y},o.default.prototype._ondeviceorientation=function(y){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(y.beta)),this._setProperty("rotationY",this._fromDegrees(y.gamma)),this._setProperty("rotationZ",this._fromDegrees(y.alpha)),this._handleMotion()},o.default.prototype._ondevicemotion=function(y){this._updatePAccelerations(),this._setProperty("accelerationX",2*y.acceleration.x),this._setProperty("accelerationY",2*y.acceleration.y),this._setProperty("accelerationZ",2*y.acceleration.z),this._handleMotion()},o.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var y,g,b,x,_,j=this._isGlobal?window:this;typeof j.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&j.deviceMoved(),typeof j.deviceTurned=="function"&&(g=this._toDegrees(this.rotationX)+180,b=this._toDegrees(this.pRotationX)+180,y=u+180,0<g-b&&g-b<270||g-b<-270?p="clockwise":(g-b<0||270<g-b)&&(p="counter-clockwise"),p!==this.pRotateDirectionX&&(y=g),90<Math.abs(g-y)&&Math.abs(g-y)<270&&(y=g,this._setProperty("turnAxis","X"),j.deviceTurned()),this.pRotateDirectionX=p,u=y-180,b=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180,y=i+180,0<b-g&&b-g<270||b-g<-270?m="clockwise":(b-g<0||270<b-this.pRotationY)&&(m="counter-clockwise"),m!==this.pRotateDirectionY&&(y=b),90<Math.abs(b-y)&&Math.abs(b-y)<270&&(y=b,this._setProperty("turnAxis","Y"),j.deviceTurned()),this.pRotateDirectionY=m,i=y-180,0<(g=this._toDegrees(this.rotationZ))-(b=this._toDegrees(this.pRotationZ))&&g-b<270||g-b<-270?c="clockwise":(g-b<0||270<g-b)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(d=g),90<Math.abs(g-d)&&Math.abs(g-d)<270&&(d=g,this._setProperty("turnAxis","Z"),j.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)),typeof j.deviceShaken=="function"&&(this.pAccelerationX!==null&&(x=Math.abs(this.accelerationX-this.pAccelerationX),_=Math.abs(this.accelerationY-this.pAccelerationY)),v<x+_&&j.deviceShaken())},o.default);l.default=f},{"../core/main":283}],301:[function(t,a,l){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.isKeyPressed=!1,o.default.prototype.keyIsPressed=!1,o.default.prototype.key="",o.default.prototype.keyCode=0,o.default.prototype._onkeydown=function(u){var i;u.repeat||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),u.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(u.which)),typeof(i=this._isGlobal?window:this).keyPressed!="function"||u.charCode||i.keyPressed(u)===!1&&u.preventDefault())},o.default.prototype._onkeyup=function(u){var i=this,d=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[u.which]=!1,u.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(p){i._downKeys[p]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof d.keyReleased=="function"&&d.keyReleased(u)===!1&&u.preventDefault()},o.default.prototype._onkeypress=function(u){var i;u.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(i=this._isGlobal?window:this).keyTyped=="function"&&i.keyTyped(u)===!1&&u.preventDefault())},o.default.prototype._onblur=function(u){this._downKeys={}},o.default.prototype.keyIsDown=function(u){return o.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},o.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,a,l){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(m)}function u(m){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(c){return o(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":o(c)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(i=t("../core/main"))&&i.__esModule?i:{default:i},d=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var c=p();if(c&&c.has(m))return c.get(m);var h,v={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in m){var y;Object.prototype.hasOwnProperty.call(m,h)&&((y=f?Object.getOwnPropertyDescriptor(m,h):null)&&(y.get||y.set)?Object.defineProperty(v,h,y):v[h]=m[h])}return v.default=m,c&&c.set(m,v),v}(t("../core/constants"));function p(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,p=function(){return m},m)}i.default.prototype.movedX=0,i.default.prototype.movedY=0,i.default.prototype._hasMouseInteracted=!1,i.default.prototype.mouseX=0,i.default.prototype.mouseY=0,i.default.prototype.pmouseX=0,i.default.prototype.pmouseY=0,i.default.prototype.winMouseX=0,i.default.prototype.winMouseY=0,i.default.prototype.pwinMouseX=0,i.default.prototype.pwinMouseY=0,i.default.prototype.mouseButton=0,i.default.prototype.mouseIsPressed=!1,i.default.prototype._updateNextMouseCoords=function(m){var c,h,v,f,y;this._curElement!==null&&(!m.touches||0<m.touches.length)&&(c=this._curElement.elt,h=this.width,v=this.height,(f=m)&&!f.clientX&&(f.touches?f=f.touches[0]:f.changedTouches&&(f=f.changedTouches[0])),y=c.getBoundingClientRect(),h=c.scrollWidth/h||1,c=c.scrollHeight/v||1,v={x:(f.clientX-y.left)/h,y:(f.clientY-y.top)/c,winX:f.clientX,winY:f.clientY,id:f.identifier},this._setProperty("movedX",m.movementX),this._setProperty("movedY",m.movementY),this._setProperty("mouseX",v.x),this._setProperty("mouseY",v.y),this._setProperty("winMouseX",v.winX),this._setProperty("winMouseY",v.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},i.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},i.default.prototype._setMouseButton=function(m){m.button===1?this._setProperty("mouseButton",d.CENTER):m.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},i.default.prototype._onmousemove=function(m){var c=this._isGlobal?window:this;this._updateNextMouseCoords(m),this.mouseIsPressed?typeof c.mouseDragged=="function"?c.mouseDragged(m)===!1&&m.preventDefault():typeof c.touchMoved=="function"&&c.touchMoved(m)===!1&&m.preventDefault():typeof c.mouseMoved=="function"&&c.mouseMoved(m)===!1&&m.preventDefault()},i.default.prototype._onmousedown=function(m){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(m),this._updateNextMouseCoords(m),this.touchstart||(typeof c.mousePressed=="function"?c.mousePressed(m)===!1&&m.preventDefault():typeof c.touchStarted=="function"&&c.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!1)},i.default.prototype._onmouseup=function(m){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof c.mouseReleased=="function"?c.mouseReleased(m)===!1&&m.preventDefault():typeof c.touchEnded=="function"&&c.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!1)},i.default.prototype._ondragend=i.default.prototype._onmouseup,i.default.prototype._ondragover=i.default.prototype._onmousemove,i.default.prototype._onclick=function(m){var c=this._isGlobal?window:this;typeof c.mouseClicked=="function"&&c.mouseClicked(m)===!1&&m.preventDefault()},i.default.prototype._ondblclick=function(m){var c=this._isGlobal?window:this;typeof c.doubleClicked=="function"&&c.doubleClicked(m)===!1&&m.preventDefault()},i.default.prototype._mouseWheelDeltaY=0,i.default.prototype._pmouseWheelDeltaY=0,i.default.prototype._onwheel=function(m){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",m.deltaY),typeof c.mouseWheel=="function"&&(m.delta=m.deltaY,c.mouseWheel(m)===!1&&m.preventDefault())},i.default.prototype.requestPointerLock=function(){var m=this._curElement.elt;return m.requestPointerLock=m.requestPointerLock||m.mozRequestPointerLock,m.requestPointerLock?(m.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},i.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=i.default,l.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(o){if(this._curElement!==null){for(var u=[],i=0;i<o.touches.length;i++)u[i]=function(y,f,g,c){var h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,v=y.getBoundingClientRect(),f=y.scrollWidth/f||1,y=y.scrollHeight/g||1,g=c.touches[h]||c.changedTouches[h];return{x:(g.clientX-v.left)/f,y:(g.clientY-v.top)/y,winX:g.clientX,winY:g.clientY,id:g.identifier}}(this._curElement.elt,this.width,this.height,o,i);this._setProperty("touches",u)}},t.default.prototype._ontouchstart=function(o){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(o),this._updateNextMouseCoords(o),this._updateMouseCoords(),typeof u.touchStarted=="function"&&(u.touchStarted(o)===!1&&o.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(o){var u=this._isGlobal?window:this;this._updateTouchCoords(o),this._updateNextMouseCoords(o),typeof u.touchMoved=="function"?u.touchMoved(o)===!1&&o.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(o)===!1&&o.preventDefault()},t.default.prototype._ontouchend=function(o){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(o),this._updateNextMouseCoords(o);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"&&(u.touchEnded(o)===!1&&o.preventDefault(),this.touchend=!0)},t=t.default,l.default=t},{"../core/main":283}],304:[function(t,a,l){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,u,i,d,p={_toPixels:function(m){var c,h;return m instanceof ImageData?m.data:m.getContext("2d")?m.getContext("2d").getImageData(0,0,m.width,m.height).data:m.getContext("webgl")?(h=(c=m.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,h=new Uint8Array(h),c.readPixels(0,0,m.width,m.height,c.RGBA,c.UNSIGNED_BYTE,h),h):void 0},_getARGB:function(m,c){return c*=4,m[3+c]<<24&4278190080|m[c]<<16&16711680|m[1+c]<<8&65280|255&m[2+c]},_setPixels:function(m,c){for(var h,v=0,f=m.length;v<f;v++)m[0+(h=4*v)]=(16711680&c[v])>>>16,m[1+h]=(65280&c[v])>>>8,m[2+h]=255&c[v],m[3+h]=(4278190080&c[v])>>>24},_toImageData:function(m){return m instanceof ImageData?m:m.getContext("2d").getImageData(0,0,m.width,m.height)},_createImageData:function(m,c){return p._tmpCanvas=document.createElement("canvas"),p._tmpCtx=p._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(m,c)},apply:function(m,y,h){var v=m.getContext("2d"),f=v.getImageData(0,0,m.width,m.height),y=y(f,h);y instanceof ImageData?v.putImageData(y,0,0,0,0,m.width,m.height):v.putImageData(f,0,0,0,0,m.width,m.height)},threshold:function(m){for(var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,h=p._toPixels(m),v=Math.floor(255*c),f=0;f<h.length;f+=4){var y=void 0,y=v<=.2126*h[f]+.7152*h[f+1]+.0722*h[f+2]?255:0;h[f]=h[f+1]=h[f+2]=y}},gray:function(m){for(var c=p._toPixels(m),h=0;h<c.length;h+=4){var v=c[h],f=c[h+1],y=c[h+2];c[h]=c[h+1]=c[h+2]=.2126*v+.7152*f+.0722*y}},opaque:function(m){for(var c=p._toPixels(m),h=0;h<c.length;h+=4)c[h+3]=255;return c},invert:function(m){for(var c=p._toPixels(m),h=0;h<c.length;h+=4)c[h]=255-c[h],c[h+1]=255-c[h+1],c[h+2]=255-c[h+2]},posterize:function(m){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,h=p._toPixels(m);if(c<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var v=c-1,f=0;f<h.length;f+=4){var y=h[f],g=h[f+1],b=h[f+2];h[f]=255*(y*c>>8)/v,h[f+1]=255*(g*c>>8)/v,h[f+2]=255*(b*c>>8)/v}},dilate:function(m){for(var c,h,v,f,y,g,b,x,_,j=p._toPixels(m),S=0,D=j.length?j.length/4:0,E=new Int32Array(D);S<D;)for(h=(c=S)+m.width;S<h;)f=v=p._getARGB(j,S),(_=S-1)<c&&(_=S),h<=(x=S+1)&&(x=S),(y=S-m.width)<0&&(y=0),D<=(g=S+m.width)&&(g=S),y=p._getARGB(j,y),_=p._getARGB(j,_),g=p._getARGB(j,g),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(b=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(v=_,f=b),f<(b=77*((_=p._getARGB(j,x))>>16&255)+151*(_>>8&255)+28*(255&_))&&(v=_,f=b),f<(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(v=y,f=x),f<(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(v=g,f=_),E[S++]=v;p._setPixels(j,E)},erode:function(m){for(var c,h,v,f,y,g,b,x,_,j=p._toPixels(m),S=0,D=j.length?j.length/4:0,E=new Int32Array(D);S<D;)for(h=(c=S)+m.width;S<h;)f=v=p._getARGB(j,S),(_=S-1)<c&&(_=S),h<=(x=S+1)&&(x=S),(y=S-m.width)<0&&(y=0),D<=(g=S+m.width)&&(g=S),y=p._getARGB(j,y),_=p._getARGB(j,_),g=p._getARGB(j,g),(b=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(v=_,f=b),(b=77*((_=p._getARGB(j,x))>>16&255)+151*(_>>8&255)+28*(255&_))<f&&(v=_,f=b),(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<f&&(v=y,f=x),(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<f&&(v=g,f=_),E[S++]=v;p._setPixels(j,E)},blur:function(m,c){for(var h,v,f,y,g,b,x,_,j,S,D=p._toPixels(m),E=m.width,T=m.height,F=E*T,A=new Int32Array(F),L=0;L<F;L++)A[L]=p._getARGB(D,L);var O,B,I,N,H,V,G,Y,K=new Int32Array(F),se=new Int32Array(F),M=new Int32Array(F),R=new Int32Array(F),z=0,W=3.5*c|0;if(o!==(W=W<1?1:W<248?W:248)){u=1+(o=W)<<1,i=new Int32Array(u),d=new Array(u);for(var J=0;J<u;J++)d[J]=new Int32Array(256);for(var te=1,ie=W-1;te<W;te++){i[W+te]=i[ie]=V=ie*ie,G=d[W+te],Y=d[ie--];for(var de=0;de<256;de++)G[de]=Y[de]=V*de}H=i[W]=W*W,G=d[W];for(var oe=0;oe<256;oe++)G[oe]=H*oe}for(B=0;B<T;B++){for(O=0;O<E;O++){if(y=f=v=g=h=0,(b=O-o)<0)S=-b,b=0;else{if(E<=b)break;S=0}for(I=S;I<u&&!(E<=b);I++){var he=A[b+z];N=d[I],g+=N[(-16777216&he)>>>24],v+=N[(16711680&he)>>16],f+=N[(65280&he)>>8],y+=N[255&he],h+=i[I],b++}K[x=z+O]=g/h,se[x]=v/h,M[x]=f/h,R[x]=y/h}z+=E}for(j=(_=-o)*E,B=z=0;B<T;B++){for(O=0;O<E;O++){if(y=f=v=g=h=0,_<0)S=x=-_,b=O;else{if(T<=_)break;S=0,x=_,b=O+j}for(I=S;I<u&&!(T<=x);I++)N=d[I],g+=N[K[b]],v+=N[se[b]],f+=N[M[b]],y+=N[R[b]],h+=i[I],x++,b+=E;A[O+z]=g/h<<24|v/h<<16|f/h<<8|y/h}z+=E,j+=E,_++}p._setPixels(D,A)}};l.default=p},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=i(t("../core/main")),u=i(t("omggif"));function i(p){return p&&p.__esModule?p:{default:p}}function d(p){return function(m){if(Array.isArray(m)){for(var c=0,h=new Array(m.length);c<m.length;c++)h[c]=m[c];return h}}(p)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.createImage=function(p,m){return o.default._validateParameters("createImage",arguments),new o.default.Image(p,m)},o.default.prototype.saveCanvas=function(){for(var p,m,c,h,v,f,y=arguments.length,g=new Array(y),b=0;b<y;b++)g[b]=arguments[b];switch(o.default._validateParameters("saveCanvas",g),g[0]instanceof HTMLCanvasElement?(p=g[0],g.shift()):g[0]instanceof o.default.Element?(p=g[0].elt,g.shift()):g[0]instanceof o.default.Framebuffer?(h=g[0],(v=this.createGraphics(h.width,h.height)).pixelDensity(pixelDensity()),h.loadPixels(),v.loadPixels(),v.pixels.set(h.pixels),v.updatePixels(),p=v.elt,g.shift()):p=this._curElement&&this._curElement.elt,1<=g.length&&(m=g[0]),c=(c=2<=g.length?g[1]:c)||o.default.prototype._checkFileExtension(m,c)[1]||"png"){default:f="image/png";break;case"webp":f="image/webp";break;case"jpeg":case"jpg":f="image/jpeg"}p.toBlob(function(x){o.default.prototype.downloadFile(x,m,c),v&&v.remove()},f)},o.default.prototype.encodeAndDownloadGif=function(p,m){for(var c=p.gifProperties,h=c.loopLimit,v=(h===1?h=null:h===null&&(h=0),new Uint8Array(p.width*p.height*c.numFrames)),f=[],y={},g=0;g<c.numFrames;g++){for(var b=new Set,x=c.frames[g].image.data,_=x.length,j=new Uint32Array(p.width*p.height),S=0,D=0;S<_;S+=4,D++){var E=x[S+0]<<16|x[S+1]<<8|x[S+2]<<0;b.add(E),j[D]=E}var T=d(b).sort().toString();y[T]===void 0?y[T]={freq:1,frames:[g]}:(y[T].freq+=1,y[T].frames.push(g)),f.push(j)}for(var L=[],F=Object.keys(y).sort(function(M,R){return y[R].freq-y[M].freq}),A=F[0].split(",").map(function(M){return parseInt(M)}),L=L.concat(y[A].frames),O=new Set(A),B=1;B<F.length;B++){var I=F[B].split(",").map(function(M){return parseInt(M)}).filter(function(M){return!O.has(M)});if(A.length+I.length<=256){for(var N=0;N<I.length;N++)A.push(I[N]),O.add(I[N]);L=L.concat(y[F[B]].frames)}}L=new Set(L);for(var H={},V=0;V<A.length;V++)H[A[V]]||(H[A[V]]=V);for(var G=1;G<A.length;)G<<=1;A.length=G;for(var h={loop:h,palette:new Uint32Array(A)},Y=new u.default.GifWriter(v,p.width,p.height,h),K={},se=0;se<c.numFrames;se++)(function(R){var z=!L.has(R),W=z?[]:A,J=new Uint8Array(p.width*p.height),te={},ie=new Set,de=(f[R].forEach(function(pe,_e){z?(te[pe]===void 0&&(te[pe]=W.length,W.push(pe)),J[_e]=te[pe]):J[_e]=H[pe],0<R&&f[R-1][_e]!==pe&&ie.add(pe)}),{}),oe=W.filter(function(pe){return!ie.has(pe)});if(0<oe.length){var oe=oe[0],he=(z?te:H)[oe];if(0<R){for(var le=0;le<f[R].length;le++)f[R-1][le]===f[R][le]&&(J[le]=he);de.transparent=he,K.frameOpts.disposal=1}}if(de.delay=c.frames[R].delay/10,z){for(var ee=1;ee<W.length;)ee<<=1;W.length=ee,de.palette=new Uint32Array(W)}0<R&&Y.addFrame(0,0,p.width,p.height,K.pixelPaletteIndex,K.frameOpts),K={pixelPaletteIndex:J,frameOpts:de}})(se);K.frameOpts.disposal=1,Y.addFrame(0,0,p.width,p.height,K.pixelPaletteIndex,K.frameOpts),h=new Blob([v.slice(0,Y.end())],{type:"image/gif"}),o.default.prototype.downloadFile(h,m,"gif")},o.default.prototype.saveFrames=function(p,m,c,f,v){o.default._validateParameters("saveFrames",arguments),c=o.default.prototype.constrain(c=c||3,0,15),c*=1e3;var f=o.default.prototype.constrain(f||15,0,22),y=0,g=o.default.prototype._makeFrame,b=this._curElement.elt,x=[],_=setInterval(function(){x.push(g(p+y,m,b)),y++},1e3/f);setTimeout(function(){if(clearInterval(_),v)v(x);else for(var j=0,S=x;j<S.length;j++){var D=S[j];o.default.prototype.downloadFile(D.imageData,D.filename,D.ext)}x=[]},.01+c)},o.default.prototype._makeFrame=function(p,m,v){var h,v=this?this._curElement.elt:v;if(m)switch(m.toLowerCase()){case"png":h="image/png";break;case"jpeg":case"jpg":h="image/jpeg";break;default:h="image/png"}else m="png",h="image/png";var v=(v=v.toDataURL(h)).replace(h,"image/octet-stream"),f={};return f.imageData=v,f.filename=p,f.ext=m,f},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,a,l){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(b)}function u(b){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("regenerator-runtime/runtime");var i=v(t("../core/main")),d=v(t("../core/helpers")),p=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var x=h();if(x&&x.has(b))return x.get(b);var _,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in b){var D;Object.prototype.hasOwnProperty.call(b,_)&&((D=S?Object.getOwnPropertyDescriptor(b,_):null)&&(D.get||D.set)?Object.defineProperty(j,_,D):j[_]=b[_])}return j.default=b,x&&x.set(b,j),j}(t("../core/constants")),m=v(t("omggif")),c=t("gifenc");function h(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,h=function(){return b},b)}function v(b){return b&&b.__esModule?b:{default:b}}function f(b,x,_,j,S,D,E){try{var T=b[D](E),F=T.value}catch(A){return void _(A)}T.done?x(F):Promise.resolve(F).then(j,S)}function y(b,x,_,j,S,D,E,T,F,A,L){var O,B,I,N,H,V,G,Y,K;return b===p.COVER&&(O=x,I=_,G=D,Y=E,V=T,K=F,B=A,N=L,H=Math.max(G/B,Y/N),G/=H,Y/=H,H=V,V=K,O===p.CENTER?H+=(B-G)/2:O===p.RIGHT&&(H+=B-G),I===p.CENTER?V+=(N-Y)/2:I===p.BOTTOM&&(V+=N-Y),T=(K={x:H,y:V,w:G,h:Y}).x,F=K.y,A=K.w,L=K.h),b===p.CONTAIN&&(O=x,B=_,I=j,N=S,H=D,V=E,G=A,Y=L,K=Math.max(G/H,Y/V),G/=K,Y/=K,K=I,I=N,O===p.CENTER?K+=(H-G)/2:O===p.RIGHT&&(K+=H-G),B===p.CENTER?I+=(V-Y)/2:B===p.BOTTOM&&(I+=V-Y),j=(b={x:K,y:I,w:G,h:Y}).x,S=b.y,D=b.w,E=b.h),{sx:T,sy:F,sw:A,sh:L,dx:j,dy:S,dw:D,dh:E}}function g(b,x){return 0<b&&b<x?b:x}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadImage=function(b,x,_){i.default._validateParameters("loadImage",arguments);var j=new i.default.Image(1,1,this),S=this,D=new Request(b,{method:"GET",mode:"cors"});return fetch(b,D).then(function(E){var T,F=E.headers.get("content-type");F===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),F&&F.includes("image/gif")?E.arrayBuffer().then(function(A){if(A){for(var A=new Uint8Array(A),L=j,O=x,B=_,I=(function(z){S._decrementPreload()}).bind(S),N=new m.default.GifReader(A),H=(L.width=L.canvas.width=N.width,L.height=L.canvas.height=N.height,[]),V=N.numFrames(),G=new Uint8ClampedArray(L.width*L.height*4),Y=0;Y<V;Y++){var K=N.frameInfo(Y),se=L.drawingContext.getImageData(0,0,L.width,L.height),M=(G=se.data.slice(),function(z,W){try{W.decodeAndBlitFrameRGBA(z,G)}catch(J){i.default._friendlyFileLoadError(8,L.src),typeof B=="function"?B(J):console.error(J)}}(Y,N),new ImageData(G,L.width,L.height)),M=(L.drawingContext.putImageData(M,0,0),K.delay);M===0&&(M=10),H.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*M}),K.disposal===2?L.drawingContext.clearRect(K.x,K.y,K.width,K.height):K.disposal===3&&L.drawingContext.putImageData(se,0,0,K.x,K.y,K.width,K.height)}(A=N.loopCount())===null?A=1:A===0&&(A=null),L.drawingContext.putImageData(H[0].image,0,0),1<H.length&&(L.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:H,numFrames:V,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof O=="function"&&O(L),I()}},function(A){typeof _=="function"?(_(A),S._decrementPreload()):console.error(A)}):((T=new Image).onload=function(){j.width=j.canvas.width=T.width,j.height=j.canvas.height=T.height,j.drawingContext.drawImage(T,0,0),j.modified=!0,typeof x=="function"&&x(j),S._decrementPreload()},T.onerror=function(A){i.default._friendlyFileLoadError(0,T.src),typeof _=="function"?(_(A),S._decrementPreload()):console.error(A)},b.indexOf("data:image/")!==0&&(T.crossOrigin="Anonymous"),T.src=b),j.modified=!0}).catch(function(E){i.default._friendlyFileLoadError(0,b),typeof _=="function"?(_(E),S._decrementPreload()):console.error(E)}),j},i.default.prototype.saveGif=function(){b=regeneratorRuntime.mark(function _(j,S){var D,E,T,F,A,L,O,B,I,N,H,V,G,Y,K,se,M,R,z,W,J,te,ie,de,oe,he,le=arguments;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(D=2<le.length&&le[2]!==void 0?le[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof j!="string")throw TypeError("fileName parameter must be a string");ee.next=3;break;case 3:if(typeof S!="number")throw TypeError("Duration parameter must be a number");ee.next=5;break;case 5:if(E=D&&D.delay||0,T=D&&D.units||"seconds",F=D&&D.silent||!1,A=D&&D.notificationDuration||0,L=D&&D.notificationID||"progressBar",typeof E!="number")throw TypeError("Delay parameter must be a number");ee.next=12;break;case 12:if(T!=="seconds"&&T!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ee.next=14;break;case 14:if(typeof F!="boolean")throw TypeError("Silent parameter must be a boolean");ee.next=16;break;case 16:if(typeof A!="number")throw TypeError("Notification duration parameter must be a number");ee.next=18;break;case 18:if(typeof L!="string")throw TypeError("Notification ID parameter must be a string");ee.next=20;break;case 20:return this._recording=!0,N=this._targetFrameRate,O=(O=1/(N=N!==1/0&&N!==void 0&&N!==0?N:60)*1e3)<20?20:O,I=(B=T==="seconds"?S*N:S)+(N=T==="seconds"?E*N:E),N=N,this.frameCount=N,H=this._pixelDensity,this.pixelDensity(1),V=[],document.getElementById(L)!==null&&document.getElementById(L).remove(),F||((G=this.createP("")).id(L),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof i.default.RendererGL&&(K=this.drawingContext,Y=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4)),this.noLoop(),ee.next=39,Promise.resolve();case 39:if(N<I)return this.redraw(),de=void 0,de=this._renderer instanceof i.default.RendererGL?(Y=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4),K.readPixels(0,0,K.drawingBufferWidth,K.drawingBufferHeight,K.RGBA,K.UNSIGNED_BYTE,Y),function(pe,_e,De){for(var xe=parseInt(De/2),je=4*_e,Te=new Uint8Array(4*_e),Ge=0;Ge<xe;++Ge){var Oe=Ge*je,ae=(De-Ge-1)*je;Te.set(pe.subarray(Oe,Oe+je)),pe.copyWithin(Oe,ae,ae+je),pe.set(Te,ae)}return pe}(Y,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,V.push(de),N++,F||G.html("Saved frame <b>"+V.length.toString()+"</b> out of "+B.toString()),ee.next=48,new Promise(function(pe){return setTimeout(pe,0)});ee.next=50;break;case 48:ee.next=39;break;case 50:F||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(H),se=(0,c.GIFEncoder)(),M=function(pe){for(var _e=new Uint8Array(pe.length*pe[0].length),De=0;De<pe.length;De++)_e.set(pe[De],De*pe[0].length);var xe=(0,c.quantize)(_e,256,{format:"rgba4444",oneBitAlpha:!0});return xe.length===256?xe[xe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:xe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),xe}(V),R={},z=function(pe){for(var _e=pe.length/4,De=new Uint8Array(_e),xe=0;xe<_e;xe++){var je=pe[4*xe]<<24|pe[4*xe+1]<<16|pe[4*xe+2]<<8|pe[4*xe+3];R[je]===void 0&&(R[je]=(0,c.nearestColorIndex)(M,pe.slice(4*xe,4*(xe+1)))),De[xe]=R[je]}return De},W=M.length-1,J=[],te=0;case 60:if(!(te<V.length)){ee.next=71;break}if(ie=z(V[te]),de=ie.slice(),te===0)se.writeFrame(ie,this.width,this.height,{palette:M,delay:O,dispose:1});else{for(oe=0;oe<ie.length;oe++)ie[oe]===J[oe]&&(ie[oe]=W);se.writeFrame(ie,this.width,this.height,{delay:O,transparent:!0,transparentIndex:W,dispose:1})}return J=de,F||G.html("Rendered frame <b>"+te.toString()+"</b> out of "+B.toString()),ee.next=68,new Promise(function(pe){return setTimeout(pe,0)});case 68:te++,ee.next=60;break;case 71:se.finish(),he=se.bytesView(),he=new Blob([he],{type:"image/gif"}),V=[],this._recording=!1,this.loop(),F||(G.html("Done. Downloading your gif!"),0<A&&setTimeout(function(){return G.remove()},1e3*A)),i.default.prototype.downloadFile(he,j,"gif");case 80:case"end":return ee.stop()}},_,this)});var b,x=function(){var _=this,j=arguments;return new Promise(function(S,D){var E=b.apply(_,j);function T(A){f(E,S,D,T,F,"next",A)}function F(A){f(E,S,D,T,F,"throw",A)}T(void 0)})};return function(_,j){return x.apply(this,arguments)}}(),i.default.prototype.image=function(b,x,_,j,N,H,V,G,K,A,L,O){i.default._validateParameters("image",arguments);var Y=b.width,B=b.height,I=(O=O||p.CENTER,L=L||p.CENTER,b.elt&&(Y=Y!==void 0?Y:b.elt.width,B=B!==void 0?B:b.elt.height),b.elt&&b.elt.videoWidth&&!b.canvas&&(Y=Y!==void 0?Y:b.elt.videoWidth,B=B!==void 0?B:b.elt.videoHeight),j||Y),N=N||B,H=H||0,V=V||0,G=g(G!==void 0?G:Y,Y),Y=g(K!==void 0?K:B,B),K=1;b.elt&&!b.canvas&&b.elt.style.width&&(K=b.elt.videoWidth&&!j?b.elt.videoWidth:b.elt.width,K/=parseInt(b.elt.style.width,10)),H*=K,V*=K,Y*=K,G*=K,B=y(A,L,O,(B=d.default.modeAdjust(x,_,I,N,this._renderer._imageMode)).x,B.y,B.w,B.h,H,V,G,Y),this._renderer.image(b,B.sx,B.sy,B.sw,B.sh,B.dx,B.dy,B.dw,B.dh)},i.default.prototype.tint=function(){for(var b=arguments.length,x=new Array(b),_=0;_<b;_++)x[_]=arguments[_];i.default._validateParameters("tint",x);var j=this.color.apply(this,x);this._renderer._tint=j.levels},i.default.prototype.noTint=function(){this._renderer._tint=null},i.default.prototype._getTintedImageCanvas=i.default.Renderer2D.prototype._getTintedImageCanvas,i.default.prototype.imageMode=function(b){i.default._validateParameters("imageMode",arguments),b!==p.CORNER&&b!==p.CORNERS&&b!==p.CENTER||(this._renderer._imageMode=b)},t=i.default,l.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=i(t("../core/main")),u=i(t("./filters"));function i(p){return p&&p.__esModule?p:{default:p}}function d(p,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}o.default.Image=function(){function p(h,v){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.width=h,this.height=v,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var m,c;return m=p,(c=[{key:"pixelDensity",value:function(h){return h!==void 0?(h<=0&&(o.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),h=1),this._pixelDensity=h,this.width/=h,this.height/=h,this):this._pixelDensity}},{key:"_animateGif",value:function(y){var v,f=this.gifProperties,y=y._lastRealFrameTime||window.performance.now();f.lastChangeTime===0&&(f.lastChangeTime=y),f.playing&&(f.timeDisplayed=y-f.lastChangeTime,v=f.frames[f.displayIndex].delay,f.timeDisplayed>=v&&(v=Math.floor(f.timeDisplayed/v),f.timeDisplayed=0,f.lastChangeTime=y,f.displayIndex+=v,f.loopCount=Math.floor(f.displayIndex/f.numFrames),f.loopLimit!==null&&f.loopCount>=f.loopLimit?f.playing=!1:(y=f.displayIndex%f.numFrames,this.drawingContext.putImageData(f.frames[y].image,0,0),f.displayIndex=y,this.setModified(!0))))}},{key:"_setProperty",value:function(h,v){this[h]=v,this.setModified(!0)}},{key:"loadPixels",value:function(){o.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(h,v,f,y){o.default.Renderer2D.prototype.updatePixels.call(this,h,v,f,y),this.setModified(!0)}},{key:"get",value:function(h,v,f,y){return o.default._validateParameters("p5.Image.get",arguments),o.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var h=arguments.length,v=new Array(h),f=0;f<h;f++)v[f]=arguments[f];return o.default.Renderer2D.prototype._getPixel.apply(this,v)}},{key:"set",value:function(h,v,f){o.default.Renderer2D.prototype.set.call(this,h,v,f),this.setModified(!0)}},{key:"resize",value:function(h,v){h===0&&v===0?(h=this.canvas.width,v=this.canvas.height):h===0?h=this.canvas.width*v/this.canvas.height:v===0&&(v=this.canvas.height*h/this.canvas.width),h=Math.floor(h),v=Math.floor(v);var f=document.createElement("canvas");if(f.width=h,f.height=v,this.gifProperties)for(var y=this.gifProperties,g=0;g<y.numFrames;g++){for(var b=this.drawingContext.createImageData(h,v),x=(E=E=D=S=j=void 0,y.frames[g].image),_=b,j=0,S=0;S<_.height;S++)for(var D=0;D<_.width;D++){var E=Math.floor(D*x.width/_.width),E=4*(Math.floor(S*x.height/_.height)*x.width+E);_.data[j++]=x.data[E++],_.data[j++]=x.data[E++],_.data[j++]=x.data[E++],_.data[j++]=x.data[+E]}y.frames[g].image=b}f.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,f.width,f.height),this.canvas.width=this.width=h,this.canvas.height=this.height=v,this.drawingContext.drawImage(f,0,0,h,v,0,0,h,v),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var h=arguments.length,v=new Array(h),f=0;f<h;f++)v[f]=arguments[f];o.default.prototype.copy.apply(this,v)}},{key:"mask",value:function(h){var v=this.drawingContext.globalCompositeOperation,f=this._pixelDensity,y=1,g=[h=h===void 0?this:h,0,0,(y=h instanceof o.default.Renderer?h._pInst._pixelDensity:y)*h.width,y*h.height,0,0,f*this.width,f*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var b=0;b<this.gifProperties.frames.length;b++)this.drawingContext.putImageData(this.gifProperties.frames[b].image,0,0),this.copy.apply(this,g),this.gifProperties.frames[b].image=this.drawingContext.getImageData(0,0,f*this.width,f*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,g);this.drawingContext.globalCompositeOperation=v,this.setModified(!0)}},{key:"filter",value:function(h,v){u.default.apply(this.canvas,u.default[h],v),this.setModified(!0)}},{key:"blend",value:function(){for(var h=arguments.length,v=new Array(h),f=0;f<h;f++)v[f]=arguments[f];o.default._validateParameters("p5.Image.blend",arguments),o.default.prototype.blend.apply(this,v),this.setModified(!0)}},{key:"setModified",value:function(h){this._modified=h}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(h,v){this.gifProperties?o.default.prototype.encodeAndDownloadGif(this,h):o.default.prototype.saveCanvas(this.canvas,h,v)}},{key:"reset",value:function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames}},{key:"setFrame",value:function(h){var v;this.gifProperties&&(h<(v=this.gifProperties).numFrames&&0<=h?(v.timeDisplayed=0,v.lastChangeTime=0,v.displayIndex=h,this.drawingContext.putImageData(v.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(h,v){if(this.gifProperties){var f=this.gifProperties;if(v<f.numFrames&&0<=v)f.frames[v].delay=h;else{var y=!0,v=!1,g=void 0;try{for(var b,x=f.frames[Symbol.iterator]();!(y=(b=x.next()).done);y=!0)b.value.delay=h}catch(j){v=!0,g=j}finally{try{y||x.return==null||x.return()}finally{if(v)throw g}}}}}}])&&d(m.prototype,c),p}(),t=o.default.Image,l.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,a,l){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=i(t("../core/main")),u=i(t("./filters"));function i(d){return d&&d.__esModule?d:{default:d}}t("../color/p5.Color"),o.default.prototype.pixels=[],o.default.prototype.blend=function(){for(var d,p=arguments.length,m=new Array(p),c=0;c<p;c++)m[c]=arguments[c];o.default._validateParameters("blend",m),this._renderer?(d=this._renderer).blend.apply(d,m):o.default.Renderer2D.prototype.blend.apply(this,m)},o.default.prototype.copy=function(){for(var d,p,m,c,h,v,f,y,g,b=arguments.length,x=new Array(b),_=0;_<b;_++)x[_]=arguments[_];if(o.default._validateParameters("copy",x),x.length===9)d=x[0],p=x[1],m=x[2],c=x[3],h=x[4],v=x[5],f=x[6],y=x[7],g=x[8];else{if(x.length!==8)throw new Error("Signature not supported");d=this,p=x[0],m=x[1],c=x[2],h=x[3],v=x[4],f=x[5],y=x[6],g=x[7]}o.default.prototype._copyHelper(this,d,p,m,c,h,v,f,y,g)},o.default.prototype._copyHelper=function(d,p,m,c,h,v,f,y,g,b){var x=p.canvas.width/p.width,_=0,j=0;p._renderer&&p._renderer.isP3D&&(_=p.width/2,j=p.height/2),d._renderer&&d._renderer.isP3D?(d.push(),d.resetMatrix(),d.noLights(),d.blendMode(d.BLEND),d.imageMode(d.CORNER),o.default.RendererGL.prototype.image.call(d._renderer,p,m+_,c+j,h,v,f,y,g,b),d.pop()):d.drawingContext.drawImage(p.canvas,x*(m+_),x*(c+j),x*h,x*v,f,y,g,b)},o.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},o.default.prototype.filter=function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];o.default._validateParameters("filter",p);var f=(function(){var y,g={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof o.default.Shader?g.shader=arguments.length<=0?void 0:arguments[0]:(g.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(g.value=arguments.length<=1?void 0:arguments[1]),((y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y])===!1&&(g.useWebGL=!1)),g}).apply(void 0,p),c=f.shader,h=f.operation,v=f.value,f=f.useWebGL;this._renderer.isP3D&&c?o.default.RendererGL.prototype.filter.call(this._renderer,c):f||this._renderer.isP3D?(!f&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?o.default.RendererGL.prototype.filter.call(this._renderer,h,v):((c=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),c.filter.apply(c,p),this.copy(c._renderer,0,0,this.width,this.height,0,0,this.width,this.height),c.clear())):this.canvas!==void 0?u.default.apply(this.canvas,u.default[h],v):u.default.apply(this.elt,u.default[h],v)},o.default.prototype.get=function(d,p,m,c){var h;return o.default._validateParameters("get",arguments),(h=this._renderer).get.apply(h,arguments)},o.default.prototype.loadPixels=function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];o.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},o.default.prototype.set=function(d,p,m){this._renderer.set(d,p,m)},o.default.prototype.updatePixels=function(d,p,m,c){o.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,p,m,c)},t=o.default,l.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,a,l){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=p(t("../core/main")),i=(t("whatwg-fetch"),t("es6-promise/auto"),p(t("fetch-jsonp"))),d=p(t("file-saver"));function p(v){return v&&v.__esModule?v:{default:v}}function m(v){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(f){return o(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":o(f)})(v)}function c(v){return v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function h(v,f){f&&f!==!0&&f!=="true"||(f="");var y="";return(v=v||"untitled")&&v.includes(".")&&(y=v.split(".").pop()),f&&y!==f&&(y=f,v="".concat(v,".").concat(y)),[v,y]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadJSON=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];u.default._validateParameters("loadJSON",f);for(var g,b,x,_=f[0],j={},S="json",D=1;D<f.length;D++){var E=f[D];typeof E=="string"?E!=="jsonp"&&E!=="json"||(S=E):typeof E=="function"?g?b=E:g=E:m(E)==="object"&&(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))&&(S="jsonp",x=E)}var T=this;return this.httpDo(_,"GET",x,S,function(F){for(var A in F)j[A]=F[A];g!==void 0&&g(F),T._decrementPreload()},function(F){if(u.default._friendlyFileLoadError(5,_),!b)throw F;b(F)}),j},u.default.prototype.loadStrings=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];u.default._validateParameters("loadStrings",f);for(var g,b,x=[],_=1;_<f.length;_++){var j=f[_];typeof j=="function"&&(g===void 0?g=j:b===void 0&&(b=j))}var S=this;return u.default.prototype.httpDo.call(this,f[0],"GET","text",function(D){for(var E=D.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),T=0,F=E.length;T<F;T+=32768)Array.prototype.push.apply(x,E.slice(T,Math.min(T+32768,F)));g!==void 0&&g(x),S._decrementPreload()},function(D){if(u.default._friendlyFileLoadError(3,D),!b)throw D;b(D)}),x},u.default.prototype.loadTable=function(v){var f,y,g,b=!1,x=v.substring(v.lastIndexOf(".")+1,v.length);x==="csv"?g=",":x==="ssv"?g=";":x==="tsv"&&(g="	");for(var _=1;_<arguments.length;_++)typeof arguments[_]=="function"?f===void 0?f=arguments[_]:y===void 0&&(y=arguments[_]):typeof arguments[_]=="string"&&(arguments[_]==="header"&&(b=!0),arguments[_]==="csv"?g=",":arguments[_]==="ssv"?g=";":arguments[_]==="tsv"&&(g="	"));var j=new u.default.Table,S=this;return this.httpDo(v,"GET","table",function(D){for(var E,T,F={},A=0,L=[],O=0,B=null,I=function(){F.currentState=A,F.token=""},N=function(){B.push(F.token),I()},H=function(){F.currentState=4,L.push(B),B=null};;){if((E=D[O++])==null){if(F.escaped)throw new Error("Unclosed quote in file.");if(B){N(),H();break}}if(B===null&&(F.escaped=!1,B=[],I()),F.currentState===A){if(E==='"'){F.escaped=!0,F.currentState=1;continue}F.currentState=1}if(F.currentState===1&&F.escaped)if(E==='"')D[O]==='"'?(F.token+='"',O++):(F.escaped=!1,F.currentState=2);else{if(E==="\r")continue;F.token+=E}else E==="\r"?(D[O]===`
`&&O++,N(),H()):E===`
`?(N(),H()):E===g?N():F.currentState===1&&(F.token+=E)}if(b)j.columns=L.shift();else for(var V=0;V<L[0].length;V++)j.columns[V]="null";for(var G=0;G<L.length;G++)(L[G].length!==1||L[G][0]!=="undefined"&&L[G][0]!=="")&&((T=new u.default.TableRow).arr=L[G],T.obj=function(Y,K){if((K=K||[])===void 0)for(var se=0;se<Y.length;se++)K[se.toString()]=se;return Object.fromEntries(K.map(function(M,R){return[M,Y[R]]}))}(L[G],j.columns),j.addRow(T));typeof f=="function"&&f(j),S._decrementPreload()},function(D){u.default._friendlyFileLoadError(2,v),y?y(D):console.error(D)}),j},u.default.prototype.loadXML=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];for(var g,b,x=new u.default.XML,_=1;_<f.length;_++){var j=f[_];typeof j=="function"&&(g===void 0?g=j:b===void 0&&(b=j))}var S=this;return this.httpDo(f[0],"GET","xml",function(D){for(var E in D)x[E]=D[E];g!==void 0&&g(x),S._decrementPreload()},function(D){if(u.default._friendlyFileLoadError(1,D),!b)throw D;b(D)}),x},u.default.prototype.loadBytes=function(v,f,y){var g={},b=this;return this.httpDo(v,"GET","arrayBuffer",function(x){g.bytes=new Uint8Array(x),typeof f=="function"&&f(g),b._decrementPreload()},function(x){if(u.default._friendlyFileLoadError(6,v),!y)throw x;y(x)}),g},u.default.prototype.httpGet=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];return u.default._validateParameters("httpGet",f),f.splice(1,0,"GET"),u.default.prototype.httpDo.apply(this,f)},u.default.prototype.httpPost=function(){for(var v=arguments.length,f=new Array(v),y=0;y<v;y++)f[y]=arguments[y];return u.default._validateParameters("httpPost",f),f.splice(1,0,"POST"),u.default.prototype.httpDo.apply(this,f)},u.default.prototype.httpDo=function(){for(var v,f,y,g={},b=0,x="text/plain",_=arguments.length-1;0<_&&typeof(_<0||arguments.length<=_?void 0:arguments[_])=="function";_--)b++;var j=arguments.length-b,S=arguments.length<=0?void 0:arguments[0];if(j==2&&typeof S=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")L=new Request(S,arguments.length<=1?void 0:arguments[1]),f=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var D,E="GET",T=1;T<arguments.length;T++){var F=T<0||arguments.length<=T?void 0:arguments[T];if(typeof F=="string")F==="GET"||F==="POST"||F==="PUT"||F==="DELETE"?E=F:F==="json"||F==="jsonp"||F==="binary"||F==="arrayBuffer"||F==="xml"||F==="text"||F==="table"?v=F:D=F;else if(typeof F=="number")D=F.toString();else if(m(F)==="object")if(F.hasOwnProperty("jsonpCallback")||F.hasOwnProperty("jsonpCallbackFunction"))for(var A in F)g[A]=F[A];else x=F instanceof u.default.XML?(D=F.serialize(),"application/xml"):(D=JSON.stringify(F),"application/json");else typeof F=="function"&&(f?y=F:f=F)}var j=E==="GET"?new Headers:new Headers({"Content-Type":x}),L=new Request(S,{method:E,mode:"cors",body:D,headers:j})}return(j=(j=(v=v||(S.includes("json")?"json":S.includes("xml")?"xml":"text"))==="jsonp"?(0,i.default)(S,g):fetch(L)).then(function(O){if(!O.ok)throw(B=new Error(O.body)).status=O.status,B.ok=!1,B;var B=0;switch((B=v!=="jsonp"?O.headers.get("content-length"):B)&&64e6<B&&u.default._friendlyFileLoadError(7,S),v){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(I){return I=new DOMParser().parseFromString(I,"text/xml"),new u.default.XML(I.documentElement)});default:return O.text()}})).then(f||function(){}),j.catch(y||console.error),j},window.URL=window.URL||window.webkitURL,u.default.prototype._pWriters=[],u.default.prototype.createWriter=function(v,f){var y,g;for(g in u.default.prototype._pWriters)if(u.default.prototype._pWriters[g].name===v)return y=new u.default.PrintWriter(v+this.millis(),f),u.default.prototype._pWriters.push(y),y;return y=new u.default.PrintWriter(v,f),u.default.prototype._pWriters.push(y),y},u.default.PrintWriter=function(v,f){var y=this;this.name=v,this.content="",this.write=function(g){this.content+=g},this.print=function(g){this.content+="".concat(g,`
`)},this.clear=function(){this.content=""},this.close=function(){var g,b=[];for(g in b.push(this.content),u.default.prototype.writeFile(b,v,f),u.default.prototype._pWriters)u.default.prototype._pWriters[g].name===this.name&&u.default.prototype._pWriters.splice(g,1);y.clear(),y={}}},u.default.prototype.save=function(v,f,y){var g=arguments,b=(this._curElement||this).elt;if(g.length===0)u.default.prototype.saveCanvas(b);else if(g[0]instanceof u.default.Renderer||g[0]instanceof u.default.Graphics)u.default.prototype.saveCanvas(g[0].elt,g[1],g[2]);else if(g.length===1&&typeof g[0]=="string")u.default.prototype.saveCanvas(b,g[0]);else switch(h(g[1],g[2])[1]){case"json":return void u.default.prototype.saveJSON(g[0],g[1],g[2]);case"txt":return void u.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?u.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof u.default.Table?u.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof u.default.Image?u.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof u.default.SoundFile&&u.default.prototype.saveSound(g[0],g[1],g[2],g[3])}},u.default.prototype.saveJSON=function(v,f,y){u.default._validateParameters("saveJSON",arguments),y=y?JSON.stringify(v):JSON.stringify(v,void 0,2),this.saveStrings(y.split(`
`),f,"json")},u.default.prototype.saveJSONObject=u.default.prototype.saveJSON,u.default.prototype.saveJSONArray=u.default.prototype.saveJSON,u.default.prototype.saveStrings=function(v,f,y,g){u.default._validateParameters("saveStrings",arguments);for(var b=this.createWriter(f,y||"txt"),x=0;x<v.length;x++)g?b.write(v[x]+`\r
`):b.write(v[x]+`
`);b.close(),b.clear()},u.default.prototype.saveTable=function(v,f,y){u.default._validateParameters("saveTable",arguments),g=y===void 0?f.substring(f.lastIndexOf(".")+1,f.length):y;var g,b=this.createWriter(f,g),x=v.columns,_=g==="tsv"?"	":",";if(g!=="html"){if(x[0]!=="0"){for(var j=0;j<x.length;j++)j<x.length-1?b.write(x[j]+_):b.write(x[j]);b.write(`
`)}for(var S=0;S<v.rows.length;S++){for(var D=void 0,D=0;D<v.rows[S].arr.length;D++)D<v.rows[S].arr.length-1?g==="csv"&&String(v.rows[S].arr[D]).includes(",")?b.write('"'+v.rows[S].arr[D]+'"'+_):b.write(v.rows[S].arr[D]+_):g==="csv"&&String(v.rows[S].arr[D]).includes(",")?b.write('"'+v.rows[S].arr[D]+'"'):b.write(v.rows[S].arr[D]);b.write(`
`)}}else{if(b.print("<html>"),b.print("<head>"),b.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),b.print("</head>"),b.print("<body>"),b.print("  <table>"),x[0]!=="0"){b.print("    <tr>");for(var E=0;E<x.length;E++){var T=c(x[E]);b.print("      <td>".concat(T)),b.print("      </td>")}b.print("    </tr>")}for(var F=0;F<v.rows.length;F++){b.print("    <tr>");for(var A=0;A<v.columns.length;A++){var L=c(v.rows[F].getString(A));b.print("      <td>".concat(L)),b.print("      </td>")}b.print("    </tr>")}b.print("  </table>"),b.print("</body>"),b.print("</html>")}b.close(),b.clear()},u.default.prototype.writeFile=function(b,f,y){var g="application/octet-stream",b=(u.default.prototype._isSafari()&&(g="text/plain"),new Blob(b,{type:g}));u.default.prototype.downloadFile(b,f,y)},u.default.prototype.downloadFile=function(v,b,x){var g,b=h(b,x),x=b[0];v instanceof Blob?d.default.saveAs(v,x):((g=document.createElement("a")).href=v,g.download=x,g.onclick=function(_){document.body.removeChild(_.target),_.stopPropagation()},g.style.display="none",document.body.appendChild(g),u.default.prototype._isSafari()&&(v=(v=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(b[1],'"'),alert(v)),g.click())},u.default.prototype._checkFileExtension=h,u.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=u.default,l.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,a,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.Table=function(){function i(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],c=this,h=i;if(!(c instanceof h))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=m}var d,p;return d=i,(p=[{key:"addRow",value:function(m){if(m=m||new o.default.TableRow,m.arr===void 0||m.obj===void 0)throw new Error("invalid TableRow: ".concat(m));return(m.table=this).rows.push(m),m}},{key:"removeRow",value:function(m){this.rows[m].table=null,m=this.rows.splice(m+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(m)}},{key:"getRow",value:function(m){return this.rows[m]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(m,c){if(typeof c=="string"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[c]===m)return this.rows[h]}else for(var v=0;v<this.rows.length;v++)if(this.rows[v].arr[c]===m)return this.rows[v];return null}},{key:"findRows",value:function(m,c){var h=[];if(typeof c=="string")for(var v=0;v<this.rows.length;v++)this.rows[v].obj[c]===m&&h.push(this.rows[v]);else for(var f=0;f<this.rows.length;f++)this.rows[f].arr[c]===m&&h.push(this.rows[f]);return h}},{key:"matchRow",value:function(m,c){if(typeof c=="number"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[c].match(m))return this.rows[h]}else for(var v=0;v<this.rows.length;v++)if(this.rows[v].obj[c].match(m))return this.rows[v];return null}},{key:"matchRows",value:function(m,c){var h=[];if(typeof c=="number")for(var v=0;v<this.rows.length;v++)this.rows[v].arr[c].match(m)&&h.push(this.rows[v]);else for(var f=0;f<this.rows.length;f++)this.rows[f].obj[c].match(m)&&h.push(this.rows[f]);return h}},{key:"getColumn",value:function(m){var c=[];if(typeof m=="string")for(var h=0;h<this.rows.length;h++)c.push(this.rows[h].obj[m]);else for(var v=0;v<this.rows.length;v++)c.push(this.rows[v].arr[m]);return c}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(m){this.columns.push(m||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(m,c){for(var h=[],v=0;v<m.length;v++)h.push(m.charAt(v).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var f=new RegExp(h.join("|"),"g");if(c===void 0)for(var y=0;y<this.columns.length;y++)for(var g=0;g<this.rows.length;g++){var b=(b=this.rows[g].arr[y]).replace(f,"");this.rows[g].arr[y]=b,this.rows[g].obj[this.columns[y]]=b}else if(typeof c=="string")for(var x=0;x<this.rows.length;x++){var _=(_=this.rows[x].obj[c]).replace(f,""),j=(this.rows[x].obj[c]=_,this.columns.indexOf(c));this.rows[x].arr[j]=_}else for(var S=0;S<this.rows.length;S++){var D=(D=this.rows[S].arr[c]).replace(f,"");this.rows[S].arr[c]=D,this.rows[S].obj[this.columns[c]]=D}}},{key:"trim",value:function(m){var c=new RegExp(" ","g");if(m===void 0)for(var h=0;h<this.columns.length;h++)for(var v=0;v<this.rows.length;v++){var f=(f=this.rows[v].arr[h]).replace(c,"");this.rows[v].arr[h]=f,this.rows[v].obj[this.columns[h]]=f}else if(typeof m=="string")for(var y=0;y<this.rows.length;y++){var g=(g=this.rows[y].obj[m]).replace(c,""),b=(this.rows[y].obj[m]=g,this.columns.indexOf(m));this.rows[y].arr[b]=g}else for(var x=0;x<this.rows.length;x++){var _=(_=this.rows[x].arr[m]).replace(c,"");this.rows[x].arr[m]=_,this.rows[x].obj[this.columns[m]]=_}}},{key:"removeColumn",value:function(v){typeof v=="string"?h=this.columns.indexOf(c=v):c=this.columns[h=v];var c,h,v=this.columns.splice(h+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(v);for(var f=0;f<this.rows.length;f++){var y=this.rows[f].arr,g=y.splice(h+1,y.length);y.pop(),this.rows[f].arr=y.concat(g),delete this.rows[f].obj[c]}}},{key:"set",value:function(m,c,h){this.rows[m].set(c,h)}},{key:"setNum",value:function(m,c,h){this.rows[m].setNum(c,h)}},{key:"setString",value:function(m,c,h){this.rows[m].setString(c,h)}},{key:"get",value:function(m,c){return this.rows[m].get(c)}},{key:"getNum",value:function(m,c){return this.rows[m].getNum(c)}},{key:"getString",value:function(m,c){return this.rows[m].getString(c)}},{key:"getObject",value:function(m){for(var c,h={},v=0;v<this.rows.length;v++)if(c=this.rows[v].obj,typeof m=="string"){if(!(0<=this.columns.indexOf(m)))throw new Error('This table has no column named "'.concat(m,'"'));h[c[m]]=c}else h[v]=this.rows[v].obj;return h}},{key:"getArray",value:function(){for(var m=[],c=0;c<this.rows.length;c++)m.push(this.rows[c].arr);return m}}])&&u(d.prototype,p),i}(),t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,a,l){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,i){for(var d=0;d<i.length;d++){var p=i[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}t.default.TableRow=function(){function u(p,m){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var c=[];p&&(c=p.split(m=m||",")),this.arr=c,this.obj=Object.fromEntries(c.entries()),this.table=null}var i,d;return i=u,(d=[{key:"set",value:function(p,m){if(typeof p=="string"){var c=this.table.columns.indexOf(p);if(!(0<=c))throw new Error('This table has no column named "'.concat(p,'"'));this.obj[p]=m,this.arr[c]=m}else{if(!(p<this.table.columns.length))throw new Error("Column #".concat(p," is out of the range of this table"));this.arr[p]=m,c=this.table.columns[p],this.obj[c]=m}}},{key:"setNum",value:function(p,m){m=parseFloat(m),this.set(p,m)}},{key:"setString",value:function(p,m){m=m.toString(),this.set(p,m)}},{key:"get",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p]}},{key:"getNum",value:function(p){var m=parseFloat(typeof p=="string"?this.obj[p]:this.arr[p]);if(m.toString()==="NaN")throw"Error: ".concat(this.obj[p]," is NaN (Not a Number)");return m}},{key:"getString",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p].toString()}}])&&o(i.prototype,d),u}(),t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d,p){for(var m=0;m<p.length;m++){var c=p[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}function i(d){for(var p=[],m=0;m<d.length;m++)p.push(new o.default.XML(d[m]));return p}o.default.XML=function(){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c?this.DOM=c:(c=document.implementation.createDocument(null,"doc"),this.DOM=c.createElement("root"))}var p,m;return p=d,(m=[{key:"getParent",value:function(){return new o.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(c){var h=this.DOM.innerHTML,v=this.DOM.attributes,f=document.implementation.createDocument(null,"default").createElement(c);f.innerHTML=h;for(var y=0;y<v.length;y++)f.setAttribute(v[y].nodeName,v[y].nodeValue);this.DOM=f}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var c=[],h=0;h<this.DOM.childNodes.length;h++)c.push(this.DOM.childNodes[h].nodeName);return c}},{key:"getChildren",value:function(c){return i(c?this.DOM.getElementsByTagName(c):this.DOM.children)}},{key:"getChild",value:function(c){if(typeof c!="string")return new o.default.XML(this.DOM.children[c]);var h=!0,v=!1,f=void 0;try{for(var y,g=this.DOM.children[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var b=y.value;if(b.tagName===c)return new o.default.XML(b)}}catch(x){v=!0,f=x}finally{try{h||g.return==null||g.return()}finally{if(v)throw f}}}},{key:"addChild",value:function(c){c instanceof o.default.XML&&this.DOM.appendChild(c.DOM)}},{key:"removeChild",value:function(c){var h=-1;if(typeof c=="string"){for(var v=0;v<this.DOM.children.length;v++)if(this.DOM.children[v].tagName===c){h=v;break}}else h=c;h!==-1&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var c=[],h=!0,v=!1,f=void 0;try{for(var y,g=this.DOM.attributes[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var b=y.value;c.push(b.nodeName)}}catch(x){v=!0,f=x}finally{try{h||g.return==null||g.return()}finally{if(v)throw f}}return c}},{key:"hasAttribute",value:function(c){var h={},v=!0,f=!1,y=void 0;try{for(var g,b=this.DOM.attributes[Symbol.iterator]();!(v=(g=b.next()).done);v=!0){var x=g.value;h[x.nodeName]=x.nodeValue}}catch(_){f=!0,y=_}finally{try{v||b.return==null||b.return()}finally{if(f)throw y}}return!!h[c]}},{key:"getNum",value:function(c,h){var v={},f=!0,y=!1,g=void 0;try{for(var b,x=this.DOM.attributes[Symbol.iterator]();!(f=(b=x.next()).done);f=!0){var _=b.value;v[_.nodeName]=_.nodeValue}}catch(j){y=!0,g=j}finally{try{f||x.return==null||x.return()}finally{if(y)throw g}}return Number(v[c])||h||0}},{key:"getString",value:function(c,h){var v={},f=!0,y=!1,g=void 0;try{for(var b,x=this.DOM.attributes[Symbol.iterator]();!(f=(b=x.next()).done);f=!0){var _=b.value;v[_.nodeName]=_.nodeValue}}catch(j){y=!0,g=j}finally{try{f||x.return==null||x.return()}finally{if(y)throw g}}return v[c]?String(v[c]):h||null}},{key:"setAttribute",value:function(c,h){this.DOM.setAttribute(c,h)}},{key:"getContent",value:function(c){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||c||null}},{key:"setContent",value:function(c){this.DOM.children.length||(this.DOM.textContent=c)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&u(p.prototype,m),d}(),t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i){return function(d){if(Array.isArray(d)){for(var p=0,m=new Array(d.length);p<d.length;p++)m[p]=d[p];return m}}(i)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.abs=Math.abs,o.default.prototype.ceil=Math.ceil,o.default.prototype.constrain=function(i,d,p){return o.default._validateParameters("constrain",arguments),Math.max(Math.min(i,p),d)},o.default.prototype.dist=function(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return o.default._validateParameters("dist",d),d.length===4?Math.hypot(d[2]-d[0],d[3]-d[1]):d.length===6?Math.hypot(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},o.default.prototype.exp=Math.exp,o.default.prototype.floor=Math.floor,o.default.prototype.lerp=function(i,d,p){return o.default._validateParameters("lerp",arguments),p*(d-i)+i},o.default.prototype.log=Math.log,o.default.prototype.mag=function(i,d){return o.default._validateParameters("mag",arguments),Math.hypot(i,d)},o.default.prototype.map=function(i,d,p,m,c,h){return o.default._validateParameters("map",arguments),i=(i-d)/(p-d)*(c-m)+m,h?m<c?this.constrain(i,m,c):this.constrain(i,c,m):i},o.default.prototype.max=function(){for(var i=function(c){return Math.max.apply(Math,u(c))},d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return Array.isArray(p[0])?i(p[0]):i(p)},o.default.prototype.min=function(){for(var i=function(c){return Math.min.apply(Math,u(c))},d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return Array.isArray(p[0])?i(p[0]):i(p)},o.default.prototype.norm=function(i,d,p){return o.default._validateParameters("norm",arguments),this.map(i,d,p,0,1)},o.default.prototype.pow=Math.pow,o.default.prototype.round=function(i,d){return d?(d=Math.pow(10,d),Math.round(i*d)/d):Math.round(i)},o.default.prototype.sq=function(i){return i*i},o.default.prototype.sqrt=Math.sqrt,o.default.prototype.fract=function(m){o.default._validateParameters("fract",arguments);var d,p=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,p=1),String(m).includes(".")&&!String(m).includes("e")?(d=String(m),d=+("0"+d.slice(d.indexOf("."))),Math.abs(p-d)):m<1?Math.abs(p-m):0)},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,a,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d,p,m){return(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,h,v){var f=[null];return f.push.apply(f,h),h=new(Function.bind.apply(c,f)),v&&i(h,v.prototype),h}).apply(null,arguments)}function i(d,p){return(i=Object.setPrototypeOf||function(m,c){return m.__proto__=c,m})(d,p)}o.default.prototype.createVector=function(d,p,m){return this instanceof o.default?u(o.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new o.default.Vector(d,p,m)},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(m,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,m=(m=m("../core/main"))&&m.__esModule?m:{default:m};function o(c){return .5*(1-Math.cos(c*Math.PI))}var u,i=4095,d=4,p=.5,m=(m.default.prototype.noise=function(c){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var f=0;f<4096;f++)u[f]=Math.random()}c<0&&(c=-c),h<0&&(h=-h),v<0&&(v=-v);for(var y,g,b=Math.floor(c),x=Math.floor(h),_=Math.floor(v),j=c-b,S=h-x,D=v-_,E=0,T=.5,F=0;F<d;F++){var A=b+(x<<4)+(_<<8),L=o(j),O=o(S),B=u[A&i];B+=L*(u[A+1&i]-B),y=u[A+16&i],B+=O*((y+=L*(u[A+16+1&i]-y))-B),y=u[(A+=256)&i],y+=L*(u[A+1&i]-y),g=u[A+16&i],y+=O*((g+=L*(u[A+16+1&i]-g))-y),E+=(B+=o(D)*(y-B))*T,T*=p,b<<=1,x<<=1,_<<=1,1<=(j*=2)&&(b++,j--),1<=(S*=2)&&(x++,S--),1<=(D*=2)&&(_++,D--)}return E},m.default.prototype.noiseDetail=function(c,h){0<c&&(d=c),0<h&&(p=h)},m.default.prototype.noiseSeed=function(c){f=4294967296;var h,v,f,y={setSeed:function(b){v=h=(b??Math.random()*f)>>>0},getSeed:function(){return h},rand:function(){return(v=(1664525*v+1013904223)%f)/f}};y.setSeed(c),u=new Array(4096);for(var g=0;g<4096;g++)u[g]=y.rand()},m.default);l.default=m},{"../core/main":283}],316:[function(t,a,l){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},d=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var v=p();if(v&&v.has(h))return v.get(h);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var b;Object.prototype.hasOwnProperty.call(h,f)&&((b=g?Object.getOwnPropertyDescriptor(h,f):null)&&(b.get||b.set)?Object.defineProperty(y,f,b):y[f]=h[f])}return y.default=h,v&&v.set(h,y),y}(t("../core/constants"));function p(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,p=function(){return h},h)}function m(h,v){for(var f=0;f<v.length;f++){var y=v[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}i.default.Vector=function(){function h(){var _=this,g=h;if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function");var b,x,_=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],b=(arguments.length<=2?void 0:arguments[2])||0,x=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(b=(arguments.length<=0?void 0:arguments[0])||0,x=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=b,this.y=x,this.z=_}var v,f,y;return v=h,y=[{key:"fromAngle",value:function(g){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new i.default.Vector(b*Math.cos(g),b*Math.sin(g),0)}},{key:"fromAngles",value:function(D,j){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,_=Math.cos(j),j=Math.sin(j),S=Math.cos(D),D=Math.sin(D);return new i.default.Vector(x*D*j,-x*S,x*D*_)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*d.TWO_PI)}},{key:"random3D",value:function(){var g=Math.random()*d.TWO_PI,b=2*Math.random()-1,_=Math.sqrt(1-b*b),x=_*Math.cos(g),_=_*Math.sin(g);return new i.default.Vector(x,_,b)}},{key:"copy",value:function(g){return g.copy(g)}},{key:"add",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return S?S.set(_):(S=_.copy(),b.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),S.add(j),S}},{key:"rem",value:function(g,b){if(g instanceof i.default.Vector&&b instanceof i.default.Vector)return(g=g.copy()).rem(b),g}},{key:"sub",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return S?S.set(_):(S=_.copy(),b.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),S.sub(j),S}},{key:"mult",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return S?S.set(_):(S=_.copy(),b.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),S.mult(j),S}},{key:"rotate",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return b.length===2?S=_.copy():(S instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),S.set(_)),S.rotate(j),S}},{key:"div",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return S?S.set(_):(S=_.copy(),b.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),S.div(j),S}},{key:"dot",value:function(g,b){return g.dot(b)}},{key:"cross",value:function(g,b){return g.cross(b)}},{key:"dist",value:function(g,b){return g.dist(b)}},{key:"lerp",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2],D=b[3];return D?D.set(_):(D=_.copy(),b.length===4&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),D.lerp(j,S),D}},{key:"slerp",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2],D=b[3];return D?D.set(_):(D=_.copy(),b.length===4&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),D.slerp(j,S),D}},{key:"mag",value:function(g){return g.mag()}},{key:"magSq",value:function(g){return g.magSq()}},{key:"normalize",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1];return b.length<2?j=_.copy():(j instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),j.set(_)),j.normalize()}},{key:"limit",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return b.length<3?S=_.copy():(S instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),S.set(_)),S.limit(j)}},{key:"setMag",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return b.length<3?S=_.copy():(S instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),S.set(_)),S.setMag(j)}},{key:"heading",value:function(g){return g.heading()}},{key:"angleBetween",value:function(g,b){return g.angleBetween(b)}},{key:"reflect",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];return b.length<3?S=_.copy():(S instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),S.set(_)),S.reflect(j)}},{key:"array",value:function(g){return g.array()}},{key:"equals",value:function(g,b){var x;return g instanceof i.default.Vector?x=g:Array.isArray(g)?x=new i.default.Vector().set(g):i.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),x.equals(b)}}],(f=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(g,b,x){return g instanceof i.default.Vector?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):Array.isArray(g)?(this.x=g[0]||0,this.y=g[1]||0,this.z=g[2]||0):(this.x=g||0,this.y=b||0,this.z=x||0),this}},{key:"copy",value:function(){return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new i.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(g,b,x){return g instanceof i.default.Vector?(this.x+=g.x||0,this.y+=g.y||0,this.z+=g.z||0):Array.isArray(g)?(this.x+=g[0]||0,this.y+=g[1]||0,this.z+=g[2]||0):(this.x+=g||0,this.y+=b||0,this.z+=x||0),this}},{key:"calculateRemainder2D",value:function(g,b){return g!==0&&(this.x=this.x%g),b!==0&&(this.y=this.y%b),this}},{key:"calculateRemainder3D",value:function(g,b,x){return g!==0&&(this.x=this.x%g),b!==0&&(this.y=this.y%b),x!==0&&(this.z=this.z%x),this}},{key:"rem",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _,j,S,D=b[0],E=b[1],T=b[2];if(D instanceof i.default.Vector){if([D.x,D.y,D.z].every(Number.isFinite))return _=parseFloat(D.x),j=parseFloat(D.y),S=parseFloat(D.z),this.calculateRemainder3D(_,j,S)}else if(Array.isArray(D)){if(D.every(Number.isFinite))return D.length===2?this.calculateRemainder2D(D[0],D[1]):D.length===3?this.calculateRemainder3D(D[0],D[1],D[2]):void 0}else if(b.length===1){if(Number.isFinite(D)&&D!==0)return this.x=this.x%D,this.y=this.y%D,this.z=this.z%D,this}else if(b.length===2){if(b.every(Number.isFinite))return this.calculateRemainder2D(D,E)}else if(b.length===3&&b.every(Number.isFinite))return this.calculateRemainder3D(D,E,T)}},{key:"sub",value:function(g,b,x){return g instanceof i.default.Vector?(this.x-=g.x||0,this.y-=g.y||0,this.z-=g.z||0):Array.isArray(g)?(this.x-=g[0]||0,this.y-=g[1]||0,this.z-=g[2]||0):(this.x-=g||0,this.y-=b||0,this.z-=x||0),this}},{key:"mult",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _,j=b[0],S=b[1],D=b[2];return j instanceof i.default.Vector?Number.isFinite(j.x)&&Number.isFinite(j.y)&&Number.isFinite(j.z)&&typeof j.x=="number"&&typeof j.y=="number"&&typeof j.z=="number"?(this.x*=j.x,this.y*=j.y,this.z*=j.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(j)?j.every(function(E){return Number.isFinite(E)})&&j.every(function(E){return typeof E=="number"})?j.length===1?(this.x*=j[0],this.y*=j[0],this.z*=j[0]):j.length===2?(this.x*=j[0],this.y*=j[1]):j.length===3&&(this.x*=j[0],this.y*=j[1],this.z*=j[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(_=b).every(function(E){return Number.isFinite(E)})&&_.every(function(E){return typeof E=="number"})?(b.length===1&&(this.x*=j,this.y*=j,this.z*=j),b.length===2&&(this.x*=j,this.y*=S),b.length===3&&(this.x*=j,this.y*=S,this.z*=D)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var _=b[0],j=b[1],S=b[2];if(_ instanceof i.default.Vector)if(Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"){var D=_.z===0&&this.z===0;if(_.x===0||_.y===0||!D&&_.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=_.x,this.y/=_.y,D||(this.z/=_.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(_))if(_.every(Number.isFinite)&&_.every(function(E){return typeof E=="number"})){if(_.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;_.length===1?(this.x/=_[0],this.y/=_[0],this.z/=_[0]):_.length===2?(this.x/=_[0],this.y/=_[1]):_.length===3&&(this.x/=_[0],this.y/=_[1],this.z/=_[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(b.every(Number.isFinite)&&b.every(function(E){return typeof E=="number"})){if(b.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;b.length===1&&(this.x/=_,this.y/=_,this.z/=_),b.length===2&&(this.x/=_,this.y/=j),b.length===3&&(this.x/=_,this.y/=j,this.z/=S)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var g=this.x,b=this.y,x=this.z;return g*g+b*b+x*x}},{key:"dot",value:function(g,b,x){return g instanceof i.default.Vector?this.dot(g.x,g.y,g.z):this.x*(g||0)+this.y*(b||0)+this.z*(x||0)}},{key:"cross",value:function(_){var b=this.y*_.z-this.z*_.y,x=this.z*_.x-this.x*_.z,_=this.x*_.y-this.y*_.x;return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,b,x,_):new i.default.Vector(b,x,_)}},{key:"dist",value:function(g){return g.copy().sub(this).mag()}},{key:"normalize",value:function(){var g=this.mag();return g!==0&&this.mult(1/g),this}},{key:"limit",value:function(g){var b=this.magSq();return g*g<b&&this.div(Math.sqrt(b)).mult(g),this}},{key:"setMag",value:function(g){return this.normalize().mult(g)}},{key:"heading",value:function(){var g=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(g):g}},{key:"setHeading",value:function(g){this.isPInst&&(g=this._toRadians(g));var b=this.mag();return this.x=b*Math.cos(g),this.y=b*Math.sin(g),this}},{key:"rotate",value:function(b){var b=this.heading()+b,x=(this.isPInst&&(b=this._toRadians(b)),this.mag());return this.x=Math.cos(b)*x,this.y=Math.sin(b)*x,this}},{key:"angleBetween",value:function(g){var b;return this.magSq()*g.magSq()==0?NaN:(b=this.cross(g),g=Math.atan2(b.mag(),this.dot(g))*Math.sign(b.z||1),this.isPInst?this._fromRadians(g):g)}},{key:"lerp",value:function(g,b,x,_){return g instanceof i.default.Vector?this.lerp(g.x,g.y,g.z,b):(this.x+=(g-this.x)*_||0,this.y+=(b-this.y)*_||0,this.z+=(x-this.z)*_||0,this)}},{key:"slerp",value:function(g,b){if(b!==0){if(b===1)return this.set(g);var x=this.mag(),_=g.mag();if(x*_==0)this.mult(1-b).add(g.x*b,g.y*b,g.z*b);else{var j=this.cross(g),S=j.mag(),D=Math.atan2(S,this.dot(g));if(0<S)j.x/=S,j.y/=S,j.z/=S;else{if(D<.5*Math.PI)return this.mult(1-b).add(g.x*b,g.y*b,g.z*b),this;this.z===0&&g.z===0?j.set(0,0,1):this.x!==0?j.set(this.y,-this.x,0).normalize():j.set(1,0,0)}S=j.cross(this),g=1-b+b*_/x,j=g*Math.cos(b*D),_=g*Math.sin(b*D),this.x=this.x*j+S.x*_,this.y=this.y*j+S.y*_,this.z=this.z*j+S.z*_}}return this}},{key:"reflect",value:function(g){return g=i.default.Vector.normalize(g),this.sub(g.mult(2*this.dot(g)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(S,b,x){var _,j,S=S instanceof i.default.Vector?(_=S.x||0,j=S.y||0,S.z||0):Array.isArray(S)?(_=S[0]||0,j=S[1]||0,S[2]||0):(_=S||0,j=b||0,x||0);return this.x===_&&this.y===j&&this.z===S}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(g){return Math.abs(+(g||0))<=Number.EPSILON?0:g}}])&&m(v.prototype,f),y&&m(v,y),h}();var c=i.default.Vector;l.default=c},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(p,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(p=p("../core/main"))&&p.__esModule?p:{default:p},u="_lcg_random_state",i=4294967296,d=0,p=(o.default.prototype._lcg=function(m){return this[m]=(1664525*this[m]+1013904223)%i,this[m]/i},o.default.prototype._lcgSetSeed=function(m,c){this[m]=(c??Math.random()*i)>>>0},o.default.prototype.randomSeed=function(m){this._lcgSetSeed(u,m),this._gaussian_previous=!1},o.default.prototype.random=function(m,c){var h,v;return o.default._validateParameters("random",arguments),h=this[u]!=null?this._lcg(u):Math.random(),m===void 0?h:c===void 0?Array.isArray(m)?m[Math.floor(h*m.length)]:h*m:(c<m&&(v=m,m=c,c=v),h*(c-m)+m)},o.default.prototype.randomGaussian=function(m){var c,h,v,f,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)c=d,this._gaussian_previous=!1;else{for(;1<=(f=(h=this.random(2)-1)*h+(v=this.random(2)-1)*v););c=h*(f=Math.sqrt(-2*Math.log(f)/f)),d=v*f,this._gaussian_previous=!0}return c*y+(m||0)},o.default);l.default=p},{"../core/main":283}],318:[function(t,a,l){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function u(c){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var v,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in c){var g;Object.prototype.hasOwnProperty.call(c,v)&&((g=y?Object.getOwnPropertyDescriptor(c,v):null)&&(g.get||g.set)?Object.defineProperty(f,v,g):f[v]=c[v])}return f.default=c,h&&h.set(c,f),f}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}i.default.prototype._angleMode=d.RADIANS,i.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))},i.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))},i.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))},i.default.prototype.atan2=function(c,h){return this._fromRadians(Math.atan2(c,h))},i.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))},i.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))},i.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))},i.default.prototype.degrees=function(c){return c*d.RAD_TO_DEG},i.default.prototype.radians=function(c){return c*d.DEG_TO_RAD},i.default.prototype.angleMode=function(c){if(i.default._validateParameters("angleMode",arguments),c===void 0)return this._angleMode;c!==d.DEGREES&&c!==d.RADIANS||c!==this._angleMode&&(c===d.RADIANS?(this._setProperty("pRotationX",this.pRotationX*d.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*d.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*d.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*d.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*d.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*d.RAD_TO_DEG)),this._angleMode=c)},i.default.prototype._toRadians=function(c){return this._angleMode===d.DEGREES?c*d.DEG_TO_RAD:c},i.default.prototype._toDegrees=function(c){return this._angleMode===d.RADIANS?c*d.RAD_TO_DEG:c},i.default.prototype._fromRadians=function(c){return this._angleMode===d.DEGREES?c*d.RAD_TO_DEG:c},i.default.prototype._fromDegrees=function(c){return this._angleMode===d.RADIANS?c*d.DEG_TO_RAD:c};var m=i.default;l.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,a,l){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.textAlign=function(u,i){var d;return o.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},o.default.prototype.textLeading=function(u){var i;return o.default._validateParameters("textLeading",arguments),(i=this._renderer).textLeading.apply(i,arguments)},o.default.prototype.textSize=function(u){var i;return o.default._validateParameters("textSize",arguments),(i=this._renderer).textSize.apply(i,arguments)},o.default.prototype.textStyle=function(u){var i;return o.default._validateParameters("textStyle",arguments),(i=this._renderer).textStyle.apply(i,arguments)},o.default.prototype.textWidth=function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];if(i[0]+="",o.default._validateParameters("textWidth",i),i[0].length===0)return 0;for(var p=i[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),m=[],c=0;c<p.length;c++)m.push(this._renderer.textWidth(p[c]));return Math.max.apply(Math,m)},o.default.prototype.textAscent=function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];return o.default._validateParameters("textAscent",i),this._renderer.textAscent()},o.default.prototype.textDescent=function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];return o.default._validateParameters("textDescent",i),this._renderer.textDescent()},o.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},o.default.prototype.textWrap=function(u){return o.default._validateParameters("textWrap",[u]),this._renderer.textWrap(u)},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,a,l){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function u(v){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(f){return o(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":o(f)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(h=t("../core/main"))&&h.__esModule?h:{default:h},d=c(t("../core/constants")),p=c(t("opentype.js"));function m(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,m=function(){return v},v)}function c(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var f=m();if(f&&f.has(v))return f.get(v);var y,g,b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in v)Object.prototype.hasOwnProperty.call(v,y)&&((g=x?Object.getOwnPropertyDescriptor(v,y):null)&&(g.get||g.set)?Object.defineProperty(b,y,g):b[y]=v[y]);return b.default=v,f&&f.set(v,b),b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadFont=function(v,f,y){i.default._validateParameters("loadFont",arguments);var g=new i.default.Font(this),b=this;return p.load(v,function(j,S){if(j)return i.default._friendlyFileLoadError(4,v),y!==void 0?y(j):void console.error(j,v);g.font=S,f!==void 0&&f(g),b._decrementPreload();var j=v.split("\\").pop().split("/").pop(),S=j.lastIndexOf("."),D=S<1?null:j.slice(S+1);["ttf","otf","woff","woff2"].includes(D)&&(D=j.slice(0,S!==-1?S:0),(j=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(D,`;
src: url(`).concat(v,`);
}
`))),document.head.appendChild(j))}),g},i.default.prototype.text=function(v,f,y,g,b){var x;return i.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(x=this._renderer).text.apply(x,arguments):this},i.default.prototype.textFont=function(v,f){if(i.default._validateParameters("textFont",arguments),arguments.length){if(v)return this._renderer._setProperty("_textFont",v),f&&(this._renderer._setProperty("_textSize",f),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",f*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var h=i.default;l.default=h},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,a,l){function o(E){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},i=function(E){if(E&&E.__esModule)return E;if(E===null||p(E)!=="object"&&typeof E!="function")return{default:E};var T=d();if(T&&T.has(E))return T.get(E);var F,A={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in E){var O;Object.prototype.hasOwnProperty.call(E,F)&&((O=L?Object.getOwnPropertyDescriptor(E,F):null)&&(O.get||O.set)?Object.defineProperty(A,F,O):A[F]=E[F])}return A.default=E,T&&T.set(E,A),A}(t("../core/constants"));function d(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,d=function(){return E},E)}function p(E){return(p=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(T){return o(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":o(T)})(E)}function m(E,T){for(var F=0;F<T.length;F++){var A=T[F];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}function c(E,T){var F=E.length;return E[T<0?T%F+F:T%F]}function h(E,T,F,A){var L,O,B;return A?(h.tmpPoint1===void 0&&(h.tmpPoint1=[],h.tmpPoint2=[]),O=h.tmpPoint1,B=h.tmpPoint2,O.x=T.x-E.x,O.y=T.y-E.y,B.x=F.x-T.x,B.y=F.y-T.y,L=O.x*B.x+O.y*B.y,O=Math.sqrt(O.x*O.x+O.y*O.y),B=Math.sqrt(B.x*B.x+B.y*B.y),Math.acos(L/(O*B))<A):(T[0]-E[0])*(F[1]-E[1])-(F[0]-E[0])*(T[1]-E[1])==0}function v(R,W,z,J,te,O,B,I,N){var H=1-N,G=Math.pow(H,3),Y=Math.pow(H,2),M=N*N,K=M*N,V=G*R+3*Y*N*z+3*H*N*N*te+K*B,G=G*W+3*Y*N*J+3*H*N*N*O+K*I,Y=R+2*N*(z-R)+M*(te-2*z+R),K=W+2*N*(J-W)+M*(O-2*J+W),se=z+2*N*(te-z)+M*(B-2*te+z),M=J+2*N*(O-J)+M*(I-2*O+J),R=H*R+N*z,z=H*W+N*J,W=H*te+N*B,J=H*O+N*I,te=90-180*Math.atan2(Y-se,K-M)/Math.PI;return(se<Y||K<M)&&(te+=180),{x:V,y:G,m:{x:Y,y:K},n:{x:se,y:M},start:{x:R,y:z},end:{x:W,y:J},alpha:te}}function f(E,T,F,A,L,O,B,I,N){return N==null?S(E,T,F,A,L,O,B,I):v(E,T,F,A,L,O,B,I,function(H,V,G,Y,K,se,M,R,z){if(!(z<0||S(H,V,G,Y,K,se,M,R)<z)){var W,J=.5,te=1-J;for(W=S(H,V,G,Y,K,se,M,R,te);.01<Math.abs(W-z);)W=S(H,V,G,Y,K,se,M,R,te+=(W<z?1:-1)*(J/=2));return te}}(E,T,F,A,L,O,B,I,N))}function y(E,T,F){for(var A,L,O,B,I,N=0,H=0,V=(E=function(G,Y){function K(xe,je,Te){var Ge,Oe;if(!xe)return["C",je.x,je.y,je.x,je.y,je.x,je.y];switch(xe[0]in{T:1,Q:1}||(je.qx=je.qy=null),xe[0]){case"M":je.X=xe[1],je.Y=xe[2];break;case"A":xe=["C"].concat(b.apply(0,[je.x,je.y].concat(xe.slice(1))));break;case"S":Oe=Te==="C"||Te==="S"?(Ge=2*je.x-je.bx,2*je.y-je.by):(Ge=je.x,je.y),xe=["C",Ge,Oe].concat(xe.slice(1));break;case"T":Te==="Q"||Te==="T"?(je.qx=2*je.x-je.qx,je.qy=2*je.y-je.qy):(je.qx=je.x,je.qy=je.y),xe=["C"].concat(j(je.x,je.y,je.qx,je.qy,xe[1],xe[2]));break;case"Q":je.qx=xe[1],je.qy=xe[2],xe=["C"].concat(j(je.x,je.y,xe[1],xe[2],xe[3],xe[4]));break;case"L":xe=["C"].concat(_(je.x,je.y,xe[1],xe[2]));break;case"H":xe=["C"].concat(_(je.x,je.y,xe[1],je.y));break;case"V":xe=["C"].concat(_(je.x,je.y,je.x,xe[1]));break;case"Z":xe=["C"].concat(_(je.x,je.y,je.X,je.Y))}return xe}function se(xe,je){if(7<xe[je].length){xe[je].shift();for(var Te=xe[je];Te.length;)ie[je]="A",W&&(de[je]="A"),xe.splice(je++,0,["C"].concat(Te.splice(0,6)));xe.splice(je,1),R=Math.max(z.length,W&&W.length||0)}}function M(xe,je,Te,Ge,Oe){xe&&je&&xe[Oe][0]==="M"&&je[Oe][0]!=="M"&&(je.splice(Oe,0,["M",Ge.x,Ge.y]),Te.bx=0,Te.by=0,Te.x=xe[Oe][1],Te.y=xe[Oe][2],R=Math.max(z.length,W&&W.length||0))}var R,z=g(G),W=Y&&g(Y),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],de=[],oe="",he="";R=Math.max(z.length,W&&W.length||0);for(var le=0;le<R;le++){(oe=z[le]?z[le][0]:oe)!=="C"&&(ie[le]=oe,le&&(he=ie[le-1])),z[le]=K(z[le],J,he),ie[le]!=="A"&&oe==="C"&&(ie[le]="C"),se(z,le),W&&((oe=W[le]?W[le][0]:oe)!=="C"&&(de[le]=oe,le&&(he=de[le-1])),W[le]=K(W[le],te,he),de[le]!=="A"&&oe==="C"&&(de[le]="C"),se(W,le)),M(z,W,J,te,le),M(W,z,te,J,le);var ee=z[le],pe=W&&W[le],_e=ee.length,De=W&&pe.length;J.x=ee[_e-2],J.y=ee[_e-1],J.bx=parseFloat(ee[_e-4])||J.x,J.by=parseFloat(ee[_e-3])||J.y,te.bx=W&&(parseFloat(pe[De-4])||te.x),te.by=W&&(parseFloat(pe[De-3])||te.y),te.x=W&&pe[De-2],te.y=W&&pe[De-1]}return W?[z,W]:z}(E)).length;H<V;H++){if((O=E[H])[0]==="M")A=+O[1],L=+O[2];else{if(T<N+(B=f(A,L,O[1],O[2],O[3],O[4],O[5],O[6]))&&!F)return{x:(I=f(A,L,O[1],O[2],O[3],O[4],O[5],O[6],T-N)).x,y:I.y,alpha:I.alpha};N+=B,A=+O[5],L=+O[6]}O.shift()}return I=(I=F?N:v(A,L,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha?{x:I.x,y:I.y,alpha:I.alpha}:I}function g(E){var T=[],F=0,A=0,L=0,O=0,B=0;if(E){E[0][0]==="M"&&(L=F=+E[0][1],O=A=+E[0][2],B++,T[0]=["M",F,A]);for(var I,N,H=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",V=B,G=E.length;V<G;V++){if(T.push(I=[]),(N=E[V])[0]!==N[0].toUpperCase())switch(I[0]=N[0].toUpperCase(),I[0]){case"A":I[1]=N[1],I[2]=N[2],I[3]=N[3],I[4]=N[4],I[5]=N[5],I[6]=+(N[6]+F),I[7]=+(N[7]+A);break;case"V":I[1]=+N[1]+A;break;case"H":I[1]=+N[1]+F;break;case"R":for(var Y,K=2,se=(Y=[F,A].concat(N.slice(1))).length;K<se;K++)Y[K]=+Y[K]+F,Y[++K]=+Y[K]+A;T.pop(),T=T.concat(x(Y,H));break;case"M":L=+N[1]+F,O=+N[2]+A;break;default:for(var M=1,R=N.length;M<R;M++)I[M]=+N[M]+(M%2?F:A)}else if(N[0]==="R")Y=[F,A].concat(N.slice(1)),T.pop(),T=T.concat(x(Y,H)),I=["R"].concat(N.slice(-2));else for(var z=0,W=N.length;z<W;z++)I[z]=N[z];switch(I[0]){case"Z":F=L,A=O;break;case"H":F=I[1];break;case"V":A=I[1];break;case"M":L=I[I.length-2],O=I[I.length-1];break;default:F=I[I.length-2],A=I[I.length-1]}}}return T}function b(E,T,F,A,W,ie,J,I,N,H){function V(De,xe,je){return{x:De*Math.cos(je)-xe*Math.sin(je),y:De*Math.sin(je)+xe*Math.cos(je)}}var G,R=Math.PI,z=120*R/180,Y=R/180*(+W||0),K=[],se=(H?(le=H[0],G=H[1],oe=H[2],he=H[3]):(E=(te=V(E,T,-Y)).x,T=te.y,1<(se=(M=(E-(I=(te=V(I,N,-Y)).x))/2)*M/(F*F)+(te=(T-(N=te.y))/2)*te/(A*A))&&(F*=se=Math.sqrt(se),A*=se),se=F*F,de=A*A,oe=(ie=(ie===J?-1:1)*Math.sqrt(Math.abs((se*de-se*te*te-de*M*M)/(se*te*te+de*M*M))))*F*te/A+(E+I)/2,he=ie*-A*M/F+(T+N)/2,le=Math.asin(((T-he)/A).toFixed(9)),G=Math.asin(((N-he)/A).toFixed(9)),(le=E<oe?R-le:le)<0&&(le=2*R+le),(G=I<oe?R-G:G)<0&&(G=2*R+G),J&&G<le&&(le-=2*R),!J&&le<G&&(G-=2*R)),G-le),M=(Math.abs(se)>z&&(de=G,te=I,ie=N,G=le+z*(J&&le<G?1:-1),K=b(I=oe+F*Math.cos(G),N=he+A*Math.sin(G),F,A,W,0,J,te,ie,[G,de,oe,he])),se=G-le,Math.cos(le)),R=Math.sin(le),z=Math.cos(G),W=Math.sin(G),J=Math.tan(se/4),te=4/3*F*J,ie=4/3*A*J,de=[E,T],oe=[E+te*R,T-ie*M],he=[I+te*W,N-ie*z],le=[I,N];if(oe[0]=2*de[0]-oe[0],oe[1]=2*de[1]-oe[1],H)return[oe,he,le].concat(K);for(var ee=[],pe=0,_e=(K=[oe,he,le].concat(K).join().split(",")).length;pe<_e;pe++)ee[pe]=pe%2?V(K[pe-1],K[pe],Y).y:V(K[pe],K[pe+1],Y).x;return ee}function x(E,T){for(var F=[],A=0,L=E.length;A<L-2*!T;A+=2){var O=[{x:+E[A-2],y:+E[A-1]},{x:+E[A],y:+E[A+1]},{x:+E[A+2],y:+E[A+3]},{x:+E[A+4],y:+E[A+5]}];T?A?L-4===A?O[3]={x:+E[0],y:+E[1]}:L-2===A&&(O[2]={x:+E[0],y:+E[1]},O[3]={x:+E[2],y:+E[3]}):O[0]={x:+E[L-2],y:+E[L-1]}:L-4===A?O[3]=O[2]:A||(O[0]={x:+E[A],y:+E[A+1]}),F.push(["C",(-O[0].x+6*O[1].x+O[2].x)/6,(-O[0].y+6*O[1].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return F}function _(E,T,F,A){return[E,T,F,A,F,A]}function j(E,T,F,A,L,O){return[1/3*E+2/3*F,1/3*T+2/3*A,1/3*L+2/3*F,1/3*O+2/3*A,L,O]}function S(E,T,F,A,L,O,B,I,N){for(var H=(N=1<(N=N??1)?1:N<0?0:N)/2,V=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0;K<12;K++){var M=H*V[K]+H,se=D(M,E,F,L,B),M=D(M,T,A,O,I);G+=Y[K]*Math.sqrt(se*se+M*M)}return H*G}function D(E,T,F,A,L){return E*(E*(-3*T+9*F-9*A+3*L)+6*T-12*F+6*A)-3*T+3*F}u.default.Font=function(){function E(A){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.parent=A,this.cache={},this.font=void 0}var T,F;return T=E,(F=[{key:"textBounds",value:function(A){var L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,H=3<arguments.length?arguments[3]:void 0,B=4<arguments.length?arguments[4]:void 0,I=B&&B.renderer&&B.renderer._pInst||this.parent,N=I._renderer.drawingContext,H=(N.textAlign||i.LEFT,N.textBaseline||i.BASELINE,H||I._renderer._textSize);if(!te){for(var V=[],G=[],Y=[],K=(Y[0]=[],[]),se=this._scale(H),M=I._renderer.textLeading(),R=0,z=(this.font.forEachGlyph(A,L,O,H,B,function(oe,he,le,ee){var pe=oe.getMetrics();oe.index===0?Y[R+=1]=[]:(Y[R].push(he+pe.xMin*se),Y[R].push(he+pe.xMax*se),K.push(le+R*M+-pe.yMin*se),K.push(le+R*M+-pe.yMax*se))}),0<Y[R].length&&(V[R]=Math.min.apply(null,Y[R]),G[R]=Math.max.apply(null,Y[R])),0),W=0;W<=R;W++){V[W]=Math.min.apply(null,Y[W]),G[W]=Math.max.apply(null,Y[W]);var J=G[W]-V[W];z<J&&(z=J)}var N=Math.min.apply(null,V),te={x:N,y:O=Math.min.apply(null,K),h:Math.max.apply(null,K)-O,w:z,advance:N-L},H=this._handleAlignment(I._renderer,A,te.x,te.y,te.w+te.advance);te.x=H.x,te.y=H.y}return te}},{key:"textToPoints",value:function(A,L,O,B,I){var N,H=L,V=[],G=this.parent,Y=A.split(/\r?\n|\r|\n/g);B=B||this.parent._renderer._textSize;for(var K,se,M,R=0;R<Y.length;R++){var z=0;L=H;for(var W=(W=Y[R]).replace("	","  "),J=this._getGlyphs(W),te=0;te<J.length;te++){if(se=W,!((M=J)[K=te].name&&M[K].name==="space"||se.length===M.length&&se[K]===" "))for(var ie=function(le){for(var ee,pe=[],_e=0;_e<le.length;_e++)le[_e].type==="M"&&(ee&&pe.push(ee),ee=[]),ee.push(function(De){var xe=[De.type];return De.type==="M"||De.type==="L"?xe.push(De.x,De.y):De.type==="C"?xe.push(De.x1,De.y1,De.x2,De.y2,De.x,De.y):De.type==="Q"&&xe.push(De.x1,De.y1,De.x,De.y),xe}(le[_e]));return pe.push(ee),pe}(J[te].getPath(L,O,B).commands),de=0;de<ie.length;de++)for(var oe=function(le,ee){for(var ee=function(Te,Ge){if(p(Te)!=="object")Te=Ge;else for(var Oe in Ge)Te[Oe]===void 0&&(Te[Oe]=Ge[Oe]);return Te}(ee,{sampleFactor:.1,simplifyThreshold:0}),pe=y(le,0,1),_e=pe/(pe*ee.sampleFactor),De=[],xe=0;xe<pe;xe+=_e)De.push(y(le,xe));return ee.simplifyThreshold&&function(je){for(var Te=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Ge=0,Oe=je.length-1;3<je.length&&0<=Oe;--Oe)h(c(je,Oe-1),c(je,Oe),c(je,Oe+1),Te)&&(je.splice(Oe%je.length,1),Ge++)}(De,ee.simplifyThreshold),De}(ie[de],I),he=0;he<oe.length;he++)oe[he].x+=z,N=this._handleAlignment(G._renderer,W,oe[he].x,oe[he].y),oe[he].x=N.x,oe[he].y=N.y,V.push(oe[he]);z+=J[te].advanceWidth*this._scale(B)}O+=this.parent._renderer._textLeading}return V}},{key:"_getGlyphs",value:function(A){return this.font.stringToGlyphs(A)}},{key:"_getPath",value:function(A,N,O,B){var I=(B&&B.renderer&&B.renderer._pInst||this.parent)._renderer,N=this._handleAlignment(I,A,N,O);return this.font.getPath(A,N.x,N.y,I._textSize,B)}},{key:"_getPathData",value:function(A,L,O,B){var I=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,L,O,B):p(L)==="object"&&(B=L),B&&typeof B.decimals=="number"&&(I=B.decimals),A.toPathData(I)}},{key:"_getSVG",value:function(A,L,O,B){var I=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,L,O,B):p(L)==="object"&&(B=L),B&&(typeof B.decimals=="number"&&(I=B.decimals),typeof B.strokeWidth=="number"&&(A.strokeWidth=B.strokeWidth),B.fill!==void 0&&(A.fill=B.fill),B.stroke!==void 0&&(A.stroke=B.stroke)),A.toSVG(I)}},{key:"_renderPath",value:function(H,G,Y,B){var I=B&&B.renderer||this.parent._renderer,N=I.drawingContext,H=(p(H)==="object"&&H.commands?H:this._getPath(H,G,Y,B)).commands,V=(I._clipping||N.beginPath(),!0),G=!1,Y=void 0;try{for(var K,se=H[Symbol.iterator]();!(V=(K=se.next()).done);V=!0){var M=K.value;M.type==="M"?N.moveTo(M.x,M.y):M.type==="L"?N.lineTo(M.x,M.y):M.type==="C"?N.bezierCurveTo(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?N.quadraticCurveTo(M.x1,M.y1,M.x,M.y):M.type==="Z"&&N.closePath()}}catch(R){G=!0,Y=R}finally{try{V||se.return==null||se.return()}finally{if(G)throw Y}}return I._doStroke&&I._strokeSet&&!I._clipping&&N.stroke(),I._doFill&&!I._clipping&&(I._fillSet||I._setFill(i._DEFAULT_TEXT_FILL),N.fill()),this}},{key:"_textWidth",value:function(A,L){return this.font.getAdvanceWidth(A,L)}},{key:"_textAscent",value:function(A){return this.font.ascender*this._scale(A)}},{key:"_textDescent",value:function(A){return-this.font.descender*this._scale(A)}},{key:"_scale",value:function(A){return 1/this.font.unitsPerEm*(A||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(A,L,O,B,I){var N=A._textSize;switch(I===void 0&&(I=this._textWidth(L,N)),A._textAlign){case i.CENTER:O-=I/2;break;case i.RIGHT:O-=I}switch(A._textBaseline){case i.TOP:B+=this._textAscent(N);break;case i.CENTER:B+=this._textAscent(N)/2;break;case i.BOTTOM:B-=this._textDescent(N)}return{x:O,y:B}}}])&&m(T.prototype,F),E}(),t=u.default,l.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,a,l){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(o,u){return o.push(u),o},t.default.prototype.arrayCopy=function(o,u,i,d,p){var m,c;o=p!==void 0?(c=Math.min(p,o.length),m=d,o.slice(u,c+u)):(c=i!==void 0?(c=i,Math.min(c,o.length)):o.length,i=u,o.slice(m=0,c)),Array.prototype.splice.apply(i,[m,c].concat(o))},t.default.prototype.concat=function(o,u){return o.concat(u)},t.default.prototype.reverse=function(o){return o.reverse()},t.default.prototype.shorten=function(o){return o.pop(),o},t.default.prototype.shuffle=function(o,u){for(var i,d,p=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(o),m=(o=u||p?o:o.slice()).length;1<m;)i=this.random(0,1)*m|0,d=o[--m],o[m]=o[i],o[i]=d;return o},t.default.prototype.sort=function(o,d){var i=d?o.slice(0,Math.min(d,o.length)):o,d=d?o.slice(Math.min(d,o.length)):[];return(i=typeof i[0]=="string"?i.sort():i.sort(function(p,m){return p-m})).concat(d)},t.default.prototype.splice=function(o,u,i){return Array.prototype.splice.apply(o,[i,0].concat(u)),o},t.default.prototype.subset=function(o,u,i){return i!==void 0?o.slice(u,u+i):o.slice(u,o.length)},t=t.default,l.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,a,l){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},o.default.prototype.int=function(u){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,i):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(d){return o.default.prototype.int(d,i)}):void 0},o.default.prototype.str=function(u){return u instanceof Array?u.map(o.default.prototype.str):String(u)},o.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(o.default.prototype.boolean):void 0},o.default.prototype.byte=function(u){return u=o.default.prototype.int(u,10),typeof u=="number"?(u+128)%256-128:u instanceof Array?u.map(o.default.prototype.byte):void 0},o.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(o.default.prototype.char):typeof u=="string"?o.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},o.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(o.default.prototype.unchar):void 0},o.default.prototype.hex=function(u,i){if(i=i??8,u instanceof Array)return u.map(function(p){return o.default.prototype.hex(p,i)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(i);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var d=Number(u).toString(16).toUpperCase();d.length<i;)d="0".concat(d);return d=d.length>=i?d.substring(d.length-i,d.length):d}},o.default.prototype.unhex=function(u){return u instanceof Array?u.map(o.default.prototype.unhex):parseInt("0x".concat(u),16)},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(c=t("../core/main"))&&c.__esModule?c:{default:c};function u(h,v){return function(f){if(Array.isArray(f))return f}(h)||function(f,y){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]"){var g=[],b=!0,x=!1,_=void 0;try{for(var j,S=f[Symbol.iterator]();!(b=(j=S.next()).done)&&(g.push(j.value),!y||g.length!==y);b=!0);}catch(D){x=!0,_=D}finally{try{b||S.return==null||S.return()}finally{if(x)throw _}}return g}}(h,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(h,v,f){var y,g=h<0,x=u((h=Math.abs(h)).toString().split("."),2),b=x[0],x=x[1];return f===void 0?(b=b.padStart(v,"0"),y=x?b+"."+x:b,g?"-"+y:y):(b=(y=u(h.toFixed(f).toString().split("."),2))[0],x=y[1],b=b.padStart(v,"0"),h=x===void 0?b:b+"."+x,g?"-"+h:h)}function d(g,v){var f=(g=g.toString()).indexOf("."),y=f!==-1?g.substring(f):"",g=(g=f!==-1?g.substring(0,f):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(v===0)y="";else if(v!==void 0)if(v>y.length)for(var b=v-(y+=f===-1?".":"").length+1,x=0;x<b;x++)y+="0";else y=y.substring(0,v+1);return g+y}function p(h){return 0<parseFloat(h)?"+".concat(h.toString()):h.toString()}function m(h){return 0<=parseFloat(h)?" ".concat(h.toString()):h.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.join=function(h,v){return o.default._validateParameters("join",arguments),h.join(v)},o.default.prototype.match=function(h,v){return o.default._validateParameters("match",arguments),h.match(v)},o.default.prototype.matchAll=function(h,v){o.default._validateParameters("matchAll",arguments);for(var f=new RegExp(v,"g"),y=f.exec(h),g=[];y!==null;)g.push(y),y=f.exec(h);return g},o.default.prototype.nf=function(h,v,f){return o.default._validateParameters("nf",arguments),h instanceof Array?h.map(function(y){return i(y,v,f)}):Object.prototype.toString.call(h)==="[object Arguments]"?h.length===3?this.nf(h[0],h[1],h[2]):h.length===2?this.nf(h[0],h[1]):this.nf(h[0]):i(h,v,f)},o.default.prototype.nfc=function(h,v){return o.default._validateParameters("nfc",arguments),h instanceof Array?h.map(function(f){return d(f,v)}):d(h,v)},o.default.prototype.nfp=function(){for(var h=arguments.length,v=new Array(h),f=0;f<h;f++)v[f]=arguments[f];o.default._validateParameters("nfp",v);var y=o.default.prototype.nf.apply(this,v);return y instanceof Array?y.map(p):p(y)},o.default.prototype.nfs=function(){for(var h=arguments.length,v=new Array(h),f=0;f<h;f++)v[f]=arguments[f];o.default._validateParameters("nfs",v);var y=o.default.prototype.nf.apply(this,v);return y instanceof Array?y.map(m):m(y)},o.default.prototype.split=function(h,v){return o.default._validateParameters("split",arguments),h.split(v)},o.default.prototype.splitTokens=function(h,v){var f,y;return o.default._validateParameters("splitTokens",arguments),y=v!==void 0?(y=/\]/g.exec(v=v),(f=/\[/g.exec(v))&&y?(v=v.slice(0,y.index)+v.slice(y.index+1),f=/\[/g.exec(v),v=v.slice(0,f.index)+v.slice(f.index+1),new RegExp("[\\[".concat(v,"\\]]"),"g")):y?(v=v.slice(0,y.index)+v.slice(y.index+1),new RegExp("[".concat(v,"\\]]"),"g")):f?(v=v.slice(0,f.index)+v.slice(f.index+1),new RegExp("[".concat(v,"\\[]"),"g")):new RegExp("[".concat(v,"]"),"g")):/\s/g,h.split(y).filter(function(g){return g})},o.default.prototype.trim=function(h){return o.default._validateParameters("trim",arguments),h instanceof Array?h.map(this.trim):h.trim()};var c=o.default;l.default=c},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,l.default=t},{"../core/main":283}],326:[function(t,a,l){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c},d=(t("./p5.Geometry"),function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var v=p();if(v&&v.has(h))return v.get(h);var f,y={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in h){var b;Object.prototype.hasOwnProperty.call(h,f)&&((b=g?Object.getOwnPropertyDescriptor(h,f):null)&&(b.get||b.set)?Object.defineProperty(y,f,b):y[f]=h[f])}return y.default=h,v&&v.set(h,y),y}(t("../core/constants")));function p(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,p=function(){return h},h)}i.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},i.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},i.default.prototype.buildGeometry=function(h){return this._renderer.buildGeometry(h)},i.default.prototype.freeGeometry=function(h){this._renderer._freeBuffers(h.gid)},i.default.prototype.plane=function(){var h,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:v,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,b=(this._assert3d("plane"),i.default._validateParameters("plane",arguments),"plane|".concat(y,"|").concat(g));return this._renderer.geometryInHash(b)||((h=new i.default.Geometry(y,g,function(){for(var x,_,j=0;j<=this.detailY;j++)for(var S=j/this.detailY,D=0;D<=this.detailX;D++)x=D/this.detailX,_=new i.default.Vector(x-.5,S-.5,0),this.vertices.push(_),this.uvs.push(x,S)})).computeFaces().computeNormals(),y<=1&&g<=1?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(b,h)),this._renderer.drawBuffersScaled(b,v,f,1),this},i.default.prototype.box=function(h,v,f,y,g){this._assert3d("box"),i.default._validateParameters("box",arguments),h===void 0&&(h=50),v===void 0&&(v=h),f===void 0&&(f=v);var b,x=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,x=(g===void 0&&(g=x?1:4),"box|".concat(y=y===void 0?x?1:4:y,"|").concat(g));return this._renderer.geometryInHash(x)||((b=new i.default.Geometry(y,g,function(){var _=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(j,S){for(var S=4*S,D=0;D<4;D++){var E=j[D],E=new i.default.Vector((2*(1&E)-1)/2,((2&E)-1)/2,((4&E)/2-1)/2);_.vertices.push(E),_.uvs.push(1&D,(2&D)/2)}_.faces.push([S,1+S,2+S]),_.faces.push([2+S,1+S,3+S])})})).computeNormals(),y<=4&&g<=4?b._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(x,b)),this._renderer.drawBuffersScaled(x,h,v,f),this},i.default.prototype.sphere=function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),i.default._validateParameters("sphere",arguments),this.ellipsoid(h,h,h,v,f),this};function m(h,v,f,y,g,b,x){h=h<=0?1:h,v=v<0?0:v,f=f<=0?h:f,y=y<3?3:y;for(var _,j,S=(b=b===void 0||b)?-2:0,D=(g=g<1?1:g)+((x=x===void 0?v!==0:x)?2:0),E=Math.atan2(h-v,f),T=Math.sin(E),F=Math.cos(E),A=S;A<=D;++A){var L=A/g,O=f*L,B=void 0,B=A<0?(L=O=0,h):g<A?(O=f,L=1,v):h+(v-h)*L;for(A!==-2&&A!==g+2||(B=0),O-=f/2,_=0;_<y;++_){var I=_/(y-1),H=2*Math.PI*I,N=Math.sin(H),H=Math.cos(H),V=(this.vertices.push(new i.default.Vector(N*B,O,H*B)),void 0),V=A<0?new i.default.Vector(0,-1,0):g<A&&v?new i.default.Vector(0,1,0):new i.default.Vector(N*F,T,H*F);this.vertexNormals.push(V),this.uvs.push(I,L)}}var G=0;if(b){for(j=0;j<y;++j)this.faces.push([G+j,G+y+(j+1)%y,G+y+j]);G+=2*y}for(A=0;A<g;++A){for(_=0;_<y;++_){var Y=(_+1)%y;this.faces.push([G+_,G+Y,G+y+Y]),this.faces.push([G+_,G+y+Y,G+y+_])}G+=y}if(x)for(G+=y,_=0;_<y;++_)this.faces.push([G+_,G+(_+1)%y,G+y])}i.default.prototype.cylinder=function(){var h,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:v,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,b=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],x=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],_=(this._assert3d("cylinder"),i.default._validateParameters("cylinder",arguments),"cylinder|".concat(y,"|").concat(g,"|").concat(b,"|").concat(x));return this._renderer.geometryInHash(_)||(h=new i.default.Geometry(y,g),m.call(h,1,1,1,y,g,b,x),y<=24&&g<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,h)),this._renderer.drawBuffersScaled(_,v,f,v),this},i.default.prototype.cone=function(){var h,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:v,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,b=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],x=(this._assert3d("cone"),i.default._validateParameters("cone",arguments),"cone|".concat(y,"|").concat(g,"|").concat(b));return this._renderer.geometryInHash(x)||(h=new i.default.Geometry(y,g),m.call(h,1,0,1,y,g,b,!1),y<=24&&g<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,h)),this._renderer.drawBuffersScaled(x,v,f,v),this},i.default.prototype.ellipsoid=function(){var h,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:v,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:v,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,b=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,x=(this._assert3d("ellipsoid"),i.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(g,"|").concat(b));return this._renderer.geometryInHash(x)||((h=new i.default.Geometry(g,b,function(){for(var _=0;_<=this.detailY;_++)for(var j=_/this.detailY,S=Math.PI*j-Math.PI/2,D=Math.cos(S),E=Math.sin(S),T=0;T<=this.detailX;T++){var F=T/this.detailX,L=2*Math.PI*F,A=Math.cos(L),L=Math.sin(L),L=new i.default.Vector(D*L,E,D*A);this.vertices.push(L),this.vertexNormals.push(L),this.uvs.push(F,j)}})).computeFaces(),g<=24&&b<=24?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(x,h)),this._renderer.drawBuffersScaled(x,v,f,y),this},i.default.prototype.torus=function(h,x,f,y){if(this._assert3d("torus"),i.default._validateParameters("torus",arguments),h===void 0)h=50;else if(!h)return;if(x===void 0)x=10;else if(!x)return;f===void 0&&(f=24),y===void 0&&(y=16);var g,b=(x/h).toPrecision(4),x="torus|".concat(b,"|").concat(f,"|").concat(y);return this._renderer.geometryInHash(x)||((g=new i.default.Geometry(f,y,function(){for(var _=0;_<=this.detailY;_++)for(var j=_/this.detailY,S=2*Math.PI*j,D=Math.cos(S),E=Math.sin(S),T=1+b*D,F=0;F<=this.detailX;F++){var A=F/this.detailX,L=2*Math.PI*A,B=Math.cos(L),L=Math.sin(L),O=new i.default.Vector(T*B,T*L,b*E),B=new i.default.Vector(D*B,D*L,E);this.vertices.push(O),this.vertexNormals.push(B),this.uvs.push(A,j)}})).computeFaces(),f<=24&&y<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,g)),this._renderer.drawBuffersScaled(x,h,h,h),this},i.default.RendererGL.prototype.point=function(h,v){var f=[];return f.push(new i.default.Vector(h,v,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(f,this.immediateMode.buffers.point),this},i.default.RendererGL.prototype.triangle=function(x){var v=x[0],f=x[1],y=x[2],g=x[3],b=x[4],x=x[5],_=(this.geometryInHash("tri")||((_=new i.default.Geometry(1,1,function(){var D=[];D.push(new i.default.Vector(0,0,0)),D.push(new i.default.Vector(1,0,0)),D.push(new i.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=D,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)),this.uModelMatrix.copy());try{var j=Math.sign(v*g-y*f+y*x-b*g+b*f-v*x),S=new i.default.Matrix([y-v,g-f,0,0,b-v,x-f,0,0,0,0,j,0,v,f,0,1]).mult(this.uModelMatrix);this.uModelMatrix=S,this.drawBuffers("tri")}finally{this.uModelMatrix=_}return this},i.default.RendererGL.prototype.ellipse=function(h){this.arc(h[0],h[1],h[2],h[3],0,d.TWO_PI,d.OPEN,h[4])},i.default.RendererGL.prototype.arc=function(){var h,v=arguments.length<=0?void 0:arguments[0],f=arguments.length<=1?void 0:arguments[1],y=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3],b=arguments.length<=4?void 0:arguments[4],x=arguments.length<=5?void 0:arguments[5],_=arguments.length<=6?void 0:arguments[6],j=(arguments.length<=7?void 0:arguments[7])||25,S=(Math.abs(x-b)>=d.TWO_PI?"".concat(D="ellipse","|"):"".concat(D="arc","|").concat(b,"|").concat(x,"|").concat(_,"|")).concat(j,"|"),D=(this.geometryInHash(S)||((h=new i.default.Geometry(j,1,function(){if(b.toFixed(10)!==x.toFixed(10)){_!==d.PIE&&_!==void 0||(this.vertices.push(new i.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var E=0;E<=j;E++){var F=(x-b)*(E/j)+b,T=.5+Math.cos(F)/2,F=.5+Math.sin(F)/2;this.vertices.push(new i.default.Vector(T,F,0)),this.uvs.push([T,F]),E<j-1&&(this.faces.push([0,E+1,E+2]),this.edges.push([E+1,E+2]))}switch(_){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case d.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case d.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),j<=50?h._edgesToVertices(h):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(D," with more than 50 detail")),this.createBuffers(S,h)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([v,f,0]),this.uModelMatrix.scale(y,g,1),this.drawBuffers(S)}finally{this.uModelMatrix=D}return this},i.default.RendererGL.prototype.rect=function(h){var v=h[0],f=h[1],y=h[2],g=h[3];if(h[4]===void 0){var _=this._pInst._glAttributes.perPixelLighting,b=h[4]||(_?1:24),x=h[5]||(_?1:16),_="rect|".concat(b,"|").concat(x),j=(this.geometryInHash(_)||((j=new i.default.Geometry(b,x,function(){for(var V=0;V<=this.detailY;V++)for(var G=V/this.detailY,Y=0;Y<=this.detailX;Y++){var K=Y/this.detailX,se=new i.default.Vector(K,G,0);this.vertices.push(se),this.uvs.push(K,G)}0<b&&0<x&&(this.edges=[[0,b],[b,(b+1)*(x+1)-1],[(b+1)*(x+1)-1,(b+1)*x],[(b+1)*x,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(_,j)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([v,f,0]),this.uModelMatrix.scale(y,g,1),this.drawBuffers(_)}finally{this.uModelMatrix=j}}else{var _=h[4],j=h[5]===void 0?_:h[5],S=h[6]===void 0?j:h[6],h=h[7]===void 0?S:h[7],L=y,D=g,F=((L+=v)<v&&(F=v,v=L,L=F),(D+=f)<f&&(F=f,f=D,D=F),Math.min((L-v)/2,(D-f)/2)),E=(F<_&&(_=F),F<j&&(j=F),F<S&&(S=F),F<h&&(h=F),v),T=f,F=L,v=D,A=(this.beginShape(),j!==0?(this.vertex(F-j,T),this.quadraticVertex(F,T,F,T+j)):this.vertex(F,T),S!==0?(this.vertex(F,v-S),this.quadraticVertex(F,v,F-S,v)):this.vertex(F,v),h!==0?(this.vertex(E+h,v),this.quadraticVertex(E,v,E,v-h)):this.vertex(E,v),_!==0?(this.vertex(E,T+_),this.quadraticVertex(E,T,E+_,T)):this.vertex(E,T),!(this.immediateMode.geometry.uvs.length=0)),f=!1,L=void 0;try{for(var O,B=this.immediateMode.geometry.vertices[Symbol.iterator]();!(A=(O=B.next()).done);A=!0){var I=O.value,N=(I.x-E)/y,H=(I.y-T)/g;this.immediateMode.geometry.uvs.push(N,H)}}catch(M){f=!0,L=M}finally{try{A||B.return==null||B.return()}finally{if(f)throw L}}this.endShape(d.CLOSE)}return this},i.default.RendererGL.prototype.quad=function(h,v,f,y,g,b,x,_,j,S,D,E){var T=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,F=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,A="quad|".concat(h,"|").concat(v,"|").concat(f,"|").concat(y,"|").concat(g,"|").concat(b,"|").concat(x,"|").concat(_,"|").concat(j,"|").concat(S,"|").concat(D,"|").concat(E,"|").concat(T,"|").concat(F);if(!this.geometryInHash(A)){var L=new i.default.Geometry(T,F,function(){for(var Y=1/(this.detailX-1),K=1/(this.detailY-1),se=0;se<this.detailY;se++)for(var M=0;M<this.detailX;M++){var R=M*Y,z=se*K;this.vertices.push(new i.default.Vector((1-R)*((1-z)*h+z*S)+R*((1-z)*y+z*x),(1-R)*((1-z)*v+z*D)+R*((1-z)*g+z*_),(1-R)*((1-z)*f+z*E)+R*((1-z)*b+z*j))),this.uvs.push([R,z])}});L.faces=[];for(var O=0;O<F-1;O++)for(var B=0;B<T-1;B++){var I=B+O*T,N=B+1+(O+1)*T,H=B+(O+1)*T;L.faces.push([I,B+1+O*T,N]),L.faces.push([I,N,H])}L.computeNormals();for(var V=[L.edges.length=0,2,3,1],G=0;G<V.length;G++)L.edges.push([V[G],V[(G+1)%V.length]]);L._edgesToVertices(),this.createBuffers(A,L)}return this.drawBuffers(A),this},i.default.RendererGL.prototype.bezier=function(h,v,f,y,g,b,x,_,j,S,D,E){arguments.length===8&&(D=_,S=x,_=b,x=g,g=y,y=f,f=b=j=E=0);var T=this._pInst._bezierDetail||20;this.beginShape();for(var F=0;F<=T;F++){var A=Math.pow(1-F/T,3),L=F/T*3*Math.pow(1-F/T,2),O=3*Math.pow(F/T,2)*(1-F/T),B=Math.pow(F/T,3);this.vertex(h*A+y*L+x*O+S*B,v*A+g*L+_*O+D*B,f*A+b*L+j*O+E*B)}return this.endShape(),this},i.default.RendererGL.prototype.curve=function(h,v,f,y,g,b,x,_,j,S,D,E){arguments.length===8&&(S=x,D=_,x=g,_=y,g=y=f,f=b=j=E=0);var T=this._pInst._curveDetail;this.beginShape();for(var F=0;F<=T;F++){var A=.5*Math.pow(F/T,3),L=.5*Math.pow(F/T,2),O=F/T*.5;this.vertex(A*(3*y-h-3*x+S)+L*(2*h-5*y+4*x-S)+O*(-h+x)+2*y*.5,A*(3*g-v-3*_+D)+L*(2*v-5*g+4*_-D)+O*(-v+_)+2*g*.5,A*(3*b-f-3*j+E)+L*(2*f-5*b+4*j-E)+O*(-f+j)+2*b*.5)}return this.endShape(),this},i.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},i.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var h,v,f,y,g,b,x=[],_=[],j=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var S=1/this._lutBezierDetail,D=S,E=1,T=0;D<1;){if(b=parseFloat(D.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(b),E.toFixed(6)===S.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(D.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(b);break}D+=S,E-=S,++T}}for(var F=this._lookUpTableBezier.length,A=[],L=0;L<4;L++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var O=[];for(L=0;L<4;L++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),j===6){this.isBezier=!0;var x=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(x[0]-x[1],_[0]-_[1]),N=Math.hypot(x[1]-x[2],_[1]-_[2]),I=Math.hypot(x[2]-x[3],_[2]-_[3]),N=B+N+I;for(B/=N,I/=N,g=0;g<4;g++)A[1].push(A[0][g]*(1-B)+A[3][g]*B),A[2].push(A[0][g]*I+A[3][g]*(1-I)),O[1].push(O[0][g]*(1-B)+O[3][g]*B),O[2].push(O[0][g]*I+O[3][g]*(1-I));for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=h=v=0;L<4;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[y][L]*A[L][g],this.curStrokeColor[g]+=this._lookUpTableBezier[y][L]*O[L][g];h+=x[L]*this._lookUpTableBezier[y][L],v+=_[L]*this._lookUpTableBezier[y][L]}this.vertex(h,v)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(j===9){this.isBezier=!0,x=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var H=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],V=Math.hypot(x[0]-x[1],_[0]-_[1],H[0]-H[1]),N=Math.hypot(x[1]-x[2],_[1]-_[2],H[1]-H[2]),G=Math.hypot(x[2]-x[3],_[2]-_[3],H[2]-H[3]),j=V+N+G;for(V/=j,G/=j,g=0;g<4;g++)A[1].push(A[0][g]*(1-V)+A[3][g]*V),A[2].push(A[0][g]*G+A[3][g]*(1-G)),O[1].push(O[0][g]*(1-V)+O[3][g]*V),O[2].push(O[0][g]*G+O[3][g]*(1-G));for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=h=v=f=0;L<4;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[y][L]*A[L][g],this.curStrokeColor[g]+=this._lookUpTableBezier[y][L]*O[L][g];h+=x[L]*this._lookUpTableBezier[y][L],v+=_[L]*this._lookUpTableBezier[y][L],f+=H[L]*this._lookUpTableBezier[y][L]}this.vertex(h,v,f)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},i.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var h,v,f,y,g,b,x=[],_=[],j=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var S=1/this._lutQuadraticDetail,D=S,E=1,T=0;D<1;){if(b=parseFloat(D.toFixed(6)),this._lookUpTableQuadratic[T]=this._quadraticCoefficients(b),E.toFixed(6)===S.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(D.toFixed(6)),++T,this._lookUpTableQuadratic[T]=this._quadraticCoefficients(b);break}D+=S,E-=S,++T}}for(var F=this._lookUpTableQuadratic.length,A=[],L=0;L<3;L++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var O=[];for(L=0;L<3;L++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),j===4){this.isQuadratic=!0;var x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],B=Math.hypot(x[0]-x[1],_[0]-_[1]);for(B/=B+Math.hypot(x[1]-x[2],_[1]-_[2]),g=0;g<4;g++)A[1].push(A[0][g]*(1-B)+A[2][g]*B),O[1].push(O[0][g]*(1-B)+O[2][g]*B);for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=h=v=0;L<3;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[y][L]*A[L][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[y][L]*O[L][g];h+=x[L]*this._lookUpTableQuadratic[y][L],v+=_[L]*this._lookUpTableQuadratic[y][L]}this.vertex(h,v)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(j===6){this.isQuadratic=!0,x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var I=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],N=Math.hypot(x[0]-x[1],_[0]-_[1],I[0]-I[1]);for(N/=N+Math.hypot(x[1]-x[2],_[1]-_[2],I[1]-I[2]),g=0;g<4;g++)A[1].push(A[0][g]*(1-N)+A[2][g]*N),O[1].push(O[0][g]*(1-N)+O[2][g]*N);for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=h=v=f=0;L<3;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[y][L]*A[L][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[y][L]*O[L][g];h+=x[L]*this._lookUpTableQuadratic[y][L],v+=_[L]*this._lookUpTableQuadratic[y][L],f+=I[L]*this._lookUpTableQuadratic[y][L]}this.vertex(h,v,f)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},i.default.RendererGL.prototype.curveVertex=function(){var h,v,f,y,g,b,x=[],_=[],j=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var S=1/this._lutBezierDetail,D=S,E=1,T=0;D<1;){if(b=parseFloat(D.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(b),E.toFixed(6)===S.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(D.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(b);break}D+=S,E-=S,++T}}var F=this._lookUpTableBezier.length;if(j===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<F;g++)v=x[0]*this._lookUpTableBezier[g][0]+x[1]*this._lookUpTableBezier[g][1]+x[2]*this._lookUpTableBezier[g][2]+x[3]*this._lookUpTableBezier[g][3],f=_[0]*this._lookUpTableBezier[g][0]+_[1]*this._lookUpTableBezier[g][1]+_[2]*this._lookUpTableBezier[g][2]+_[3]*this._lookUpTableBezier[g][3],this.vertex(v,f);for(g=0;g<j;g++)this.immediateMode._curveVertex.shift()}}else if(j===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<F;g++)v=x[0]*this._lookUpTableBezier[g][0]+x[1]*this._lookUpTableBezier[g][1]+x[2]*this._lookUpTableBezier[g][2]+x[3]*this._lookUpTableBezier[g][3],f=_[0]*this._lookUpTableBezier[g][0]+_[1]*this._lookUpTableBezier[g][1]+_[2]*this._lookUpTableBezier[g][2]+_[3]*this._lookUpTableBezier[g][3],y=h[0]*this._lookUpTableBezier[g][0]+h[1]*this._lookUpTableBezier[g][1]+h[2]*this._lookUpTableBezier[g][2]+h[3]*this._lookUpTableBezier[g][3],this.vertex(v,f,y);for(g=0;g<j;g++)this.immediateMode._curveVertex.shift()}},i.default.RendererGL.prototype.image=function(h,E,f,T,g,b,x,_,j){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(h),this._pInst.textureMode(d.NORMAL);var S=0,D=(E<=h.width&&(S=E/h.width),1),E=(E+T<=h.width&&(D=(E+T)/h.width),0),T=(f<=h.height&&(E=f/h.height),1);f+g<=h.height&&(T=(f+g)/h.height),this.beginShape(),this.vertex(b,x,0,S,E),this.vertex(b+_,x,0,D,E),this.vertex(b+_,x+j,0,D,T),this.vertex(b,x+j,0,S,T),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var c=i.default;l.default=c},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,a,l){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function u(v){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(f){return o(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":o(f)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(h=t("../core/main"))&&h.__esModule?h:{default:h},d=function(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var f=p();if(f&&f.has(v))return f.get(v);var y,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in v){var x;Object.prototype.hasOwnProperty.call(v,y)&&((x=b?Object.getOwnPropertyDescriptor(v,y):null)&&(x.get||x.set)?Object.defineProperty(g,y,x):g[y]=v[y])}return g.default=v,f&&f.set(v,g),g}(t("../core/constants"));function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}function m(v){return function(f){if(Array.isArray(f)){for(var y=0,g=new Array(f.length);y<f.length;y++)g[y]=f[y];return g}}(v)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(v,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}var h=function(){function v(g){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");(this.renderer=g)._pInst.push(),this.identityMatrix=new i.default.Matrix,g.uModelMatrix=new i.default.Matrix,this.geometry=new i.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(v.nextGeometryId),v.nextGeometryId++,this.hasTransform=!1}var f,y;return f=v,(y=[{key:"transformVertices",value:function(g){var b=this;return this.hasTransform?g.map(function(x){return b.renderer.uModelMatrix.multiplyPoint(x)}):g}},{key:"transformNormals",value:function(g){var b=this;return this.hasTransform?g.map(function(x){return b.renderer.uNMatrix.multiplyVec3(x)}):g}},{key:"addGeometry",value:function(g){for(var b,x=this,_=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(S,D){return S===x.identityMatrix.mat4[D]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),j=((b=this.geometry.vertices).push.apply(b,m(this.transformVertices(g.vertices))),(b=this.geometry.vertexNormals).push.apply(b,m(this.transformNormals(g.vertexNormals))),(b=this.geometry.uvs).push.apply(b,m(g.uvs)),this.renderer._doFill&&(b=this.geometry.faces).push.apply(b,m(g.faces.map(function(S){return S.map(function(D){return D+_})}))),this.renderer._doStroke&&(b=this.geometry.edges).push.apply(b,m(g.edges.map(function(S){return S.map(function(D){return D+_})}))),m(g.vertexColors));j.length<4*g.vertices.length;)j.push.apply(j,m(this.renderer.curFillColor));(b=this.geometry.vertexColors).push.apply(b,m(j))}},{key:"addImmediate",value:function(){var g=this.renderer.immediateMode.geometry,b=this.renderer.immediateMode.shapeMode,x=[];if(this.renderer._doFill)if(b===d.TRIANGLE_STRIP||b===d.QUAD_STRIP)for(var _=2;_<g.vertices.length;_++)_%2==0?x.push([_,_-1,_-2]):x.push([_,_-2,_-1]);else if(b===d.TRIANGLE_FAN)for(var j=2;j<g.vertices.length;j++)x.push([0,j-1,j]);else for(var S=0;S<g.vertices.length;S+=3)x.push([S,S+1,S+2]);this.addGeometry(Object.assign({},g,{faces:x}))}},{key:"addRetained",value:function(g){this.addGeometry(g.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&c(f.prototype,y),v}();h.nextGeometryId=0,l.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,a,l){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=(m=t("../core/main"))&&m.__esModule?m:{default:m},i=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var h=d();if(h&&h.has(c))return h.get(c);var v,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in c){var g;Object.prototype.hasOwnProperty.call(c,v)&&((g=y?Object.getOwnPropertyDescriptor(c,v):null)&&(g.get||g.set)?Object.defineProperty(f,v,g):f[v]=c[v])}return f.default=c,h&&h.set(c,f),f}(t("../core/constants"));function d(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,d=function(){return c},c)}function p(c){return(p=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(c)}u.default.prototype.orbitControl=function(c,h,v,j){var y=this,g=(this._assert3d("orbitControl"),u.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);c===void 0&&(c=1),h===void 0&&(h=c),v===void 0&&(v=1),p(j)!=="object"&&(j={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var D=j.disableTouchActions;this.touchActionsDisabled===!0||D!==void 0&&!D||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var b,x,_,D=j.freeRotation,j=D!==void 0&&D,S=[],D=(this.touches.forEach(function(B){y._renderer.prevTouches.forEach(function(I){B.id===I.id&&(I={x:B.x,y:B.y,px:I.x,py:I.y},S.push(I))})}),this._renderer.prevTouches=this.touches,0),E=0,T=0,F=0,A=0,L=this.height<this.width?this.height:this.width,O=!1;return 0<S.length?(O=0<S[0].x&&S[0].x<this.width&&0<S[0].y&&S[0].y<this.height,S.length===1?(E=-c*((b=S[0]).x-b.px)/L,T=h*(b.y-b.py)/L):(b=S[0],x=S[1],D=-(Math.hypot(b.x-x.x,b.y-x.y)-Math.hypot(b.px-x.px,b.py-x.py))*v*4e-4,F=.5*(b.x+x.x)-.5*(b.px+x.px),A=.5*(b.y+x.y)-.5*(b.py+x.py)),0<this.touches.length?O&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(O=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(D=Math.sign(this._mouseWheelDeltaY)*v,D*=.01,this._mouseWheelDeltaY=0,O&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(E=-c*this.movedX/L,T=h*this.movedY/L):this.mouseButton===this.RIGHT&&(F=this.movedX,A=this.movedY*g.yScale),O&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),D!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=D),.001<Math.abs(this._renderer.zoomVelocity)?(j?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),g.projMatrix.mat4[15]!==0&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,E===0&&T===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*E,.6*T),1e-6<this._renderer.rotateVelocity.magSq()?(j?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),F===0&&A===0||!this._renderer.executeRotateAndMove||(b=2*F/this.width,x=2*-A/this.height,this._renderer.moveVelocity.add(.15*b,.15*x)),1e-6<this._renderer.moveVelocity.magSq()?(v=g._getLocalAxes(),c=g.eyeX-g.centerX,h=g.eyeY-g.centerY,L=g.eyeZ-g.centerZ,O=Math.sqrt(c*c+h*h+L*L),D=new u.default.Vector(g.centerX,g.centerY,g.centerZ),D=g.cameraMatrix.multiplyPoint(D),(D=this._renderer.uPMatrix.multiplyAndNormalizePoint(D)).x-=this._renderer.moveVelocity.x,D.y-=this._renderer.moveVelocity.y,T=(E=this._renderer.uPMatrix.mat4)[15]===0?(_=(E[8]+D.x)/E[0]*O,(E[9]+D.y)/E[5]*O):(_=(D.x-E[12])/E[0],(D.y-E[13])/E[5]),g.setPosition(g.eyeX+_*v.x[0]+T*v.y[0],g.eyeY+_*v.x[1]+T*v.y[1],g.eyeZ+_*v.x[2]+T*v.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},u.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,h=new Array(c),v=0;v<c;v++)h[v]=arguments[v];u.default._validateParameters("debugMode",h);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);h[0]===i.GRID?this.registerMethod("post",this._grid(h[1],h[2],h[3],h[4],h[5])):h[0]===i.AXES?this.registerMethod("post",this._axesIcon(h[1],h[2],h[3],h[4])):(this.registerMethod("post",this._grid(h[0],h[1],h[2],h[3],h[4])),this.registerMethod("post",this._axesIcon(h[5],h[6],h[7],h[8])))},u.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)},u.default.prototype._grid=function(c,h,v,f,y){c===void 0&&(c=this.width/2),h===void 0&&(h=Math.round(c/30)<4?4:Math.round(c/30)),v===void 0&&(v=0),f===void 0&&(f=0),y===void 0&&(y=0);var g=c/h,b=c/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var x=0;x<=h;x++)this.beginShape(this.LINES),this.vertex(-b+v,f,x*g-b+y),this.vertex(b+v,f,x*g-b+y),this.endShape();for(var _=0;_<=h;_++)this.beginShape(this.LINES),this.vertex(_*g-b+v,f,-b+y),this.vertex(_*g-b+v,f,b+y),this.endShape();this.pop()}},u.default.prototype._axesIcon=function(c,h,v,f){return c===void 0&&(c=40<this.width/20?this.width/20:40),h===void 0&&(h=-this.width/4),v===void 0&&(v=h),f===void 0&&(f=h),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(h,v,f),this.vertex(h+c,v,f),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(h,v,f),this.vertex(h,v+c,f),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(h,v,f),this.vertex(h,v,f+c),this.endShape(),this.pop()}};var m=u.default;l.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,a,l){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.ambientLight=function(u,i,d,p){this._assert3d("ambientLight"),o.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},o.default.prototype.specularColor=function(u,i,d){this._assert3d("specularColor"),o.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},o.default.prototype.directionalLight=function(u,y,f,p,m,c){this._assert3d("directionalLight"),o.default._validateParameters("directionalLight",arguments),u=u instanceof o.default.Color?u:this.color(u,y,f);var h,v,y=arguments[arguments.length-1],f=typeof y=="number"?(h=arguments[arguments.length-3],v=arguments[arguments.length-2],arguments[arguments.length-1]):(h=y.x,v=y.y,y.z),y=Math.sqrt(h*h+v*v+f*f);return this._renderer.directionalLightDirections.push(h/y,v/y,f/y),this._renderer.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.pointLight=function(u,f,y,p,m,c){this._assert3d("pointLight"),o.default._validateParameters("pointLight",arguments),u=u instanceof o.default.Color?u:this.color(u,f,y);var h,v,f=arguments[arguments.length-1],y=typeof f=="number"?(h=arguments[arguments.length-3],v=arguments[arguments.length-2],arguments[arguments.length-1]):(h=f.x,v=f.y,f.z);return this._renderer.pointLightPositions.push(h,v,y),this._renderer.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.imageLight=function(u){this._renderer.activeImageLight=u,this._renderer._enableLighting=!0},o.default.prototype.panorama=function(u){this.filter(this._renderer._getSphereMapping(u))},o.default.prototype.lights=function(){this._assert3d("lights");var u=this.color("rgb(128,128,128)");return this.ambientLight(u),this.directionalLight(u,0,0,-1),this},o.default.prototype.lightFalloff=function(u,i,d){return this._assert3d("lightFalloff"),o.default._validateParameters("lightFalloff",arguments),u<0&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),u===0&&i===0&&d===0&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=i,this._renderer.quadraticAttenuation=d,this},o.default.prototype.spotLight=function(u,i,d,p,m,c,h,v,f,y,g){this._assert3d("spotLight"),o.default._validateParameters("spotLight",arguments);var b,x,_,j=arguments.length;switch(j){case 11:case 10:b=this.color(u,i,d),x=new o.default.Vector(p,m,c),_=new o.default.Vector(h,v,f);break;case 9:u instanceof o.default.Color?(b=u,x=new o.default.Vector(i,d,p),_=new o.default.Vector(m,c,h),y=v,g=f):p instanceof o.default.Vector?(b=this.color(u,i,d),x=p,_=new o.default.Vector(m,c,h),y=v,g=f):h instanceof o.default.Vector?(b=this.color(u,i,d),x=new o.default.Vector(p,m,c),_=h,y=v,g=f):(b=this.color(u,i,d),x=new o.default.Vector(p,m,c),_=new o.default.Vector(h,v,f));break;case 8:y=(_=u instanceof o.default.Color?(b=u,x=new o.default.Vector(i,d,p),new o.default.Vector(m,c,h)):p instanceof o.default.Vector?(b=this.color(u,i,d),x=p,new o.default.Vector(m,c,h)):(b=this.color(u,i,d),x=new o.default.Vector(p,m,c),h),v);break;case 7:u instanceof o.default.Color&&i instanceof o.default.Vector?(b=u,x=i,_=new o.default.Vector(d,p,m),y=c,g=h):u instanceof o.default.Color&&m instanceof o.default.Vector?(b=u,x=new o.default.Vector(i,d,p),_=m,y=c,g=h):p instanceof o.default.Vector&&m instanceof o.default.Vector?(b=this.color(u,i,d),x=p,_=m,y=c,g=h):_=u instanceof o.default.Color?(b=u,x=new o.default.Vector(i,d,p),new o.default.Vector(m,c,h)):p instanceof o.default.Vector?(b=this.color(u,i,d),x=p,new o.default.Vector(m,c,h)):(b=this.color(u,i,d),x=new o.default.Vector(p,m,c),h);break;case 6:p instanceof o.default.Vector&&m instanceof o.default.Vector?(b=this.color(u,i,d),x=p,_=m,y=c):u instanceof o.default.Color&&m instanceof o.default.Vector?(b=u,x=new o.default.Vector(i,d,p),_=m,y=c):u instanceof o.default.Color&&i instanceof o.default.Vector&&(b=u,x=i,_=new o.default.Vector(d,p,m),y=c);break;case 5:u instanceof o.default.Color&&i instanceof o.default.Vector&&d instanceof o.default.Vector?(b=u,x=i,_=d,y=p,g=m):p instanceof o.default.Vector&&m instanceof o.default.Vector?(b=this.color(u,i,d),x=p,_=m):u instanceof o.default.Color&&m instanceof o.default.Vector?(b=u,x=new o.default.Vector(i,d,p),_=m):u instanceof o.default.Color&&i instanceof o.default.Vector&&(b=u,x=i,_=new o.default.Vector(d,p,m));break;case 4:b=u,x=i,_=d,y=p;break;case 3:b=u,x=i,_=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(j<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(x.x,x.y,x.z),_.normalize(),this._renderer.spotLightDirections.push(_.x,_.y,_.z),y===void 0&&(y=Math.PI/3),g!==void 0&&g<1?(g=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):g===void 0&&(g=100),y=this._renderer._pInst._toRadians(y),this._renderer.spotLightAngle.push(Math.cos(y)),this._renderer.spotLightConc.push(g),this._renderer._enableLighting=!0,this},o.default.prototype.noLights=function(){this._assert3d("noLights");for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];return o.default._validateParameters("noLights",i),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=o.default,l.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,a,l){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("regenerator-runtime/runtime");var u=(f=t("../core/main"))&&f.__esModule?f:{default:f};function i(y){return function(g){if(Array.isArray(g)){for(var b=0,x=new Array(g.length);b<g.length;b++)x[b]=g[b];return x}}(y)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(y,g,b,x,_,j,S){try{var D=y[j](S),E=D.value}catch(T){return void b(T)}D.done?g(E):Promise.resolve(E).then(x,_)}function p(y){return function(){var g=this,b=arguments;return new Promise(function(x,_){var j=y.apply(g,b);function S(E){d(j,x,_,S,D,"next",E)}function D(E){d(j,x,_,S,D,"throw",E)}S(void 0)})}}function m(y){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(g){return o(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":o(g)})(y)}function c(y,g,b){for(var x=2<arguments.length&&b!==void 0?b:{},_={v:[],vt:[],vn:[]},j={},S=null,D=new Set,E=!1,T=!1,F=0;F<g.length;++F){var A=g[F].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="usemtl")S=A[1];else if(A[0]==="v"||A[0]==="vn"){var L=new u.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));_[A[0]].push(L)}else if(A[0]==="vt")L=[parseFloat(A[1]),1-parseFloat(A[2])],_[A[0]].push(L);else if(A[0]==="f")for(var O=3;O<A.length;++O){for(var B=[],I=[1,O-1,O],N=0;N<I.length;++N){for(var H,V=A[I[N]],G=V.split("/"),Y=0;Y<G.length;Y++)G[Y]=parseInt(G[Y])-1;j[V]||(j[V]={}),j[V][S]===void 0?(H=y.vertices.length,y.vertices.push(_.v[G[0]].copy()),y.uvs.push(_.vt[G[1]]?_.vt[G[1]].slice():[0,0]),y.vertexNormals.push(_.vn[G[2]]?_.vn[G[2]].copy():new u.default.Vector),j[V][S]=H,B.push(H),S&&x[S]&&x[S].diffuseColor&&D.add(_.v[G[0]])):B.push(j[V][S])}if(B[0]!==B[1]&&B[0]!==B[2]&&B[1]!==B[2])if(y.faces.push(B),S&&x[S]&&x[S].diffuseColor)for(var E=E=!0,K=x[S].diffuseColor,se=0;se<B.length;se++)y.vertexColors.push(K[0]),y.vertexColors.push(K[1]),y.vertexColors.push(K[2]);else T=!0}}}if(y.vertexNormals.length===0&&y.computeNormals(),E===T)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function h(y,g){if(function(le){for(var ee=new DataView(le),pe=[115,111,108,105,100],_e=0;_e<5;_e++)if(function(De,xe,je){for(var Te=0,Ge=De.length;Te<Ge;Te++)if(De[Te]!==xe.getUint8(je+Te,!1))return;return 1}(pe,ee,_e))return;return 1}(g)){for(var b,x,_,j,S,D,E,T=y,F=new DataView(g),A=F.getUint32(80,!0),L=!1,O=0;O<70;O++)F.getUint32(O,!1)===1129270351&&F.getUint8(O+4)===82&&F.getUint8(O+5)===61&&(L=!0,j=[],S=F.getUint8(O+6)/255,D=F.getUint8(O+7)/255,E=F.getUint8(O+8)/255);for(var B=0;B<A;B++){for(var I,N=84+50*B,H=F.getFloat32(N,!0),V=F.getFloat32(4+N,!0),G=F.getFloat32(8+N,!0),Y=(L&&(I=F.getUint16(48+N,!0),_=(32768&I)==0?(b=(31&I)/31,x=(I>>5&31)/31,(I>>10&31)/31):(b=S,x=D,E)),new u.default.Vector(H,V,G)),K=1;K<=3;K++){var se=N+12*K,se=new u.default.Vector(F.getFloat32(se,!0),F.getFloat32(4+se,!0),F.getFloat32(8+se,!0));T.vertices.push(se),T.vertexNormals.push(Y),L&&j.push(b,x,_)}T.faces.push([3*B,3*B+1,3*B+2]),T.uvs.push([0,0],[0,0],[0,0])}}else if(g=new DataView(g),"TextDecoder"in window)for(var M,R,z=y,W=new TextDecoder("utf-8").decode(g).split(`
`),J="",te=[],ie=0;ie<W.length;++ie){for(var de=W[ie].trim(),oe=de.split(" "),he=0;he<oe.length;++he)oe[he]===""&&oe.splice(he,1);if(oe.length!==0)switch(J){case"":if(oe[0]!=="solid")return console.error(de),void console.error('Invalid state "'.concat(oe[0],'", should be "solid"'));J="solid";break;case"solid":if(oe[0]!=="facet"||oe[1]!=="normal")return console.error(de),void console.error('Invalid state "'.concat(oe[0],'", should be "facet normal"'));M=new u.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),z.vertexNormals.push(M,M,M),J="facet normal";break;case"facet normal":if(oe[0]!=="outer"||oe[1]!=="loop")return console.error(de),void console.error('Invalid state "'.concat(oe[0],'", should be "outer loop"'));J="vertex";break;case"vertex":if(oe[0]==="vertex")R=new u.default.Vector(parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])),z.vertices.push(R),z.uvs.push([0,0]),te.push(z.vertices.indexOf(R));else{if(oe[0]!=="endloop")return console.error(de),void console.error('Invalid state "'.concat(oe[0],'", should be "vertex" or "endloop"'));z.faces.push(te),te=[],J="endloop"}break;case"endloop":if(oe[0]!=="endfacet")return console.error(de),void console.error('Invalid state "'.concat(oe[0],'", should be "endfacet"'));J="endfacet";break;case"endfacet":if(oe[0]!=="endsolid"){if(oe[0]!=="facet"||oe[1]!=="normal")return console.error(de),void console.error('Invalid state "'.concat(oe[0],'", should be "endsolid" or "facet normal"'));M=new u.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),z.vertexNormals.push(M,M,M),J="facet normal"}break;default:console.error('Invalid state "'.concat(J,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),u.default.prototype.loadModel=function(y,g){u.default._validateParameters("loadModel",arguments);var b,x,_=!1,j=!1,S=!1,D=y.slice(-4),E=(g&&m(g)==="object"?(_=g.normalize||!1,b=g.successCallback,x=g.failureCallback,D=g.fileType||D,j=g.flipU||!1,S=g.flipV||!1):typeof g=="boolean"?(_=g,b=arguments[2],x=arguments[3],arguments[4]!==void 0&&(D=arguments[4])):(b=typeof g=="function"?g:void 0,x=arguments[2],arguments[3]!==void 0&&(D=arguments[3])),new u.default.Geometry),T=(E.gid="".concat(y,"|").concat(_),this);function F(){return(F=p(regeneratorRuntime.mark(function L(O){var B,I,N,H;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:for(B=[],I=0;I<O.length;I++)(N=O[I].match(/^mtllib (.+)/))&&function(){var G="",Y=N[1],K=y.split("/");G=1<K.length?(K.pop(),K.join("/")+"/"+Y):Y,B.push(function(){return A.apply(this,arguments)}(G).then(function(se){return se?(M=T,R=G,new Promise(function(z,W){var J=null,te={};M.loadStrings(R,function(ie){for(var de=0;de<ie.length;++de){var oe,he=ie[de].trim().split(/\s+/);he[0]==="newmtl"?(oe=he[1],te[J=oe]={}):he[0]==="Kd"?te[J].diffuseColor=[parseFloat(he[1]),parseFloat(he[2]),parseFloat(he[3])]:he[0]==="Ka"?te[J].ambientColor=[parseFloat(he[1]),parseFloat(he[2]),parseFloat(he[3])]:he[0]==="Ks"?te[J].specularColor=[parseFloat(he[1]),parseFloat(he[2]),parseFloat(he[3])]:he[0]==="map_Kd"&&(te[J].texturePath=he[1])}z(te)},W)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(G)),{});var M,R}).catch(function(se){return console.warn("Error loading MTL file: ".concat(G),se),{}}))}();return V.prev=2,V.next=5,Promise.all(B);case 5:return H=V.sent,H=Object.assign.apply(Object,[{}].concat(i(H))),V.abrupt("return",H);case 10:return V.prev=10,V.t0=V.catch(2),V.abrupt("return",{});case 13:case"end":return V.stop()}},L,null,[[2,10]])}))).apply(this,arguments)}function A(){return(A=p(regeneratorRuntime.mark(function L(O){var B;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,fetch(O,{method:"HEAD"});case 3:return B=I.sent,I.abrupt("return",B.ok);case 7:return I.prev=7,I.t0=I.catch(0),I.abrupt("return",!1);case 10:case"end":return I.stop()}},L,null,[[0,7]])}))).apply(this,arguments)}return D.match(/\.stl$/i)?this.httpDo(y,"GET","arrayBuffer",function(L){h(E,L),_&&E.normalize(),j&&E.flipU(),S&&E.flipV(),T._decrementPreload(),typeof b=="function"&&b(E)},x):D.match(/\.obj$/i)?this.loadStrings(y,function(){var L=p(regeneratorRuntime.mark(function O(B){var I;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,function(){return F.apply(this,arguments)}(B);case 3:I=N.sent,c(E,B,I),N.next=11;break;case 7:return N.prev=7,N.t0=N.catch(0),x?x(N.t0):u.default._friendlyError("Error during parsing: "+N.t0.message),N.abrupt("return");case 11:return N.prev=11,_&&E.normalize(),j&&E.flipU(),S&&E.flipV(),E._makeTriangleEdges(),T._decrementPreload(),typeof b=="function"&&b(E),N.finish(11);case 19:case"end":return N.stop()}},O,null,[[0,7,11,19]])}));return function(O){return L.apply(this,arguments)}}(),x):(u.default._friendlyFileLoadError(3,y),x?x():u.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),E},u.default.prototype.model=function(y){this._assert3d("model"),u.default._validateParameters("model",arguments),0<y.vertices.length&&(this._renderer.geometryInHash(y.gid)||(y._edgesToVertices(),this._renderer.createBuffers(y.gid,y)),this._renderer.drawBuffers(y.gid))};var v=0,f=(u.default.prototype.createModel=function(y){var g,b,x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",D=2<arguments.length?arguments[2]:void 0,_=(u.default._validateParameters("createModel",arguments),!1),j=!1,S=!1,D=(D&&m(D)==="object"?(_=D.normalize||!1,g=D.successCallback,b=D.failureCallback,j=D.flipU||!1,S=D.flipV||!1):b=typeof D=="boolean"?(_=D,g=arguments[3],arguments[4]):(g=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new u.default.Geometry);if(D.gid="".concat(x,"|").concat(_,"|").concat(v++),x.match(/\.stl$/i))try{h(D,new TextEncoder().encode(y).buffer)}catch(E){return void(b?b(E):u.default._friendlyError("Error during parsing: "+E.message))}else if(x.match(/\.obj$/i))try{c(D,y.split(`
`))}catch(E){return void(b?b(E):u.default._friendlyError("Error during parsing: "+E.message))}else u.default._friendlyFileLoadError(3,y),b?b():u.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return _&&D.normalize(),j&&D.flipU(),S&&D.flipV(),D._makeTriangleEdges(),typeof g=="function"&&g(D),D},u.default);l.default=f},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,a,l){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function u(c){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var v,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in c){var g;Object.prototype.hasOwnProperty.call(c,v)&&((g=y?Object.getOwnPropertyDescriptor(c,v):null)&&(g.get||g.set)?Object.defineProperty(f,v,g):f[v]=c[v])}return f.default=c,h&&h.set(c,f),f}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}t("./p5.Texture"),i.default.prototype.loadShader=function(c,h,v,f){i.default._validateParameters("loadShader",arguments),f=f||console.error;function y(){b._decrementPreload(),v&&v(g)}var g=new i.default.Shader,b=this,x=!1,_=!1;return this.loadStrings(c,function(j){g._vertSrc=j.join(`
`),_=!0,x&&y()},f),this.loadStrings(h,function(j){g._fragSrc=j.join(`
`),x=!0,_&&y()},f),g},i.default.prototype.createShader=function(c,h,v){return i.default._validateParameters("createShader",arguments),new i.default.Shader(this._renderer,c,h,v)},i.default.prototype.createFilterShader=function(c){i.default._validateParameters("createFilterShader",arguments);var h=c.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,h=new i.default.Shader(this._renderer,h,c);return this._renderer.GL?h.ensureCompiledOnContext(this):h.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),h},i.default.prototype.shader=function(c){return this._assert3d("shader"),i.default._validateParameters("shader",arguments),c.ensureCompiledOnContext(this),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),c.setDefaultUniforms(),this},i.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},i.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},i.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},i.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},i.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},i.default.prototype.texture=function(c){return this._assert3d("texture"),i.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.textureMode=function(c){c!==d.IMAGE&&c!==d.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=c},i.default.prototype.textureWrap=function(c){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,v=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=h,!0),f=!1,y=void 0;try{for(var g,b=this._renderer.textures.values()[Symbol.iterator]();!(v=(g=b.next()).done);v=!0)g.value.setWrapMode(c,h)}catch(x){f=!0,y=x}finally{try{v||b.return==null||b.return()}finally{if(f)throw y}}},i.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var c=arguments.length,h=new Array(c),v=0;v<c;v++)h[v]=arguments[v];return i.default._validateParameters("normalMaterial",h),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},i.default.prototype.ambientMaterial=function(c,h,v){this._assert3d("ambientMaterial"),i.default._validateParameters("ambientMaterial",arguments);var f=i.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=f._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.emissiveMaterial=function(c,h,v,f){this._assert3d("emissiveMaterial"),i.default._validateParameters("emissiveMaterial",arguments);var y=i.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=y._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.specularMaterial=function(c,h,v,f){this._assert3d("specularMaterial"),i.default._validateParameters("specularMaterial",arguments);var y=i.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=y._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.shininess=function(c){return this._assert3d("shininess"),i.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=c<1?1:c,this},i.default.prototype.metalness=function(c){return this._assert3d("metalness"),c=1-Math.exp(-c/100),this._renderer._useMetalness=c,this},i.default.RendererGL.prototype._applyColorBlend=function(c,y){var v=this.GL,f=this.drawMode===d.TEXTURE,y=y||this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==d.BLEND||c[c.length-1]<1||this._isErasing;return y!==this._isBlending&&(y||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?v.enable(v.BLEND):v.disable(v.BLEND),v.depthMask(!0),this._isBlending=y),this._applyBlendMode(),c},i.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case d.BLEND:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case d.ADD:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE);break;case d.REMOVE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case d.MULTIPLY:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case d.SCREEN:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case d.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case d.REPLACE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO);break;case d.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case d.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=i.default;l.default=m},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,a,l){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.prototype.camera=function(){var i;this._assert3d("camera");for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return o.default._validateParameters("camera",p),(i=this._renderer._curCamera).camera.apply(i,p),this},o.default.prototype.perspective=function(){var i;this._assert3d("perspective");for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return o.default._validateParameters("perspective",p),(i=this._renderer._curCamera).perspective.apply(i,p),this},o.default.prototype.linePerspective=function(i){if(o.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof o.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(i===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=i},o.default.prototype.ortho=function(){var i;this._assert3d("ortho");for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return o.default._validateParameters("ortho",p),(i=this._renderer._curCamera).ortho.apply(i,p),this},o.default.prototype.frustum=function(){var i;this._assert3d("frustum");for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return o.default._validateParameters("frustum",p),(i=this._renderer._curCamera).frustum.apply(i,p),this},o.default.prototype.createCamera=function(){this._assert3d("createCamera");var i=new o.default.Camera(this._renderer);return i._computeCameraDefaultSettings(),i._setDefaultCamera(),this._renderer._curCamera=i},o.default.Camera=function(){function i(m){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this._renderer=m,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new o.default.Matrix,this.projMatrix=new o.default.Matrix,this.yScale=1}var d,p;return d=i,(p=[{key:"perspective",value:function(f,c,h,v){this.cameraType=0<arguments.length?"custom":"default",f===void 0?(f=this.defaultCameraFOV,this.cameraFOV=f):this.cameraFOV=this._renderer._pInst._toRadians(f),c===void 0&&(c=this.defaultAspectRatio),h===void 0&&(h=this.defaultCameraNear),v===void 0&&(v=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),v<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=c,this.cameraNear=h,this.cameraFar=v,this.projMatrix=o.default.Matrix.identity();var f=1/Math.tan(this.cameraFOV/2),y=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(f/c,0,0,0,0,-f*this.yScale,0,0,0,0,(v+h)*y,-1,0,0,2*v*h*y,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(D,S,h,v,f,y){var E=this.fbo||this._renderer,E=(D===void 0&&(D=-E.width/2),S===void 0&&(S=+E.width/2),h===void 0&&(h=-E.height/2),v===void 0&&(v=+E.height/2),f===void 0&&(f=0),y===void 0&&(y=Math.max(E.width,E.height)+800),this.cameraNear=f,S-D),g=v-h,b=(this.cameraFar=y)-f,x=2/E,_=2/g*this.yScale,j=-2/b,S=-(S+D)/E,D=-(v+h)/g,E=-(y+f)/b;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(x,0,0,0,0,-_,0,0,0,0,j,0,S,D,E,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(D,S,h,v,f,y){D===void 0&&(D=.05*-this._renderer.width),S===void 0&&(S=.05*+this._renderer.width),h===void 0&&(h=.05*+this._renderer.height),v===void 0&&(v=.05*-this._renderer.height),f===void 0&&(f=this.defaultCameraNear),y===void 0&&(y=this.defaultCameraFar),this.cameraNear=f;var E=S-D,g=v-h,b=(this.cameraFar=y)-f,x=2*f/E,_=2*f/g*this.yScale,j=-2*y*f/b,S=(S+D)/E,D=(v+h)/g,E=-(y+f)/b;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(x,0,0,0,0,-_,0,0,S,D,E,-1,0,0,j,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(x,c,h,v){var f=this.centerX,y=this.centerY,g=this.centerZ,b=(f-=this.eyeX,y-=this.eyeY,g-=this.eyeZ,o.default.Matrix.identity(this._renderer._pInst)),x=(b.rotate(this._renderer._pInst._toRadians(x),c,h,v),[f*b.mat4[0]+y*b.mat4[4]+g*b.mat4[8],f*b.mat4[1]+y*b.mat4[5]+g*b.mat4[9],f*b.mat4[2]+y*b.mat4[6]+g*b.mat4[10]]);x[0]+=this.eyeX,x[1]+=this.eyeY,x[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,x[0],x[1],x[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(h){var c=this._getLocalAxes(),h=o.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(h),c.z[0],c.z[1],c.z[2]).rotateVector(new o.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"pan",value:function(m){var c=this._getLocalAxes();this._rotateView(m,c.y[0],c.y[1],c.y[2])}},{key:"tilt",value:function(m){var c=this._getLocalAxes();this._rotateView(m,c.x[0],c.x[1],c.x[2])}},{key:"lookAt",value:function(m,c,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,m,c,h,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(m,c,h,v,f,y,g,b,x){return m===void 0&&(m=this.defaultEyeX,c=this.defaultEyeY,h=this.defaultEyeZ,v=m,f=c,b=1,x=g=y=0),this.eyeX=m,this.eyeY=c,this.eyeZ=h,v!==void 0&&(this.centerX=v,this.centerY=f,this.centerZ=y),g!==void 0&&(this.upX=g,this.upY=b,this.upZ=x),v=this._getLocalAxes(),this.cameraMatrix.set(v.x[0],v.y[0],v.z[0],0,v.x[1],v.y[1],v.z[1],0,v.x[2],v.y[2],v.z[2],0,0,0,0,1),f=-m,this.cameraMatrix.translate([f,-c,-h]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(v,f,h){var y=this._getLocalAxes(),v=[y.x[0]*v,y.x[1]*v,y.x[2]*v],f=[y.y[0]*f,y.y[1]*f,y.y[2]*f],y=[y.z[0]*h,y.z[1]*h,y.z[2]*h];this.camera(this.eyeX+v[0]+f[0]+y[0],this.eyeY+v[1]+f[1]+y[1],this.eyeZ+v[2]+f[2]+y[2],this.centerX+v[0]+f[0]+y[0],this.centerY+v[1]+f[1]+y[1],this.centerZ+v[2]+f[2]+y[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(m,c,h){var v=m-this.eyeX,f=c-this.eyeY,y=h-this.eyeZ;this.camera(m,c,h,this.centerX+v,this.centerY+f,this.centerZ+y,this.upX,this.upY,this.upZ)}},{key:"set",value:function(m){for(var c=0,h=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];c<h.length;c++){var v=h[c];this[v]=m[v]}this.cameraMatrix=m.cameraMatrix.copy(),this.projMatrix=m.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(m,c,h){var v,f,y,g,b,x,_,j,S,D,E,T,F,A,L,O,B,I;h===0?this.set(m):h===1?this.set(c):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=m.projMatrix.mat4[0]*Math.pow(c.projMatrix.mat4[0]/m.projMatrix.mat4[0],h),this.projMatrix.mat4[5]=m.projMatrix.mat4[5]*Math.pow(c.projMatrix.mat4[5]/m.projMatrix.mat4[5],h),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),g=new o.default.Vector(m.eyeX,m.eyeY,m.eyeZ),b=new o.default.Vector(c.eyeX,c.eyeY,c.eyeZ),O=new o.default.Vector(m.centerX,m.centerY,m.centerZ),I=new o.default.Vector(c.centerX,c.centerY,c.centerZ),y=o.default.Vector.dist(g,O),v=o.default.Vector.dist(b,I),v=y*Math.pow(v/y,h),y=o.default.Vector.sub(g,b),f=1,1e-6<(B=(A=g.copy().sub(b).sub(O).add(I)).magSq())&&(f=o.default.Vector.dot(y,A)/B,f=Math.max(0,Math.min(f,1))),y=o.default.Vector.lerp(o.default.Vector.lerp(g,O,f),o.default.Vector.lerp(b,I,f),h),A=m.cameraMatrix.createSubMatrix3x3(),B=c.cameraMatrix.createSubMatrix3x3(),g=A.row(2),O=B.row(2),b=A.row(1),I=B.row(1),m=new o.default.Vector,c=new o.default.Vector,x=new o.default.Vector,_=new o.default.Vector,1-(j=.5*((A=(B=B.mult3x3(A.copy().transpose3x3())).diagonal())[0]+A[1]+A[2]-1))<1e-7?(m.set(o.default.Vector.lerp(g,O,h)).normalize(),x.set(m).mult(f*v).add(y),_.set(m).mult((f-1)*v).add(y),c.set(o.default.Vector.lerp(b,I,h)).normalize()):(O=1/(1-j),I=Math.max(A[0],A[1],A[2]),T=B.mat3[1]+B.mat3[3],F=B.mat3[2]+B.mat3[6],L=B.mat3[5]+B.mat3[7],I=I===A[0]?(D=.5*T*(O/=S=Math.sqrt((A[0]-j)*O)),E=.5*F*O,.5*(B.mat3[7]-B.mat3[5])/S):I===A[1]?(E=.5*L*(O/=D=Math.sqrt((A[1]-j)*O)),S=.5*T*O,.5*(B.mat3[2]-B.mat3[6])/D):(S=.5*F*(O/=E=Math.sqrt((A[2]-j)*O)),D=.5*L*O,.5*(B.mat3[3]-B.mat3[1])/E),T=h*Math.atan2(I,j),F=Math.cos(T),A=Math.sin(T),(I=new o.default.Matrix("mat3",[F+(L=1-F)*S*S,L*(O=S*D)+A*E,L*(B=E*S)-A*D,L*O-A*E,F+L*D*D,L*(h=D*E)+A*S,L*B+A*D,L*h-A*S,F+L*E*E])).multiplyVec3(g,m),x.set(m).mult(f*v).add(y),_.set(m).mult((f-1)*v).add(y),I.multiplyVec3(b,c)),this.camera(x.x,x.y,x.z,_.x,_.y,_.z,c.x,c.y,c.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var m=new o.default.Camera(this._renderer);return m.cameraFOV=this.cameraFOV,m.aspectRatio=this.aspectRatio,m.eyeX=this.eyeX,m.eyeY=this.eyeY,m.eyeZ=this.eyeZ,m.centerX=this.centerX,m.centerY=this.centerY,m.centerZ=this.centerZ,m.upX=this.upX,m.upY=this.upY,m.upZ=this.upZ,m.cameraNear=this.cameraNear,m.cameraFar=this.cameraFar,m.cameraType=this.cameraType,m.useLinePerspective=this.useLinePerspective,m.cameraMatrix=this.cameraMatrix.copy(),m.projMatrix=this.projMatrix.copy(),m.yScale=this.yScale,m}},{key:"_getLocalAxes",value:function(){var m=this.eyeX-this.centerX,c=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,g=Math.sqrt(m*m+c*c+h*h),g=(g!==0&&(m/=g,c/=g,h/=g),this.upX),v=(b=this.upY)*h-(x=this.upZ)*c,f=-g*h+x*m,y=g*c-b*m,g=c*y-h*f,b=-m*y+h*v,x=m*f-c*v,_=Math.sqrt(v*v+f*f+y*y),_=(_!==0&&(v/=_,f/=_,y/=_),Math.sqrt(g*g+b*b+x*x));return _!==0&&(g/=_,b/=_,x/=_),{x:[v,f,y],y:[g,b,x],z:[m,c,h]}}},{key:"_orbit",value:function(m,_,x){var f=this.eyeX-this.centerX,y=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,v=Math.hypot(f,y,g),f=new o.default.Vector(f,y,g).normalize(),y=new o.default.Vector(this.upX,this.upY,this.upZ).normalize(),g=o.default.Vector.cross(y,f).normalize(),b=o.default.Vector.cross(g,y),x=((v=(v*=Math.pow(10,x))<this.cameraNear?this.cameraNear:v)>this.cameraFar&&(v=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,o.default.Vector.dot(f,y))))+_),_=m;(x<=0||x>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),y.mult(Math.cos(x)),b.mult(Math.cos(_)*Math.sin(x)),g.mult(Math.sin(_)*Math.sin(x)),f.set(y).add(b).add(g),this.eyeX=v*f.x+this.centerX,this.eyeY=v*f.y+this.centerY,this.eyeZ=v*f.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(x,_,S){var f=this.eyeX-this.centerX,y=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,v=Math.hypot(f,y,g),f=new o.default.Vector(f,y,g).normalize(),y=new o.default.Vector(this.upX,this.upY,this.upZ),g=o.default.Vector.cross(y,f).normalize(),b=o.default.Vector.cross(f,g),D=Math.atan2(_,x),D=(b.mult(Math.sin(D)),g.mult(Math.cos(D)).add(b),Math.sqrt(x*x+_*_)),b=o.default.Vector.cross(f,g),x=((v=(v*=Math.pow(10,S))<this.cameraNear?this.cameraNear:v)>this.cameraFar&&(v=this.cameraFar),Math.cos(D)),_=Math.sin(D),S=y.dot(f),D=y.dot(g),j=S*x+D*_,S=-S*_+D*x,D=y.dot(b);y.x=j*f.x+S*g.x+D*b.x,y.y=j*f.y+S*g.y+D*b.y,y.z=j*f.z+S*g.z+D*b.z,g.mult(-_),f.mult(x).add(g).mult(v),this.camera(f.x+this.centerX,f.y+this.centerY,f.z+this.centerZ,this.centerX,this.centerY,this.centerZ,y.x,y.y,y.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&u(d.prototype,p),i}(),o.default.prototype.setCamera=function(i){this._renderer._curCamera=i,this._renderer.uPMatrix.set(i.projMatrix),this._renderer.uViewMatrix.set(i.cameraMatrix)},t=o.default.Camera,l.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,a,l){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,i){for(var d=0;d<i.length;d++){var p=i[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}t.default.DataArray=function(){function u(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,m=this,c=u;if(!(m instanceof c))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(p),this.initialLength=p}var i,d;return i=u,(d=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var p;this.length<this.data.length/2&&(p=1<<Math.ceil(Math.log2(this.length)),(p=new Float32Array(p)).set(this.data.subarray(0,this.length),0),this.data=p)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var p=arguments.length,m=new Array(p),c=0;c<p;c++)m[c]=arguments[c];this.ensureLength(this.length+m.length),this.data.set(m,this.length),this.length+=m.length}},{key:"slice",value:function(p,m){return this.data.slice(p,Math.min(m,this.length))}},{key:"subArray",value:function(p,m){return this.data.subarray(p,Math.min(m,this.length))}},{key:"ensureLength",value:function(p){for(;this.data.length<p;){var m=new Float32Array(2*this.data.length);m.set(this.data,0),this.data=m}}}])&&o(i.prototype,d),u}(),t=t.default.DataArray,l.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(T,a,l){function o(F){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(F)}function u(F){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(A){return o(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":o(A)})(F)}T("core-js/modules/es.symbol"),T("core-js/modules/es.symbol.description"),T("core-js/modules/es.symbol.iterator"),T("core-js/modules/es.array.fill"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.object.get-own-property-descriptor"),T("core-js/modules/es.object.get-prototype-of"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.reflect.construct"),T("core-js/modules/es.reflect.get"),T("core-js/modules/es.regexp.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.iterator"),T("core-js/modules/es.typed-array.float32-array"),T("core-js/modules/es.typed-array.uint8-array"),T("core-js/modules/es.typed-array.uint8-clamped-array"),T("core-js/modules/es.typed-array.copy-within"),T("core-js/modules/es.typed-array.every"),T("core-js/modules/es.typed-array.fill"),T("core-js/modules/es.typed-array.filter"),T("core-js/modules/es.typed-array.find"),T("core-js/modules/es.typed-array.find-index"),T("core-js/modules/es.typed-array.for-each"),T("core-js/modules/es.typed-array.includes"),T("core-js/modules/es.typed-array.index-of"),T("core-js/modules/es.typed-array.iterator"),T("core-js/modules/es.typed-array.join"),T("core-js/modules/es.typed-array.last-index-of"),T("core-js/modules/es.typed-array.map"),T("core-js/modules/es.typed-array.reduce"),T("core-js/modules/es.typed-array.reduce-right"),T("core-js/modules/es.typed-array.reverse"),T("core-js/modules/es.typed-array.set"),T("core-js/modules/es.typed-array.slice"),T("core-js/modules/es.typed-array.some"),T("core-js/modules/es.typed-array.sort"),T("core-js/modules/es.typed-array.subarray"),T("core-js/modules/es.typed-array.to-locale-string"),T("core-js/modules/es.typed-array.to-string"),T("core-js/modules/es.weak-map"),T("core-js/modules/web.dom-collections.iterator"),T("core-js/modules/es.array.fill"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.object.get-prototype-of"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.typed-array.float32-array"),T("core-js/modules/es.typed-array.uint8-array"),T("core-js/modules/es.typed-array.uint8-clamped-array"),T("core-js/modules/es.typed-array.copy-within"),T("core-js/modules/es.typed-array.every"),T("core-js/modules/es.typed-array.fill"),T("core-js/modules/es.typed-array.filter"),T("core-js/modules/es.typed-array.find"),T("core-js/modules/es.typed-array.find-index"),T("core-js/modules/es.typed-array.for-each"),T("core-js/modules/es.typed-array.includes"),T("core-js/modules/es.typed-array.index-of"),T("core-js/modules/es.typed-array.iterator"),T("core-js/modules/es.typed-array.join"),T("core-js/modules/es.typed-array.last-index-of"),T("core-js/modules/es.typed-array.map"),T("core-js/modules/es.typed-array.reduce"),T("core-js/modules/es.typed-array.reduce-right"),T("core-js/modules/es.typed-array.reverse"),T("core-js/modules/es.typed-array.set"),T("core-js/modules/es.typed-array.slice"),T("core-js/modules/es.typed-array.some"),T("core-js/modules/es.typed-array.sort"),T("core-js/modules/es.typed-array.subarray"),T("core-js/modules/es.typed-array.to-locale-string"),T("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(E=T("../core/main"))&&E.__esModule?E:{default:E},d=function(F){if(F&&F.__esModule)return F;if(F===null||u(F)!=="object"&&typeof F!="function")return{default:F};var A=c();if(A&&A.has(F))return A.get(F);var L,O={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in F){var I;Object.prototype.hasOwnProperty.call(F,L)&&((I=B?Object.getOwnPropertyDescriptor(F,L):null)&&(I.get||I.set)?Object.defineProperty(O,L,I):O[L]=F[L])}return O.default=F,A&&A.set(F,O),O}(T("../core/constants")),p=T("./p5.Texture"),m=T("./p5.RendererGL");function c(){var F;return typeof WeakMap!="function"?null:(F=new WeakMap,c=function(){return F},F)}function h(F,A){return function(L){if(Array.isArray(L))return L}(F)||function(L,O){if(Symbol.iterator in Object(L)||Object.prototype.toString.call(L)==="[object Arguments]"){var B=[],I=!0,N=!1,H=void 0;try{for(var V,G=L[Symbol.iterator]();!(I=(V=G.next()).done)&&(B.push(V.value),!O||B.length!==O);I=!0);}catch(Y){N=!0,H=Y}finally{try{I||G.return==null||G.return()}finally{if(N)throw H}}return B}}(F,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(F,A,L){return A in F?Object.defineProperty(F,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):F[A]=L,F}function f(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}function y(F,A){for(var L=0;L<A.length;L++){var O=A[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}function g(F,A,L){A&&y(F.prototype,A)}function b(F,A,L){return(b=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(N,B,I){var N=function(H,V){for(;!Object.prototype.hasOwnProperty.call(H,V)&&(H=j(H))!==null;);return H}(N,B);if(N)return(N=Object.getOwnPropertyDescriptor(N,B)).get?N.get.call(I):N.value})(F,A,L||F)}function x(F,A){return(x=Object.setPrototypeOf||function(L,O){return L.__proto__=O,L})(F,A)}function _(F){return function(){var A,L=j(F),L=(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=j(this).constructor,Reflect.construct(L,arguments,A)):L.apply(this,arguments),this);if(!A||u(A)!=="object"&&typeof A!="function"){if(L!==void 0)return L;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return A}}function j(F){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(F)}var S=function(F){var A=O;if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(F&&F.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),F&&x(A,F);var L=_(O);function O(B){var I;return f(this,O),(I=L.call(this,B.target._renderer)).fbo=B,I.yScale=-1,I}return g(O,[{key:"_computeCameraDefaultSettings",value:function(){b(j(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),O}(i.default.Camera),D=(i.default.FramebufferCamera=S,function(){function F(A,L){f(this,F),this.framebuffer=A,this.property=L}return g(F,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),F}()),E=(i.default.FramebufferTexture=D,function(){function F(A){var L=this,O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},B=(f(this,F),this.target=A,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=O.format||d.UNSIGNED_BYTE,this.channels=O.channels||(A._renderer._pInst._glAttributes.alpha?d.RGBA:d.RGB),this.useDepth=O.depth===void 0||O.depth,this.depthFormat=O.depthFormat||d.FLOAT,this.textureFiltering=O.textureFiltering||d.LINEAR,O.antialias===void 0?this.antialiasSamples=A._renderer._pInst._glAttributes.antialias?2:0:typeof O.antialias=="number"?this.antialiasSamples=O.antialias:this.antialiasSamples=O.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&A.webglVersion!==d.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=O.density||A.pixelDensity(),A._renderer.GL);if(this.gl=B,O.width&&O.height?(I=A._renderer._adjustDimensions(O.width,O.height),this.width=I.adjustedWidth,this.height=I.adjustedHeight,this._autoSized=!1):(O.width===void 0!=(O.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=A.width,this.height=A.height,this._autoSized=!0),this._checkIfFormatsAvailable(),O.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(O.stencil===void 0||O.stencil),this.framebuffer=B.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=B.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var I=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=I,this.draw(function(){return L.target.clear()})}return g(F,[{key:"resize",value:function(A,L){this._autoSized=!1;var O=this.target._renderer._adjustDimensions(A,L);A=O.adjustedWidth,L=O.adjustedHeight,this.width=A,this.height=L,this._handleResize()}},{key:"pixelDensity",value:function(A){if(!A)return this.density;this._autoSized=!1,this.density=A,this._handleResize()}},{key:"autoSized",value:function(A){if(A===void 0)return this._autoSized;this._autoSized=A,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var A=this.gl,A=(this.useDepth&&this.target.webglVersion===d.WEBGL&&!A.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===d.WEBGL&&this.depthFormat===d.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),[d.UNSIGNED_BYTE,d.FLOAT,d.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&![d.UNSIGNED_INT,d.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=d.FLOAT),(0,p.checkWebGLCapabilities)(this.target._renderer));A.float||this.format!==d.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&!A.float&&this.depthFormat===d.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),A.halfFloat||this.format!==d.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.channels===d.RGB&&[d.FLOAT,d.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=d.RGBA)}},{key:"_recreateTextures",value:function(){var A=this.gl,L=(this._updateSize(),A.getParameter(A.TEXTURE_BINDING_2D)),O=A.getParameter(A.FRAMEBUFFER_BINDING),B=A.createTexture();if(!B)throw new Error("Unable to create color texture");A.bindTexture(A.TEXTURE_2D,B);var I=this._glColorFormat();if(A.texImage2D(A.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,null),this.colorTexture=B,A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,B,0),this.useDepth){var B=A.createTexture();if(!B)throw new Error("Unable to create depth texture");var N=this._glDepthFormat();A.bindTexture(A.TEXTURE_2D,B),A.texImage2D(A.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,null),A.framebufferTexture2D(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.TEXTURE_2D,B,0),this.depthTexture=B}this.antialias&&(this.colorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.colorRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),I.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(N=this._glDepthFormat(),this.depthRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.depthRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),N.internalFormat,this.width*this.density,this.height*this.density)),A.bindFramebuffer(A.FRAMEBUFFER,this.aaFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&A.framebufferRenderbuffer(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new D(this,"depthTexture"),B=A.NEAREST,this.depthP5Texture=new i.default.Texture(this.target._renderer,this.depth,{minFilter:B,magFilter:B}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new D(this,"colorTexture"),I=this.textureFiltering===d.LINEAR?A.LINEAR:A.NEAREST,this.colorP5Texture=new i.default.Texture(this.target._renderer,this.color,{minFilter:I,magFilter:I}),this.target._renderer.textures.set(this.color,this.colorP5Texture),A.bindTexture(A.TEXTURE_2D,L),A.bindFramebuffer(A.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var A,L,O=this.gl,B=this.format===d.FLOAT?O.FLOAT:this.format===d.HALF_FLOAT?this.target.webglVersion===d.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,I=this.channels===d.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===d.WEBGL2?(v(L={},O.FLOAT,v({},O.RGBA,O.RGBA32F)),v(L,O.HALF_FLOAT,v({},O.RGBA,O.RGBA16F)),v(L,O.UNSIGNED_BYTE,(v(A={},O.RGBA,O.RGBA8),v(A,O.RGB,O.RGB8),A)),L[B][I]):this.format===d.HALF_FLOAT?O.RGBA:I,format:I,type:B}}},{key:"_glDepthFormat",value:function(){var O=this.gl,A=this.useStencil?this.depthFormat===d.FLOAT?O.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===d.WEBGL2?O.UNSIGNED_INT_24_8:O.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===d.FLOAT?O.FLOAT:O.UNSIGNED_INT,L=this.useStencil?O.DEPTH_STENCIL:O.DEPTH_COMPONENT,O=this.useStencil?this.depthFormat===d.FLOAT?O.DEPTH32F_STENCIL8:this.target.webglVersion===d.WEBGL2?O.DEPTH24_STENCIL8:O.DEPTH_STENCIL:this.target.webglVersion===d.WEBGL2?this.depthFormat===d.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT;return{internalFormat:O,format:L,type:A}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var B=this.color,A=this.depth,L=this.colorRenderbuffer,O=this.depthRenderbuffer,B=(this._deleteTexture(B),A&&this._deleteTexture(A),this.gl);L&&B.deleteRenderbuffer(L),O&&B.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var A=new S(this);return A._computeCameraDefaultSettings(),A._setDefaultCamera(),this.target._renderer._curCamera=A}},{key:"_deleteTexture",value:function(A){this.gl.deleteTexture(A.rawTexture()),this.target._renderer.textures.delete(A)}},{key:"remove",value:function(){var A=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),A.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&A.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&A.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&A.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var A=this.gl,L=(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.aaFramebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,this.framebuffer),[[A.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&L.push([A.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,B=L;O<B.length;O++){var N=h(B[O],2),I=N[0],N=N[1];A.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,I,N)}}}},{key:"end",value:function(){var A=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(A.bindFramebuffer(A.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(A){this.begin(),A(),this.end()}},{key:"loadPixels",value:function(){var A=this.gl,L=this.target._renderer.activeFramebuffer(),O=(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,m.readPixelsWebGL)(this.pixels,A,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),L?A.bindFramebuffer(A.FRAMEBUFFER,L._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null)}},{key:"get",value:function(A,L,O,B){i.default._validateParameters("p5.Framebuffer.get",arguments);var I=this._glColorFormat();if(A===void 0&&L===void 0)L=A=0,O=this.width,B=this.height;else if(O===void 0&&B===void 0)return(A<0||L<0||A>=this.width||L>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),A=this.target.constrain(A,0,this.width-1),L=this.target.constrain(L,0,this.height-1)),(0,m.readPixelWebGL)(this.gl,this.framebuffer,A*this.density,L*this.density,I.format,I.type);A=this.target.constrain(A,0,this.width-1),L=this.target.constrain(L,0,this.height-1),O=this.target.constrain(O,1,this.width-A),B=this.target.constrain(B,1,this.height-L);for(var N=(0,m.readPixelsWebGL)(void 0,this.gl,this.framebuffer,A*this.density,L*this.density,O*this.density,B*this.density,I.format,I.type),H=new Uint8ClampedArray(O*B*this.density*this.density*4),V=(H.fill(255),I.type===this.gl.RGB?3:4),G=0;G<B*this.density;G++)for(var Y=0;Y<O*this.density;Y++)for(var K=0;K<4;K++){var se,M=4*(G*O*this.density+Y)+K;K<V&&(se=V==4?M:(G*O*this.density+Y)*V+K,H[M]=N[se])}return A=new i.default.Image(O*this.density,B*this.density),A.imageData=A.canvas.getContext("2d").createImageData(A.width,A.height),A.imageData.data.set(H),A.pixels=A.imageData.data,A.updatePixels(),this.density!==1&&A.resize(O,B),A}},{key:"updatePixels",value:function(){var A=this.gl,L=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=L.format===A.RGBA?4:3,O=this.width*this.height*this.density*this.density*O,B=L.type===A.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof B)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");A.texImage2D(A.TEXTURE_2D,0,L.internalFormat,this.width*this.density,this.height*this.density,0,L.format,L.type,this.pixels),this.colorP5Texture.unbindTexture(),B=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),this.end()):(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),B?A.bindFramebuffer(A.FRAMEBUFFER,B._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null))}}]),F}()),T=i.default.Framebuffer=E;l.default=T},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,a,l){function o(f){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function u(f){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(y){return o(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":o(y)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(v=t("../core/main"))&&v.__esModule?v:{default:v},d=function(f){if(f&&f.__esModule)return f;if(f===null||u(f)!=="object"&&typeof f!="function")return{default:f};var y=p();if(y&&y.has(f))return y.get(f);var g,b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var _;Object.prototype.hasOwnProperty.call(f,g)&&((_=x?Object.getOwnPropertyDescriptor(f,g):null)&&(_.get||_.set)?Object.defineProperty(b,g,_):b[g]=f[g])}return b.default=f,y&&y.set(f,b),b}(t("../core/constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function m(f){return function(y){if(Array.isArray(y)){for(var g=0,b=new Array(y.length);g<y.length;g++)b[g]=y[g];return b}}(f)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f,y){return function(g){if(Array.isArray(g))return g}(f)||function(g,b){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var x=[],_=!0,j=!1,S=void 0;try{for(var D,E=g[Symbol.iterator]();!(_=(D=E.next()).done)&&(x.push(D.value),!b||x.length!==b);_=!0);}catch(T){j=!0,S=T}finally{try{_||E.return==null||E.return()}finally{if(j)throw S}}return x}}(f,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(f,y){for(var g=0;g<y.length;g++){var b=y[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}i.default.Geometry=function(){function f(b,x,_){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new i.default.DataArray,this.lineTangentsIn=new i.default.DataArray,this.lineTangentsOut=new i.default.DataArray,this.lineSides=new i.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new i.default.DataArray,this.detailX=b!==void 0?b:1,this.detailY=x!==void 0?x:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,_ instanceof Function&&_.call(this)}var y,g;return y=f,(g=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var b=new i.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),x=new i.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),_=0;_<this.vertices.length;_++){var j=this.vertices[_];b.x=Math.min(b.x,j.x),b.y=Math.min(b.y,j.y),b.z=Math.min(b.z,j.z),x.x=Math.max(x.x,j.x),x.y=Math.max(x.y,j.y),x.z=Math.max(x.z,j.z)}var S=new i.default.Vector(x.x-b.x,x.y-b.y,x.z-b.z),D=new i.default.Vector((b.x+x.x)/2,(b.y+x.y)/2,(b.z+x.z)/2);this.boundingBoxCache={min:b,max:x,size:S,offset:D}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var b=0;b<this.vertexColors.length;b+=4)if(this.vertexColors[b+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var b=0;b<this.lineVertexColors.length;b+=4)if(this.lineVertexColors[b+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var b=this,x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",_="";if(this.vertices.forEach(function(D){_+="v ".concat(D.x," ").concat(D.y," ").concat(D.z,`
`)}),this.uvs&&0<this.uvs.length)for(var j=0;j<this.uvs.length;j+=2)_+="vt ".concat(this.uvs[j]," ").concat(this.uvs[j+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(D){_+="vn ".concat(D.x," ").concat(D.y," ").concat(D.z,`
`)}),this.faces.forEach(function(D){var E="f";D.forEach(function(T){E=E+" "+(T+1),(0<b.vertexNormals.length||0<b.uvs.length)&&(E+="/",0<b.uvs.length&&(E+=T+1),E+="/",0<b.vertexNormals.length&&(E+=T+1))}),_+=E+`
`});var S=new Blob([_],{type:"text/plain"});i.default.prototype.downloadFile(S,x,"obj")}},{key:"saveStl",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",x=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,x=x!==void 0&&x,_=b.substring(0,b.lastIndexOf(".")),j=[],S=!0,D=!1,E=void 0;try{for(var T,F=this.faces[Symbol.iterator]();!(S=(T=F.next()).done);S=!0){var A=T.value,L=i.default.Vector.sub(this.vertices[A[1]],this.vertices[A[0]]),O=i.default.Vector.sub(this.vertices[A[2]],this.vertices[A[0]]),B=L.y*O.z-L.z*O.y,I=L.z*O.x-L.x*O.z,N=L.x*O.y-L.y*O.x;j.push(new i.default.Vector(B,I,N).normalize())}}catch(je){D=!0,E=je}finally{try{S||F.return==null||F.return()}finally{if(D)throw E}}if(x){var H,V=80,D=2*this.faces.length+3*this.faces.length*4*4+80+4,E=new ArrayBuffer(D);(H=new DataView(E)).setUint32(V,this.faces.length,!0),V+=4;for(var G=0,Y=Object.entries(this.faces);G<Y.length;G++){var K=c(Y[G],2),M=K[0],K=K[1],M=j[M],se=(H.setFloat32(V,M.x,!0),V+=4,H.setFloat32(V,M.y,!0),V+=4,H.setFloat32(V,M.z,!0),V+=4,!0),M=!1,R=void 0;try{for(var z,W=K[Symbol.iterator]();!(se=(z=W.next()).done);se=!0){var J=z.value,te=this.vertices[J];H.setFloat32(V,te.x,!0),V+=4,H.setFloat32(V,te.y,!0),V+=4,H.setFloat32(V,te.z,!0),V+=4}}catch(Ge){M=!0,R=Ge}finally{try{se||W.return==null||W.return()}finally{if(M)throw R}}H.setUint16(V,0,!0),V+=2}}else{H="solid "+_+`
`;for(var ie=0,de=Object.entries(this.faces);ie<de.length;ie++){var oe=c(de[ie],2),le=oe[0],oe=oe[1],le=j[le],he=(H=H+(" facet norm "+le.x+" "+le.y+" "+le.z+`
`)+`  outer loop
`,!0),le=!1,ee=void 0;try{for(var pe,_e=oe[Symbol.iterator]();!(he=(pe=_e.next()).done);he=!0){var De=pe.value,xe=this.vertices[De];H+="   vertex "+xe.x+" "+xe.y+" "+xe.z+`
`}}catch(je){le=!0,ee=je}finally{try{he||_e.return==null||_e.return()}finally{if(le)throw ee}}H=H+`  endloop
 endfacet
`}H+="endsolid "+_+`
`}x=new Blob([H],{type:"text/plain"}),i.default.prototype.downloadFile(x,b,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(b,x){return x%2==0?1-b:b})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(b,x){return x%2==0?b:1-b})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var b,x,_,j=this.detailX+1,S=0;S<this.detailY;S++)for(var D=0;D<this.detailX;D++)x=(S+1)*j+D+1,this.faces.push([S*j+D,b=S*j+D+1,_=(S+1)*j+D]),this.faces.push([_,b,x]);return this}},{key:"_getFaceNormal",value:function(x){var x=this.faces[x],_=this.vertices[x[0]],S=this.vertices[x[1]],x=this.vertices[x[2]],S=i.default.Vector.sub(S,_),x=i.default.Vector.sub(x,_),_=i.default.Vector.cross(S,x),j=i.default.Vector.mag(_),S=j/(i.default.Vector.mag(S)*i.default.Vector.mag(x));return S===0||isNaN(S)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),_):(1<S&&(S=1),_.mult(Math.asin(S)/j))}},{key:"computeNormals",value:function(){var b,x=this,_=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d.FLAT,j=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,S=this.vertexNormals,D=this.vertices,E=this.faces;if(_===d.SMOOTH){for(var T={},F=[],A=Math.pow(10,j===void 0?3:j),L=function(H){return Math.round(H*A)/A},O=function(H){return"".concat(L(H.x),",").concat(L(H.y),",").concat(L(H.z))},B=0;B<D.length;B++){var I=D[B],N=O(I);T[N]===void 0&&(T[N]=F.length,F.push(I))}E.forEach(function(H){for(var V=0;V<3;++V){var G=H[V],G=D[G],G=O(G);H[V]=T[G]}}),this.edges.forEach(function(H){for(var V=0;V<2;++V){var G=H[V],G=D[G],G=O(G);H[V]=T[G]}}),this.vertices=D=F}for(b=S.length=0;b<D.length;++b)S.push(new i.default.Vector);for(E.forEach(function(H,V){for(var G=x._getFaceNormal(V),Y=0;Y<3;++Y){var K=H[Y];S[K].add(G)}}),b=0;b<D.length;++b)S[b].normalize();return this}},{key:"averageNormals",value:function(){for(var b=0;b<=this.detailY;b++){var x=this.detailX+1,_=i.default.Vector.add(this.vertexNormals[b*x],this.vertexNormals[b*x+this.detailX]),_=i.default.Vector.div(_,2);this.vertexNormals[b*x]=_,this.vertexNormals[b*x+this.detailX]=_}return this}},{key:"averagePoleNormals",value:function(){for(var b=new i.default.Vector(0,0,0),x=0;x<this.detailX;x++)b.add(this.vertexNormals[x]);for(var b=i.default.Vector.div(b,this.detailX),_=0;_<this.detailX;_++)this.vertexNormals[_]=b;b=new i.default.Vector(0,0,0);for(var j=this.vertices.length-1;j>this.vertices.length-1-this.detailX;j--)b.add(this.vertexNormals[j]);b=i.default.Vector.div(b,this.detailX);for(var S=this.vertices.length-1;S>this.vertices.length-1-this.detailX;S--)this.vertexNormals[S]=b;return this}},{key:"_makeTriangleEdges",value:function(){for(var b=this.edges.length=0;b<this.faces.length;b++)this.edges.push([this.faces[b][0],this.faces[b][1]]),this.edges.push([this.faces[b][1],this.faces[b][2]]),this.edges.push([this.faces[b][2],this.faces[b][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var b,x=new Map,_=new Set,j=0;j<this.edges.length;j++){var S,D=this.edges[j-1],E=this.edges[j],T=this.vertices[E[0]],F=this.vertices[E[1]],A=0<this.vertexStrokeColors.length&&D?this.vertexStrokeColors.slice(4*D[1],4*(D[1]+1)):[0,0,0,0],L=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*E[0],4*(E[0]+1)):[0,0,0,0],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*E[1],4*(E[1]+1)):[0,0,0,0],B=F.copy().sub(T).normalize(),I=0<B.magSq();I&&this._addSegment(T,F,L,O,B),0<j&&D[1]===E[0]?_.has(E[0])||(_.add(E[0]),x.delete(E[0]),b&&I&&B.dot(b)<1-1e-8&&this._addJoin(T,b,B,L)):(I&&!_.has(E[0])&&((S=x.get(E[0]))?(this._addJoin(T,S.dir,B,L),x.delete(E[0]),_.add(E[0])):x.set(E[0],{point:T,dir:B.copy().mult(-1),color:L})),b&&!_.has(D[1])&&((S=x.get(D[1]))?(this._addJoin(this.vertices[D[1]],b,S.dir.copy().mult(-1),A),x.delete(D[1]),_.add(D[1])):x.set(D[1],{point:this.vertices[D[1]],dir:b,color:A}),b=void 0)),j!==this.edges.length-1||_.has(E[1])||((T=x.get(E[1]))?(this._addJoin(F,B,T.dir.copy().mult(-1),O),x.delete(E[1]),_.add(E[1])):x.set(E[1],{point:F,dir:B,color:O})),I&&(b=B)}var N=!0,H=!1,V=void 0;try{for(var G,Y=x.values()[Symbol.iterator]();!(N=(G=Y.next()).done);N=!0){var K=G.value,se=K.point,M=K.dir,R=K.color;this._addCap(se,M,R)}}catch(z){H=!0,V=z}finally{try{N||Y.return==null||Y.return()}finally{if(H)throw V}}return this}},{key:"_addSegment",value:function(D,E,_,j,S){var D=D.array(),E=E.array(),T=S.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var F=0,A=[this.lineTangentsIn,this.lineTangentsOut];F<A.length;F++)for(var L=A[F],O=0;O<6;O++)L.push.apply(L,m(T));return(S=this.lineVertices).push.apply(S,m(D).concat(m(E),m(D),m(E),m(E),m(D))),(S=this.lineVertexColors).push.apply(S,m(_).concat(m(j),m(_),m(j),m(j),m(_))),this}},{key:"_addCap",value:function(b,x,_){for(var j,S=b.array(),D=x.array(),E=[0,0,0],T=0;T<6;T++)(j=this.lineVertices).push.apply(j,m(S)),(j=this.lineTangentsIn).push.apply(j,m(D)),(j=this.lineTangentsOut).push.apply(j,E),(j=this.lineVertexColors).push.apply(j,m(_));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(b,x,_,j){for(var S,D=b.array(),E=x.array(),T=_.array(),F=0;F<12;F++)(S=this.lineVertices).push.apply(S,m(D)),(S=this.lineTangentsIn).push.apply(S,m(E)),(S=this.lineTangentsOut).push.apply(S,m(T)),(S=this.lineVertexColors).push.apply(S,m(j));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var b=this.vertices[0].copy(),x=this.vertices[0].copy(),_=0;_<this.vertices.length;_++)b.x=Math.max(b.x,this.vertices[_].x),x.x=Math.min(x.x,this.vertices[_].x),b.y=Math.max(b.y,this.vertices[_].y),x.y=Math.min(x.y,this.vertices[_].y),b.z=Math.max(b.z,this.vertices[_].z),x.z=Math.min(x.z,this.vertices[_].z);for(var j=i.default.Vector.lerp(b,x,.5),S=i.default.Vector.sub(b,x),D=200/Math.max(Math.max(S.x,S.y),S.z),E=0;E<this.vertices.length;E++)this.vertices[E].sub(j),this.vertices[E].mult(D)}return this}}])&&h(y.prototype,g),f}();var v=i.default.Geometry;l.default=v},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(p,a,l){p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(p=p("../core/main"))&&p.__esModule?p:{default:p};function u(m,c){for(var h=0;h<c.length;h++){var v=c[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}var i=Array,d=function(m){return Array.isArray(m)},p=(typeof Float32Array<"u"&&(i=Float32Array,d=function(m){return Array.isArray(m)||m instanceof Float32Array}),o.default.Matrix=function(){function m(){var f=this,y=m;if(f instanceof y)return arguments.length&&((f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f])instanceof o.default&&(this.p5=(y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var c,h,v;return c=m,v=[{key:"identity",value:function(f){return new o.default.Matrix(f)}}],(h=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(f){var y=arguments;if(f instanceof o.default.Matrix?y=f.mat4:d(f)&&(y=f),y.length!==16)o.default._friendlyError("Expected 16 values but received ".concat(y.length,"."),"p5.Matrix.set");else for(var g=0;g<16;g++)this.mat4[g]=y[g];return this}},{key:"get",value:function(){return new o.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var f;return this.mat3!==void 0?((f=new o.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],f.mat3[1]=this.mat3[1],f.mat3[2]=this.mat3[2],f.mat3[3]=this.mat3[3],f.mat3[4]=this.mat3[4],f.mat3[5]=this.mat3[5],f.mat3[6]=this.mat3[6],f.mat3[7]=this.mat3[7],f.mat3[8]=this.mat3[8]):((f=new o.default.Matrix(this.p5)).mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15]),f}},{key:"transpose",value:function(f){var y,g,b,x,_,j;return f instanceof o.default.Matrix?(y=f.mat4[1],g=f.mat4[2],b=f.mat4[3],x=f.mat4[6],_=f.mat4[7],j=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=y,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=g,this.mat4[9]=x,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=b,this.mat4[13]=_,this.mat4[14]=j,this.mat4[15]=f.mat4[15]):d(f)&&(y=f[1],g=f[2],b=f[3],x=f[6],_=f[7],j=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=y,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=g,this.mat4[9]=x,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=b,this.mat4[13]=_,this.mat4[14]=j,this.mat4[15]=f[15]),this}},{key:"invert",value:function(N){N instanceof o.default.Matrix?(y=N.mat4[0],g=N.mat4[1],b=N.mat4[2],x=N.mat4[3],_=N.mat4[4],j=N.mat4[5],S=N.mat4[6],D=N.mat4[7],E=N.mat4[8],T=N.mat4[9],F=N.mat4[10],A=N.mat4[11],L=N.mat4[12],O=N.mat4[13],B=N.mat4[14],I=N.mat4[15]):d(N)&&(y=N[0],g=N[1],b=N[2],x=N[3],_=N[4],j=N[5],S=N[6],D=N[7],E=N[8],T=N[9],F=N[10],A=N[11],L=N[12],O=N[13],B=N[14],I=N[15]);var y,g,b,x,_,j,S,D,E,T,F,A,L,O,B,I,N=y*j-g*_,H=y*S-b*_,V=y*D-x*_,G=g*S-b*j,Y=g*D-x*j,K=b*D-x*S,se=E*O-T*L,M=E*B-F*L,R=E*I-A*L,z=T*B-F*O,W=T*I-A*O,J=F*I-A*B,te=N*J-H*W+V*z+G*R-Y*M+K*se;return te?(this.mat4[0]=(j*J-S*W+D*z)*(te=1/te),this.mat4[1]=(b*W-g*J-x*z)*te,this.mat4[2]=(O*K-B*Y+I*G)*te,this.mat4[3]=(F*Y-T*K-A*G)*te,this.mat4[4]=(S*R-_*J-D*M)*te,this.mat4[5]=(y*J-b*R+x*M)*te,this.mat4[6]=(B*V-L*K-I*H)*te,this.mat4[7]=(E*K-F*V+A*H)*te,this.mat4[8]=(_*W-j*R+D*se)*te,this.mat4[9]=(g*R-y*W-x*se)*te,this.mat4[10]=(L*Y-O*V+I*N)*te,this.mat4[11]=(T*V-E*Y-A*N)*te,this.mat4[12]=(j*M-_*z-S*se)*te,this.mat4[13]=(y*z-g*M+b*se)*te,this.mat4[14]=(O*H-L*G-B*N)*te,this.mat4[15]=(E*G-T*H+F*N)*te,this):null}},{key:"invert3x3",value:function(){var f=this.mat3[0],y=this.mat3[1],g=this.mat3[2],b=this.mat3[3],x=this.mat3[4],_=this.mat3[5],j=this.mat3[6],S=this.mat3[7],D=this.mat3[8],E=D*x-_*S,T=-D*b+_*j,F=S*b-x*j,A=f*E+y*T+g*F;return A?(this.mat3[0]=E*(A=1/A),this.mat3[1]=(-D*y+g*S)*A,this.mat3[2]=(_*y-g*x)*A,this.mat3[3]=T*A,this.mat3[4]=(D*f-g*j)*A,this.mat3[5]=(-_*f+g*b)*A,this.mat3[6]=F*A,this.mat3[7]=(-S*f+y*j)*A,this.mat3[8]=(x*f-y*b)*A,this):null}},{key:"transpose3x3",value:function(f){var y=(f=f===void 0?this.mat3:f)[1],g=f[2],b=f[5];return this.mat3[0]=f[0],this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=y,this.mat3[4]=f[4],this.mat3[5]=f[7],this.mat3[6]=g,this.mat3[7]=b,this.mat3[8]=f[8],this}},{key:"inverseTranspose",value:function(f){if(f=f.mat4,this.mat3===void 0?o.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=f[0],this.mat3[1]=f[1],this.mat3[2]=f[2],this.mat3[3]=f[4],this.mat3[4]=f[5],this.mat3[5]=f[6],this.mat3[6]=f[8],this.mat3[7]=f[9],this.mat3[8]=f[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var y=0;y<9;y++)this.mat3[y]=0;return this}},{key:"determinant",value:function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],y=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],g=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],b=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],x=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],_=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],j=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],S=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],D=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],E=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],T=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-y*T+g*E+b*D-x*S+_*j}},{key:"mult",value:function(g){var y;if(g===this||g===this.mat4)y=this.copy().mat4;else if(g instanceof o.default.Matrix)y=g.mat4;else if(d(g))y=g;else{if(arguments.length!==16)return;y=arguments}var g=this.mat4[0],b=this.mat4[1],x=this.mat4[2],_=this.mat4[3];return this.mat4[0]=g*y[0]+b*y[4]+x*y[8]+_*y[12],this.mat4[1]=g*y[1]+b*y[5]+x*y[9]+_*y[13],this.mat4[2]=g*y[2]+b*y[6]+x*y[10]+_*y[14],this.mat4[3]=g*y[3]+b*y[7]+x*y[11]+_*y[15],g=this.mat4[4],b=this.mat4[5],x=this.mat4[6],_=this.mat4[7],this.mat4[4]=g*y[0]+b*y[4]+x*y[8]+_*y[12],this.mat4[5]=g*y[1]+b*y[5]+x*y[9]+_*y[13],this.mat4[6]=g*y[2]+b*y[6]+x*y[10]+_*y[14],this.mat4[7]=g*y[3]+b*y[7]+x*y[11]+_*y[15],g=this.mat4[8],b=this.mat4[9],x=this.mat4[10],_=this.mat4[11],this.mat4[8]=g*y[0]+b*y[4]+x*y[8]+_*y[12],this.mat4[9]=g*y[1]+b*y[5]+x*y[9]+_*y[13],this.mat4[10]=g*y[2]+b*y[6]+x*y[10]+_*y[14],this.mat4[11]=g*y[3]+b*y[7]+x*y[11]+_*y[15],g=this.mat4[12],b=this.mat4[13],x=this.mat4[14],_=this.mat4[15],this.mat4[12]=g*y[0]+b*y[4]+x*y[8]+_*y[12],this.mat4[13]=g*y[1]+b*y[5]+x*y[9]+_*y[13],this.mat4[14]=g*y[2]+b*y[6]+x*y[10]+_*y[14],this.mat4[15]=g*y[3]+b*y[7]+x*y[11]+_*y[15],this}},{key:"apply",value:function(g){var y;if(g===this||g===this.mat4)y=this.copy().mat4;else if(g instanceof o.default.Matrix)y=g.mat4;else if(d(g))y=g;else{if(arguments.length!==16)return;y=arguments}var g=this.mat4,b=g[0],x=g[4],_=g[8],j=g[12],b=(g[0]=y[0]*b+y[1]*x+y[2]*_+y[3]*j,g[4]=y[4]*b+y[5]*x+y[6]*_+y[7]*j,g[8]=y[8]*b+y[9]*x+y[10]*_+y[11]*j,g[12]=y[12]*b+y[13]*x+y[14]*_+y[15]*j,g[1]),x=g[5],_=g[9],j=g[13],b=(g[1]=y[0]*b+y[1]*x+y[2]*_+y[3]*j,g[5]=y[4]*b+y[5]*x+y[6]*_+y[7]*j,g[9]=y[8]*b+y[9]*x+y[10]*_+y[11]*j,g[13]=y[12]*b+y[13]*x+y[14]*_+y[15]*j,g[2]),x=g[6],_=g[10],j=g[14],b=(g[2]=y[0]*b+y[1]*x+y[2]*_+y[3]*j,g[6]=y[4]*b+y[5]*x+y[6]*_+y[7]*j,g[10]=y[8]*b+y[9]*x+y[10]*_+y[11]*j,g[14]=y[12]*b+y[13]*x+y[14]*_+y[15]*j,g[3]),x=g[7],_=g[11],j=g[15];return g[3]=y[0]*b+y[1]*x+y[2]*_+y[3]*j,g[7]=y[4]*b+y[5]*x+y[6]*_+y[7]*j,g[11]=y[8]*b+y[9]*x+y[10]*_+y[11]*j,g[15]=y[12]*b+y[13]*x+y[14]*_+y[15]*j,this}},{key:"scale",value:function(f,y,g){return f instanceof o.default.Vector?(y=f.y,g=f.z,f=f.x):f instanceof Array&&(y=f[1],g=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=y,this.mat4[5]*=y,this.mat4[6]*=y,this.mat4[7]*=y,this.mat4[8]*=g,this.mat4[9]*=g,this.mat4[10]*=g,this.mat4[11]*=g,this}},{key:"rotate",value:function(N,W,z,b){W instanceof o.default.Vector?(z=W.y,b=W.z,W=W.x):W instanceof Array&&(z=W[1],b=W[2],W=W[0]);var x=Math.sqrt(W*W+z*z+b*b),x=(W*=1/x,z*=1/x,b*=1/x,this.mat4[0]),_=this.mat4[1],j=this.mat4[2],S=this.mat4[3],D=this.mat4[4],E=this.mat4[5],T=this.mat4[6],F=this.mat4[7],A=this.mat4[8],L=this.mat4[9],O=this.mat4[10],B=this.mat4[11],I=Math.sin(N),N=Math.cos(N),H=1-N,V=W*W*H+N,G=z*W*H+b*I,Y=b*W*H-z*I,K=W*z*H-b*I,se=z*z*H+N,M=b*z*H+W*I,R=W*b*H+z*I,z=z*b*H-W*I,W=b*b*H+N;return this.mat4[0]=x*V+D*G+A*Y,this.mat4[1]=_*V+E*G+L*Y,this.mat4[2]=j*V+T*G+O*Y,this.mat4[3]=S*V+F*G+B*Y,this.mat4[4]=x*K+D*se+A*M,this.mat4[5]=_*K+E*se+L*M,this.mat4[6]=j*K+T*se+O*M,this.mat4[7]=S*K+F*se+B*M,this.mat4[8]=x*R+D*z+A*W,this.mat4[9]=_*R+E*z+L*W,this.mat4[10]=j*R+T*z+O*W,this.mat4[11]=S*R+F*z+B*W,this}},{key:"translate",value:function(b){var y=b[0],g=b[1],b=b[2]||0;this.mat4[12]+=this.mat4[0]*y+this.mat4[4]*g+this.mat4[8]*b,this.mat4[13]+=this.mat4[1]*y+this.mat4[5]*g+this.mat4[9]*b,this.mat4[14]+=this.mat4[2]*y+this.mat4[6]*g+this.mat4[10]*b,this.mat4[15]+=this.mat4[3]*y+this.mat4[7]*g+this.mat4[11]*b}},{key:"rotateX",value:function(f){this.rotate(f,1,0,0)}},{key:"rotateY",value:function(f){this.rotate(f,0,1,0)}},{key:"rotateZ",value:function(f){this.rotate(f,0,0,1)}},{key:"perspective",value:function(x,y,g,b){var x=1/Math.tan(x/2),_=1/(g-b);return this.mat4[0]=x/y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=x,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(b+g)*_,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*b*g*_,this.mat4[15]=0,this}},{key:"ortho",value:function(f,y,g,b,x,_){var j=1/(f-y),S=1/(g-b),D=1/(x-_);return this.mat4[0]=-2*j,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*S,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*D,this.mat4[11]=0,this.mat4[12]=(f+y)*j,this.mat4[13]=(b+g)*S,this.mat4[14]=(_+x)*D,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(f,y,g,b){var x=new Array(4),_=this.mat4;return x[0]=_[0]*f+_[4]*y+_[8]*g+_[12]*b,x[1]=_[1]*f+_[5]*y+_[9]*g+_[13]*b,x[2]=_[2]*f+_[6]*y+_[10]*g+_[14]*b,x[3]=_[3]*f+_[7]*y+_[11]*g+_[15]*b,x}},{key:"multiplyPoint",value:function(g){var b=g.x,y=g.y,g=g.z,b=this.multiplyVec4(b,y,g,1);return new o.default.Vector(b[0],b[1],b[2])}},{key:"multiplyAndNormalizePoint",value:function(g){var b=g.x,y=g.y,g=g.z,b=this.multiplyVec4(b,y,g,1);return b[0]/=b[3],b[1]/=b[3],b[2]/=b[3],new o.default.Vector(b[0],b[1],b[2])}},{key:"multiplyDirection",value:function(g){var b=g.x,y=g.y,g=g.z,b=this.multiplyVec4(b,y,g,0);return new o.default.Vector(b[0],b[1],b[2])}},{key:"mult3x3",value:function(g){var y;if(g===this||g===this.mat3)y=this.copy().mat3;else if(g instanceof o.default.Matrix)y=g.mat3;else if(d(g))y=g;else{if(arguments.length!==9)return;y=arguments}var g=this.mat3[0],b=this.mat3[1],x=this.mat3[2];return this.mat3[0]=g*y[0]+b*y[3]+x*y[6],this.mat3[1]=g*y[1]+b*y[4]+x*y[7],this.mat3[2]=g*y[2]+b*y[5]+x*y[8],g=this.mat3[3],b=this.mat3[4],x=this.mat3[5],this.mat3[3]=g*y[0]+b*y[3]+x*y[6],this.mat3[4]=g*y[1]+b*y[4]+x*y[7],this.mat3[5]=g*y[2]+b*y[5]+x*y[8],g=this.mat3[6],b=this.mat3[7],x=this.mat3[8],this.mat3[6]=g*y[0]+b*y[3]+x*y[6],this.mat3[7]=g*y[1]+b*y[4]+x*y[7],this.mat3[8]=g*y[2]+b*y[5]+x*y[8],this}},{key:"column",value:function(f){return new o.default.Vector(this.mat3[3*f],this.mat3[3*f+1],this.mat3[3*f+2])}},{key:"row",value:function(f){return new o.default.Vector(this.mat3[f],this.mat3[f+3],this.mat3[f+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(f,y){return(y=y===void 0?f.copy():y).x=this.row(0).dot(f),y.y=this.row(1).dot(f),y.z=this.row(2).dot(f),y}},{key:"createSubMatrix3x3",value:function(){var f=new o.default.Matrix("mat3");return f.mat3[0]=this.mat4[0],f.mat3[1]=this.mat4[1],f.mat3[2]=this.mat4[2],f.mat3[3]=this.mat4[4],f.mat3[4]=this.mat4[5],f.mat3[5]=this.mat4[6],f.mat3[6]=this.mat4[8],f.mat3[7]=this.mat4[9],f.mat3[8]=this.mat4[10],f}}])&&u(c.prototype,h),v&&u(c,v),m}(),o.default.Matrix);l.default=p},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}o.default.Quat=function(){function i(c,h,v,f){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.w=c,this.vec=new o.default.Vector(h,v,f)}var d,p,m;return d=i,m=[{key:"fromAxisAngle",value:function(c,g,v,f){var y=Math.cos(c/2),g=new o.default.Vector(g,v,f).normalize().mult(Math.sin(c/2));return new o.default.Quat(y,g.x,g.y,g.z)}}],(p=[{key:"conjugate",value:function(){return new o.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(c){return new o.default.Quat(this.w*c.w-this.vec.x*c.vec.x-this.vec.y*c.vec.y-this.vec.z-c.vec.z,this.w*c.vec.x+this.vec.x*c.w+this.vec.y*c.vec.z-this.vec.z*c.vec.y,this.w*c.vec.y-this.vec.x*c.vec.z+this.vec.y*c.w+this.vec.z*c.vec.x,this.w*c.vec.z+this.vec.x*c.vec.y-this.vec.y*c.vec.x+this.vec.z*c.w)}},{key:"rotateVector",value:function(c){return new o.default.Vector.mult(c,this.w*this.w-this.vec.dot(this.vec)).add(o.default.Vector.mult(this.vec,2*c.dot(this.vec))).add(o.default.Vector.mult(this.vec,2*this.w).cross(c)).clampToZero()}},{key:"rotateBy",value:function(c){return c.multiply(this).multiply(c.conjugate()).vec.clampToZero()}}])&&u(d.prototype,p),m&&u(d,m),i}(),t=o.default.Quat,l.default=t},{"../core/main":283}],338:[function(t,a,l){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,i){for(var d=0;d<i.length;d++){var p=i[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}t.default.RenderBuffer=function(){function u(p,m,c,h,v,f){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.size=p,this.src=m,this.dst=c,this.attr=h,this._renderer=v,this.map=f}var i,d;return i=u,(d=[{key:"_prepareBuffer",value:function(p,m){var c,h,v,g=m.attributes,f=this._renderer.GL,y=p.model||p,g=g[this.attr];g&&(c=p[this.dst],0<(h=y[this.src]).length?((v=!c)&&(p[this.dst]=c=f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,c),!v&&y.dirtyFlags[this.src]===!1||(v=(p=this.map)?p(h):h,this._renderer._bindBuffer(c,f.ARRAY_BUFFER,v),y.dirtyFlags[this.src]=!1),m.enableAttrib(g,this.size)):(p=g.location)!==-1&&this._renderer.registerEnabled.has(p)&&(f.disableVertexAttribArray(p),this._renderer.registerEnabled.delete(p)))}}])&&o(i.prototype,d),u}(),t=t.default.RenderBuffer,l.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,a,l){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function u(v){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(f){return o(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":o(f)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(h=t("../core/main"))&&h.__esModule?h:{default:h},d=function(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var f=p();if(f&&f.has(v))return f.get(v);var y,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in v){var x;Object.prototype.hasOwnProperty.call(v,y)&&((x=b?Object.getOwnPropertyDescriptor(v,y):null)&&(x.get||x.set)?Object.defineProperty(g,y,x):g[y]=v[y])}return g.default=v,f&&f.set(v,g),g}(t("../core/constants"));function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}function m(v){return function(f){if(Array.isArray(f)){for(var y=0,g=new Array(f.length);y<f.length;y++)g[y]=f[y];return g}}(v)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),i.default.RendererGL.prototype.beginShape=function(v){return this.immediateMode.shapeMode=v!==void 0?v:d.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},h=(i.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==d.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},i.default.RendererGL.prototype.vertex=function(v,f){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var y in c){var g=c[y],y=this.immediateMode.geometry[y];y.push.apply(y,m(y.slice(y.length-3*g,y.length-2*g)).concat(m(y.slice(y.length-g,y.length))))}var b,x,_=b=x=0,j=(arguments.length===3?_=arguments[2]:arguments.length===4?(b=arguments[2],x=arguments[3]):arguments.length===5&&(_=arguments[2],b=arguments[3],x=arguments[4]),new i.default.Vector(v,f,_)),j=(this.immediateMode.geometry.vertices.push(j),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),j=(this.immediateMode.geometry.vertexColors.push(j[0],j[1],j[2],j[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(j[0],j[1],j[2],j[3]),this.textureMode!==d.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(b/=this._tex.width,x/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(b,x),this.immediateMode._bezierVertex[0]=v,this.immediateMode._bezierVertex[1]=f,this.immediateMode._bezierVertex[2]=_,this.immediateMode._quadraticVertex[0]=v,this.immediateMode._quadraticVertex[1]=f,this.immediateMode._quadraticVertex[2]=_,this},i.default.RendererGL.prototype.normal=function(v,f,y){return v instanceof i.default.Vector?this._currentNormal=v:this._currentNormal=new i.default.Vector(v,f,y),this},i.default.RendererGL.prototype.endShape=function(v,f,y,g,b,x){var _,j=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===d.TESS&&(this.immediateMode.shapeMode=d.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),_=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN,_=!0),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._doFill&&!_&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(j),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},i.default.RendererGL.prototype._processVertices=function(v){var f;this.immediateMode.geometry.vertices.length!==0&&(f=this._doStroke,v=v===d.CLOSE,f&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,v),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),f=this.immediateMode.shapeMode===d.TESS,v=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||f||v)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},i.default.RendererGL.prototype._calculateEdges=function(v,f,y){var g=[],b=0,x=this.immediateMode.contourIndices.slice(),_=0;switch(v){case d.TRIANGLE_STRIP:for(b=0;b<f.length-2;b++)g.push([b,b+1]),g.push([b,b+2]);g.push([b,b+1]);break;case d.TRIANGLE_FAN:for(b=1;b<f.length-1;b++)g.push([0,b]),g.push([b,b+1]);g.push([0,f.length-1]);break;case d.TRIANGLES:for(b=0;b<f.length-2;b+=3)g.push([b,b+1]),g.push([b+1,b+2]),g.push([b+2,b]);break;case d.LINES:for(b=0;b<f.length-1;b+=2)g.push([b,b+1]);break;case d.QUADS:for(b=0;b<f.length-5;b+=6)g.push([b,b+1]),g.push([b+1,b+2]),g.push([b+3,b+5]),g.push([b+4,b+5]);break;case d.QUAD_STRIP:for(b=0;b<f.length-2;b+=2)g.push([b,b+1]),g.push([b,b+2]),g.push([b+1,b+3]);g.push([b,b+1]);break;default:for(b=0;b<f.length;b++)b+1<f.length&&b+1!==x[0]?g.push([b,b+1]):((y||_)&&g.push([b,_]),0<x.length&&(_=x.shift()))}return v!==d.TESS&&y&&g.push([f.length-1,0]),g},i.default.RendererGL.prototype._tesselateShape=function(){for(var v=this,f=(this.immediateMode.shapeMode=d.TRIANGLES,[[]]),y=0;y<this.immediateMode.geometry.vertices.length;y++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===y&&(this.immediateMode.contourIndices.shift(),f.push([])),f[f.length-1].push(this.immediateMode.geometry.vertices[y].x,this.immediateMode.geometry.vertices[y].y,this.immediateMode.geometry.vertices[y].z,this.immediateMode.geometry.uvs[2*y],this.immediateMode.geometry.uvs[2*y+1],this.immediateMode.geometry.vertexColors[4*y],this.immediateMode.geometry.vertexColors[4*y+1],this.immediateMode.geometry.vertexColors[4*y+2],this.immediateMode.geometry.vertexColors[4*y+3],this.immediateMode.geometry.vertexNormals[y].x,this.immediateMode.geometry.vertexNormals[y].y,this.immediateMode.geometry.vertexNormals[y].z);for(var g,b=this._triangulate(f),x=this.immediateMode.geometry.vertices,_=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),j=0,S=b.length;j<S;j+=i.default.RendererGL.prototype.tessyVertexSize)_.push.apply(_,m(b.slice(j+5,j+9))),this.normal.apply(this,m(b.slice(j+9,j+12))),this.vertex.apply(this,m(b.slice(j,j+5)));this.geometryBuilder&&(g=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(D){return D.map(function(E){if(!g.has(E)){var T=x[E],F=v.immediateMode.geometry.vertices.findIndex(function(H){return T.x===H.x&&T.y===H.y&&T.z===H.z});if(F===-1){for(var A=1/0,L=0,O=0;O<v.immediateMode.geometry.vertices.length;O++){var I=v.immediateMode.geometry.vertices[O],N=T.x-I.x,B=T.y-I.y,I=T.z-I.z,N=N*N+B*B+I*I;N<A&&(A=N,L=O)}F=L}g.set(E,F)}return g.get(E)})})),this.immediateMode.geometry.vertexColors=_},i.default.RendererGL.prototype._drawImmediateFill=function(){var v,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,y=this.GL,g=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,v=this._getImmediateFillShader(),this._setFillUniforms(v),!0),b=!1,x=void 0;try{for(var _,j=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(_=j.next()).done);g=!0)_.value._prepareBuffer(this.immediateMode.geometry,v)}catch(S){b=!0,x=S}finally{try{g||j.return==null||j.return()}finally{if(b)throw x}}if(v.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),f===1)y.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{y.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,f)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}v.unbindShader()},i.default.RendererGL.prototype._drawImmediateStroke=function(){var v=this.GL,f=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),y=(this._setStrokeUniforms(f),!0),g=!1,b=void 0;try{for(var x,_=this.immediateMode.buffers.stroke[Symbol.iterator]();!(y=(x=_.next()).done);y=!0)x.value._prepareBuffer(this.immediateMode.geometry,f)}catch(j){g=!0,b=j}finally{try{y||_.return==null||_.return()}finally{if(g)throw b}}f.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),v.drawArrays(v.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),f.unbindShader()},i.default.RendererGL);l.default=h},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,a,l){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function u(c){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var v,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in c){var g;Object.prototype.hasOwnProperty.call(c,v)&&((g=y?Object.getOwnPropertyDescriptor(c,v):null)&&(g.get||g.set)?Object.defineProperty(f,v,g):f[v]=c[v])}return f.default=c,h&&h.set(c,f),f}(t("../core/constants")));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}i.default.RendererGL.prototype.freeGeometry=function(c){c.gid?this._freeBuffers(c.gid):console.warn("The model you passed to freeGeometry does not have an id!")},i.default.RendererGL.prototype._initBufferDefaults=function(c){var h;return this._freeBuffers(c),1e3<Object.keys(this.retainedMode.geometry).length&&(h=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(h)),this.retainedMode.geometry[c]={}},i.default.RendererGL.prototype._freeBuffers=function(c){var h,v=this.retainedMode.geometry[c];function f(y){var g=!0,b=!1,x=void 0;try{for(var _,j=y[Symbol.iterator]();!(g=(_=j.next()).done);g=!0){var S=_.value;v[S.dst]&&(h.deleteBuffer(v[S.dst]),v[S.dst]=null)}}catch(D){b=!0,x=D}finally{try{g||j.return==null||j.return()}finally{if(b)throw x}}}v&&(delete this.retainedMode.geometry[c],h=this.GL,v.indexBuffer&&h.deleteBuffer(v.indexBuffer),f(this.retainedMode.buffers.stroke),f(this.retainedMode.buffers.fill))},i.default.RendererGL.prototype.createBuffers=function(b,h){var v,f,y,g=this.GL,b=this._initBufferDefaults(b),x=(b.model=h,b.indexBuffer);return h.faces.length?(x=x||(b.indexBuffer=g.createBuffer()),y=(f=(v=i.default.RendererGL.prototype._flatten(h.faces)).some(function(_){return 65535<_}))?Uint32Array:Uint16Array,this._bindBuffer(x,g.ELEMENT_ARRAY_BUFFER,v,y),b.indexBufferType=f?g.UNSIGNED_INT:g.UNSIGNED_SHORT,b.vertexCount=3*h.faces.length):(x&&(g.deleteBuffer(x),b.indexBuffer=null),b.vertexCount=h.vertices?h.vertices.length:0),b.lineVertexCount=h.lineVertices?h.lineVertices.length/3:0,b},i.default.RendererGL.prototype.drawBuffers=function(c){var h=this.GL,v=this.retainedMode.geometry[c];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[c].vertexCount){this._useVertexColor=0<v.model.vertexColors.length;var f=this._getRetainedFillShader(),y=(this._setFillUniforms(f),!0),g=!1,b=void 0;try{for(var x,_=this.retainedMode.buffers.fill[Symbol.iterator]();!(y=(x=_.next()).done);y=!0)x.value._prepareBuffer(v,f)}catch(T){g=!0,b=T}finally{try{y||_.return==null||_.return()}finally{if(g)throw b}}f.disableRemainingAttributes(),v.indexBuffer&&this._bindBuffer(v.indexBuffer,h.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,v.model.hasFillTransparency()),this._drawElements(h.TRIANGLES,c),f.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<v.lineVertexCount){this._useLineColor=0<v.model.vertexStrokeColors.length;var j=this._getRetainedStrokeShader(),S=(this._setStrokeUniforms(j),!0),g=!1,b=void 0;try{for(var D,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(S=(D=E.next()).done);S=!0)D.value._prepareBuffer(v,j)}catch(A){g=!0,b=A}finally{try{S||E.return==null||E.return()}finally{if(g)throw b}}j.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,v.model.hasStrokeTransparency()),this._drawArrays(h.TRIANGLES,c),j.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(v),this},i.default.RendererGL.prototype.drawBuffersScaled=function(c,h,v,f){var y=this.uModelMatrix.copy();try{this.uModelMatrix.scale(h,v,f),this.drawBuffers(c)}finally{this.uModelMatrix=y}},i.default.RendererGL.prototype._drawArrays=function(c,h){return this.GL.drawArrays(c,0,this.retainedMode.geometry[h].lineVertexCount),this},i.default.RendererGL.prototype._drawElements=function(c,v){var v=this.retainedMode.geometry[v],f=this.GL;if(v.indexBuffer){if(this._pInst.webglVersion!==d.WEBGL2&&v.indexBufferType===f.UNSIGNED_INT&&!f.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");f.drawElements(f.TRIANGLES,v.vertexCount,v.indexBufferType,0)}else f.drawArrays(c||f.TRIANGLES,0,v.vertexCount)},i.default.RendererGL.prototype._drawPoints=function(c,h){var v=this.GL,f=this._getImmediatePointShader();this._setPointUniforms(f),this._bindBuffer(h,v.ARRAY_BUFFER,this._vToNArray(c),Float32Array,v.STATIC_DRAW),f.enableAttrib(f.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),v.drawArrays(v.Points,0,c.length),f.unbindShader()};var m=i.default.RendererGL;l.default=m},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(O,a,l){function o(G){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(G)}function u(G){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(Y){return o(Y)}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":o(Y)})(G)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.readPixelsWebGL=H,l.readPixelWebGL=V,l.default=void 0;var i=v(O("../core/main")),d=function(G){if(G&&G.__esModule)return G;if(G===null||u(G)!=="object"&&typeof G!="function")return{default:G};var Y=h();if(Y&&Y.has(G))return Y.get(G);var K,se={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in G){var R;Object.prototype.hasOwnProperty.call(G,K)&&((R=M?Object.getOwnPropertyDescriptor(G,K):null)&&(R.get||R.set)?Object.defineProperty(se,K,R):se[K]=G[K])}return se.default=G,Y&&Y.set(G,se),se}(O("../core/constants")),p=v(O("./GeometryBuilder")),m=v(O("libtess")),c=(O("./p5.Shader"),O("./p5.Camera"),O("../core/p5.Renderer"),O("./p5.Matrix"),O("./p5.Framebuffer"),O("path"),O("./p5.Texture"));function h(){var G;return typeof WeakMap!="function"?null:(G=new WeakMap,h=function(){return G},G)}function v(G){return G&&G.__esModule?G:{default:G}}function f(G){return function(Y){if(Array.isArray(Y)){for(var K=0,se=new Array(Y.length);K<Y.length;K++)se[K]=Y[K];return se}}(G)||function(Y){if(Symbol.iterator in Object(Y)||Object.prototype.toString.call(Y)==="[object Arguments]")return Array.from(Y)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(G,Y){for(var K=0;K<Y.length;K++){var se=Y[K];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(G,se.key,se)}}function g(G,Y,K){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,M,R){var z=function(W,J){for(;!Object.prototype.hasOwnProperty.call(W,J)&&(W=j(W))!==null;);return W}(z,M);if(z)return(z=Object.getOwnPropertyDescriptor(z,M)).get?z.get.call(R):z.value})(G,Y,K||G)}function b(G,Y){return(b=Object.setPrototypeOf||function(K,se){return K.__proto__=se,K})(G,Y)}function x(G){return function(){var Y,K,se=j(G);return Y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Y=j(this).constructor,Reflect.construct(se,arguments,Y)):se.apply(this,arguments),se=this,!(K=Y)||u(K)!=="object"&&typeof K!="function"?_(se):K}}function _(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function j(G){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(G)}function S(G,Y,K){Y in G?Object.defineProperty(G,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}):G[Y]=K}function D(G,Y){L+="#define STROKE_CAP_".concat(G," ").concat(Y,`
`),F[d[G]]=Y}function E(G,Y){L+="#define STROKE_JOIN_".concat(G," ").concat(Y,`
`),A[d[G]]=Y}var T,F={},A={},L="",O=(D("ROUND",0),D("PROJECT",1),D("SQUARE",2),E("ROUND",0),E("MITER",1),E("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),B={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:O+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:O+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:L+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:L+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},I=B.sphereMappingFrag;for(T in B)B[T]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+B[T];S(O={},d.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),S(O,d.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),S(O,d.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),S(O,d.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),S(O,d.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),S(O,d.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),S(O,d.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),S(O,d.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var N=O;function H(G,Y,de,se,M,R,z,W,J,te){var ie=Y.getParameter(Y.FRAMEBUFFER_BINDING),de=(Y.bindFramebuffer(Y.FRAMEBUFFER,de),W===Y.RGBA?4:3),oe=R*z*de,he=J===Y.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof he&&G.length===oe||(G=new he(oe)),Y.readPixels(se,te?te-M-z:M,R,z,W,J,G),Y.bindFramebuffer(Y.FRAMEBUFFER,ie),te)for(var le=Math.floor(z/2),ee=new he(R*de),pe=0;pe<le;pe++){var _e=pe*R*4,De=(z-pe-1)*R*4;ee.set(G.subarray(_e,_e+4*R)),G.copyWithin(_e,De,De+4*R),G.set(ee,De)}return G}function V(G,J,K,se,M,R,z){var W=G.getParameter(G.FRAMEBUFFER_BINDING),J=(G.bindFramebuffer(G.FRAMEBUFFER,J),M===G.RGBA?4:3),J=new(R===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(J);return G.readPixels(K,z?z-se-1:se,1,1,M,R,J),G.bindFramebuffer(G.FRAMEBUFFER,W),Array.from(J)}i.default.prototype.setAttributes=function(G,Y){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var K=!0;if(Y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[G]!==Y&&(this._glAttributes[G]=Y,K=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,K=!1),this._renderer.isP3D&&!K){if(!this._setupDone){for(var se in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(se))return void i.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},i.default.RendererGL=function(G){var Y=se;if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),G&&b(Y,G);var K=x(se);function se(M,R,z,W){if(this instanceof se)return(M=K.call(this,M,R,z))._setAttributeDefaults(R),M._initContext(),M.isP3D=!0,M.geometryBuilder=void 0,M.GL=M.drawingContext,M._pInst._setProperty("drawingContext",M.drawingContext),M._isErasing=!1,M._clipDepths=[],M._isClipApplied=!1,M._stencilTestOn=!1,M._enableLighting=!1,M.ambientLightColors=[],M.mixedAmbientLight=[],M.mixedSpecularColor=[],M.specularColors=[1,1,1],M.directionalLightDirections=[],M.directionalLightDiffuseColors=[],M.directionalLightSpecularColors=[],M.pointLightPositions=[],M.pointLightDiffuseColors=[],M.pointLightSpecularColors=[],M.spotLightPositions=[],M.spotLightDirections=[],M.spotLightDiffuseColors=[],M.spotLightSpecularColors=[],M.spotLightAngle=[],M.spotLightConc=[],M.activeImageLight=null,M.diffusedTextures=new Map,M.specularTextures=new Map,M.drawMode=d.FILL,M.curFillColor=M._cachedFillStyle=[1,1,1,1],M.curAmbientColor=M._cachedFillStyle=[1,1,1,1],M.curSpecularColor=M._cachedFillStyle=[0,0,0,0],M.curEmissiveColor=M._cachedFillStyle=[0,0,0,0],M.curStrokeColor=M._cachedStrokeStyle=[0,0,0,1],M.curBlendMode=d.BLEND,M.preEraseBlend=void 0,M._cachedBlendMode=void 0,M.webglVersion===d.WEBGL2?M.blendExt=M.GL:M.blendExt=M.GL.getExtension("EXT_blend_minmax"),M._isBlending=!1,M._hasSetAmbient=!1,M._useSpecularMaterial=!1,M._useEmissiveMaterial=!1,M._useNormalMaterial=!1,M._useShininess=1,M._useMetalness=0,M._useLineColor=!1,M._useVertexColor=!1,M.registerEnabled=new Set,M._tint=[255,255,255,255],M.constantAttenuation=1,M.linearAttenuation=0,M.quadraticAttenuation=0,M.uModelMatrix=new i.default.Matrix,M.uViewMatrix=new i.default.Matrix,M.uMVMatrix=new i.default.Matrix,M.uPMatrix=new i.default.Matrix,M.uNMatrix=new i.default.Matrix("mat3"),M.curMatrix=new i.default.Matrix("mat3"),M._currentNormal=new i.default.Vector(0,0,1),M._curCamera=new i.default.Camera(_(M)),M._curCamera._computeCameraDefaultSettings(),M._curCamera._setDefaultCamera(),M.filterCamera=new i.default.Camera(_(M)),M.filterCamera._computeCameraDefaultSettings(),M.filterCamera._setDefaultCamera(),M.prevTouches=[],M.zoomVelocity=0,M.rotateVelocity=new i.default.Vector(0,0),M.moveVelocity=new i.default.Vector(0,0),M.executeZoom=!1,M.executeRotateAndMove=!1,M.specularShader=void 0,M.sphereMapping=void 0,M.diffusedShader=void 0,M._defaultLightShader=void 0,M._defaultImmediateModeShader=void 0,M._defaultNormalShader=void 0,M._defaultColorShader=void 0,M._defaultPointShader=void 0,M.userFillShader=void 0,M.userStrokeShader=void 0,M.userPointShader=void 0,M.retainedMode={geometry:{},buffers:{stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(M)),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(M)),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(M)),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(M)),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(M))],fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(M),M._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(M),M._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(M)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(M)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(M),M._flatten)],text:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(M),M._vToNArray),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(M),M._flatten)]}},M.immediateMode={geometry:new i.default.Geometry,shapeMode:d.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(M),M._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(M),M._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(M)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(M)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(M),M._flatten)],stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(M)),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(M)),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(M)),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(M)),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(M))],point:M.GL.createBuffer()}},M.pointSize=5,M.curStrokeWeight=1,M.curStrokeCap=d.ROUND,M.curStrokeJoin=d.ROUND,M.textures=new Map,M.framebuffers=new Set,M.activeFramebuffers=[],M.filterShader=void 0,M.filterLayer=void 0,M.filterLayerTemp=void 0,M.defaultFilterShaders={},M.textureMode=d.IMAGE,M.textureWrapX=d.CLAMP,M.textureWrapY=d.CLAMP,M._tex=null,M._curveTightness=6,M._lookUpTableBezier=[],M._lookUpTableQuadratic=[],M._lutBezierDetail=0,M._lutQuadraticDetail=0,M.isProcessingVertices=!1,M._tessy=M._initTessy(),M.fontInfos={},M._curShader=void 0,M;throw new TypeError("Cannot call a class as a function")}return Y=se,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new p.default(this)}},{key:"endGeometry",value:function(){var M;if(this.geometryBuilder)return M=this.geometryBuilder.finish(),this.geometryBuilder=void 0,M;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(M){return this.beginGeometry(),M(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(M){var R={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};M._glAttributes===null?M._glAttributes=R:M._glAttributes=Object.assign(R,M._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?d.WEBGL2:d.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var M=this.drawingContext;M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL),M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var M=this.drawingContext;return M.getParameter(M.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(M,R){this._maxTextureSize||(this._maxTextureSize=this._getParam());var W=this._maxTextureSize,W=(i.default.prototype._maxAllowedPixelDimensions,Math.floor(W/this.pixelDensity())),z=Math.min(M,W),W=Math.min(R,W);return z===M&&W===R||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(z,", height: ").concat(W,".")),{adjustedWidth:z,adjustedHeight:W}}},{key:"_resetContext",value:function(M,R){var z,W=this.width,J=this.height,ie=this.canvas.id,te=this._pInst instanceof i.default.Graphics,ie=(te?((z=this._pInst).canvas.parentNode.removeChild(z.canvas),z.canvas=document.createElement("canvas"),(z._pInst._userNode||document.body).appendChild(z.canvas),i.default.Element.call(z,z.canvas,z._pInst),z.width=W,z.height=J):((z=this.canvas)&&z.parentNode.removeChild(z),(z=document.createElement("canvas")).id=ie,(this._pInst._userNode||document.body).appendChild(z),this._pInst.canvas=z,this.canvas=z),new i.default.RendererGL(this._pInst.canvas,this._pInst,!te));this._pInst._setProperty("_renderer",ie),ie.resize(W,J),ie._applyDefaults(),te||this._pInst._elements.push(ie),typeof R=="function"&&setTimeout(function(){R.apply(window._renderer,M)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var W=(W=this._pInst).color.apply(W,arguments),M=W.levels[0]/255,R=W.levels[1]/255,z=W.levels[2]/255,W=W.levels[3]/255;this.clear(M,R,z,W)}},{key:"fill",value:function(M,R,z,W){var J=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=J._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(M,R,z,W){var J=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=J._array}},{key:"strokeCap",value:function(M){this.curStrokeCap=M}},{key:"strokeJoin",value:function(M){this.curStrokeJoin=M}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(M,R){M.width===R.width&&M.height===R.height||M.resize(R.width,R.height),M.pixelDensity()!==R.pixelDensity()&&M.pixelDensity(R.pixelDensity())}},{key:"filter",value:function(){var M,R,z=this,W=this.getFilterLayer(),J=void 0,te=void 0,ie=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(te=arguments.length<=0?void 0:arguments[0],S(M={},d.BLUR,3),S(M,d.POSTERIZE,4),S(M,d.THRESHOLD,.5),J=te in(M=M)&&(arguments.length<=1?void 0:arguments[1])===void 0?M[te]:arguments.length<=1?void 0:arguments[1],te in this.defaultFilterShaders||(this.defaultFilterShaders[te]=new i.default.Shader(W._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,N[te])),this.filterShader=this.defaultFilterShaders[te]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),de=(this.matchSize(W,ie),W.draw(function(){return z._pInst.clear()}),[1/(ie.width*ie.pixelDensity()),1/(ie.height*ie.pixelDensity())]);te===d.BLUR?(R=this.getFilterLayerTemp(),this.matchSize(R,ie),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(d.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",de),this.filterShader.setUniform("canvasSize",[ie.width,ie.height]),this.filterShader.setUniform("radius",Math.max(1,J)),R.draw(function(){z.filterShader.setUniform("direction",[1,0]),z.filterShader.setUniform("tex0",ie),z._pInst.clear(),z._pInst.shader(z.filterShader),z._pInst.noLights(),z._pInst.plane(ie.width,ie.height)}),W.draw(function(){z.filterShader.setUniform("direction",[0,1]),z.filterShader.setUniform("tex0",R),z._pInst.clear(),z._pInst.shader(z.filterShader),z._pInst.noLights(),z._pInst.plane(ie.width,ie.height)}),this._pInst.pop()):W.draw(function(){z._pInst.noStroke(),z._pInst.blendMode(d.BLEND),z._pInst.shader(z.filterShader),z.filterShader.setUniform("tex0",ie),z.filterShader.setUniform("texelSize",de),z.filterShader.setUniform("canvasSize",[ie.width,ie.height]),z.filterShader.setUniform("filterParameter",J),z._pInst.noLights(),z._pInst.plane(ie.width,ie.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(d.CORNER),this._pInst.blendMode(d.BLEND),ie.filterCamera._resize(),this._pInst.setCamera(ie.filterCamera),this._pInst.resetMatrix(),this._pInst.image(W,-ie.width/2,-ie.height/2,ie.width,ie.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(M){return M?this._pInst.pixelDensity(M):this._pInst.pixelDensity()}},{key:"blendMode",value:function(M){M===d.DARKEST||M===d.LIGHTEST||M===d.ADD||M===d.BLEND||M===d.SUBTRACT||M===d.SCREEN||M===d.EXCLUSION||M===d.REPLACE||M===d.MULTIPLY||M===d.REMOVE?this.curBlendMode=M:M!==d.BURN&&M!==d.OVERLAY&&M!==d.HARD_LIGHT&&M!==d.SOFT_LIGHT&&M!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(M,R){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(d.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,M/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,R/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=(g(j(se.prototype),"beginClip",this).call(this,M),this.drawTarget()._isClipApplied=!0,this.GL);M.clearStencil(0),M.clear(M.STENCIL_BUFFER_BIT),M.enable(M.STENCIL_TEST),this._stencilTestOn=!0,M.stencilFunc(M.ALWAYS,1,255),M.stencilOp(M.KEEP,M.KEEP,M.REPLACE),M.disable(M.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var M=this.GL;M.stencilOp(M.KEEP,M.KEEP,M.KEEP),M.stencilFunc(this._clipInvert?M.EQUAL:M.NOTEQUAL,0,255),M.enable(M.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),g(j(se.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(M){this.curStrokeWeight!==M&&(this.pointSize=M,this.curStrokeWeight=M)}},{key:"_getPixel",value:function(M,R){var z=this.GL;return V(z,null,M,R,z.RGBA,z.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var M,R,z=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(M=this._pInst._pixelDensity,R=this.GL,z._setProperty("pixels",H(z.pixels,R,null,0,0,this.width*M,this.height*M,R.RGBA,R.UNSIGNED_BYTE,this.height*M)))}},{key:"updatePixels",value:function(){var M=this._getTempFramebuffer();M.pixels=this._pixelsState.pixels,M.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(d.CENTER),this._pInst.image(M,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:d.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:d.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(M){return this.retainedMode.geometry[M]!==void 0}},{key:"viewport",value:function(M,R){this._viewport=[0,0,M,R],this.GL.viewport(0,0,M,R)}},{key:"resize",value:function(J,W){i.default.Renderer.prototype.resize.call(this,J,W),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var J=this._pixelsState,z=(J.pixels!==void 0&&J._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),W=!1,J=void 0;try{for(var te,ie=this.framebuffers[Symbol.iterator]();!(z=(te=ie.next()).done);z=!0)te.value._canvasSizeChanged()}catch(de){W=!0,J=de}finally{try{z||ie.return==null||ie.return()}finally{if(W)throw J}}}},{key:"clear",value:function(){var M=(arguments.length<=0?void 0:arguments[0])||0,R=(arguments.length<=1?void 0:arguments[1])||0,z=(arguments.length<=2?void 0:arguments[2])||0,W=(arguments.length<=3?void 0:arguments[3])||0,J=this.activeFramebuffer();J&&J.format===d.UNSIGNED_BYTE&&!J.antialias&&W===0&&(W=1e-10),this.GL.clearColor(M*W,R*W,z*W,W),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(M,R,z,W,J,te){arguments.length===16?i.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([M,R,0,0,z,W,0,0,0,0,1,0,J,te,0,1])}},{key:"translate",value:function(M,R,z){return M instanceof i.default.Vector&&(z=M.z,R=M.y,M=M.x),this.uModelMatrix.translate([M,R,z]),this}},{key:"scale",value:function(M,R,z){return this.uModelMatrix.scale(M,R,z),this}},{key:"rotate",value:function(M,R){return R===void 0?this.rotateZ(M):(i.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(M){return this.rotate(M,1,0,0),this}},{key:"rotateY",value:function(M){return this.rotate(M,0,1,0),this}},{key:"rotateZ",value:function(M){return this.rotate(M,0,0,1),this}},{key:"push",value:function(){var M=i.default.Renderer.prototype.push.apply(this),R=M.properties;return R.uModelMatrix=this.uModelMatrix.copy(),R.uViewMatrix=this.uViewMatrix.copy(),R.uPMatrix=this.uPMatrix.copy(),R._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),R.ambientLightColors=this.ambientLightColors.slice(),R.specularColors=this.specularColors.slice(),R.directionalLightDirections=this.directionalLightDirections.slice(),R.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),R.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),R.pointLightPositions=this.pointLightPositions.slice(),R.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),R.pointLightSpecularColors=this.pointLightSpecularColors.slice(),R.spotLightPositions=this.spotLightPositions.slice(),R.spotLightDirections=this.spotLightDirections.slice(),R.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),R.spotLightSpecularColors=this.spotLightSpecularColors.slice(),R.spotLightAngle=this.spotLightAngle.slice(),R.spotLightConc=this.spotLightConc.slice(),R.userFillShader=this.userFillShader,R.userStrokeShader=this.userStrokeShader,R.userPointShader=this.userPointShader,R.pointSize=this.pointSize,R.curStrokeWeight=this.curStrokeWeight,R.curStrokeColor=this.curStrokeColor,R.curFillColor=this.curFillColor,R.curAmbientColor=this.curAmbientColor,R.curSpecularColor=this.curSpecularColor,R.curEmissiveColor=this.curEmissiveColor,R._hasSetAmbient=this._hasSetAmbient,R._useSpecularMaterial=this._useSpecularMaterial,R._useEmissiveMaterial=this._useEmissiveMaterial,R._useShininess=this._useShininess,R._useMetalness=this._useMetalness,R.constantAttenuation=this.constantAttenuation,R.linearAttenuation=this.linearAttenuation,R.quadraticAttenuation=this.quadraticAttenuation,R._enableLighting=this._enableLighting,R._useNormalMaterial=this._useNormalMaterial,R._tex=this._tex,R.drawMode=this.drawMode,R._currentNormal=this._currentNormal,R.curBlendMode=this.curBlendMode,R.activeImageLight=this.activeImageLight,R.textureMode=this.textureMode,M}},{key:"pop",value:function(){var M;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var R=arguments.length,z=new Array(R),W=0;W<R;W++)z[W]=arguments[W];(M=g(j(se.prototype),"pop",this)).call.apply(M,[this].concat(z)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var M=this.drawTarget();M._isClipApplied!==this._stencilTestOn&&(M._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var M=this.userStrokeShader;return M&&M.isStrokeShader()?M:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(M){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(I)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",M),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var M=this.userFillShader;if(this._useNormalMaterial&&(!M||!M.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getImmediateModeShader();return M}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var M=this.userFillShader;if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getColorShader();return M}},{key:"_getImmediatePointShader",value:function(){var M=this.userPointShader;return M&&M.isPointShader()?M:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+B.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+B.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+B.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+B.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===d.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+B.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+B.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(M,R){var z="";return this.webglVersion===d.WEBGL2&&(z+=`#version 300 es
#define WEBGL2
`),M==="vert"?z+=`#define VERTEX_SHADER
`:M==="frag"&&(z+=`#define FRAGMENT_SHADER
`),R&&(z+="precision ".concat(R,` float;
`)),z}},{key:"_getEmptyTexture",value:function(){var M;return this._emptyTexture||((M=new i.default.Image(1,1)).set(0,0,255),this._emptyTexture=new i.default.Texture(this,M)),this._emptyTexture}},{key:"getTexture",value:function(M){M instanceof i.default.Framebuffer&&(M=M.color);var R=this.textures.get(M);return R||(R=new i.default.Texture(this,M),this.textures.set(M,R),R)}},{key:"getDiffusedTexture",value:function(M){var R,z,W=this;return this.diffusedTextures.get(M)!=null?this.diffusedTextures.get(M):(R=Math.floor(M.height/M.width*200),z=this._pInst.createFramebuffer({width:200,height:R,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(B.imageLightVert,B.imageLightDiffusedFrag)),z.draw(function(){W._pInst.shader(W.diffusedShader),W.diffusedShader.setUniform("environmentMap",M),W._pInst.noStroke(),W._pInst.rectMode(d.CENTER),W._pInst.noLights(),W._pInst.rect(0,0,200,R)}),this.diffusedTextures.set(M,z),z)}},{key:"getSpecularTexture",value:function(M){var R=this;if(this.specularTextures.get(M)!=null)return this.specularTextures.get(M);for(var z,W=[],J=this._pInst.createFramebuffer({width:512,height:512,density:1}),te=Math.log(512)/Math.log(2),ie=(this.specularShader||(this.specularShader=this._pInst.createShader(B.imageLightVert,B.imageLightSpecularFrag)),512);1<=ie;ie/=2)(function(de){J.resize(de,de);var oe=1-Math.log(de)/Math.log(2)/te;J.draw(function(){R._pInst.shader(R.specularShader),R._pInst.clear(),R.specularShader.setUniform("environmentMap",M),R.specularShader.setUniform("roughness",oe),R._pInst.noStroke(),R._pInst.noLights(),R._pInst.plane(de,de)}),W.push(J.get().drawingContext.getImageData(0,0,de,de))})(ie);return J.remove(),z=new c.MipmapTexture(this,W,{}),this.specularTextures.set(M,z),z}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(M){return new i.default.Framebuffer(this,M)}},{key:"_setStrokeUniforms",value:function(M){M.bindShader(),M.setUniform("uUseLineColor",this._useLineColor),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uStrokeWeight",this.curStrokeWeight),M.setUniform("uStrokeCap",F[this.curStrokeCap]),M.setUniform("uStrokeJoin",A[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(M){var R=this,z=(M.bindShader(),this.mixedSpecularColor=f(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(W,J){return R.curFillColor[J]*R._useMetalness+W*(1-R._useMetalness)})),M.setUniform("uUseVertexColor",this._useVertexColor),M.setUniform("uMaterialColor",this.curFillColor),M.setUniform("isTexture",!!this._tex),this._tex&&M.setUniform("uSampler",this._tex),M.setUniform("uTint",this._tint),M.setUniform("uHasSetAmbient",this._hasSetAmbient),M.setUniform("uAmbientMatColor",this.curAmbientColor),M.setUniform("uSpecularMatColor",this.mixedSpecularColor),M.setUniform("uEmissiveMatColor",this.curEmissiveColor),M.setUniform("uSpecular",this._useSpecularMaterial),M.setUniform("uEmissive",this._useEmissiveMaterial),M.setUniform("uShininess",this._useShininess),M.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(M),M.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),z=(M.setUniform("uPointLightCount",z),M.setUniform("uPointLightLocation",this.pointLightPositions),M.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),M.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),z=(M.setUniform("uDirectionalLightCount",z),M.setUniform("uLightingDirection",this.directionalLightDirections),M.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),M.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),z=(this.mixedAmbientLight=f(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(W){return W-=R._useMetalness,Math.max(0,W)})),M.setUniform("uAmbientLightCount",z),M.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);M.setUniform("uSpotLightCount",z),M.setUniform("uSpotLightAngle",this.spotLightAngle),M.setUniform("uSpotLightConc",this.spotLightConc),M.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),M.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),M.setUniform("uSpotLightLocation",this.spotLightPositions),M.setUniform("uSpotLightDirection",this.spotLightDirections),M.setUniform("uConstantAttenuation",this.constantAttenuation),M.setUniform("uLinearAttenuation",this.linearAttenuation),M.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),M.bindTextures()}},{key:"_setImageLightUniforms",value:function(M){var R;M.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(R=this.getDiffusedTexture(this.activeImageLight),M.setUniform("environmentMapDiffused",R),R=this.getSpecularTexture(this.activeImageLight),M.setUniform("environmentMapSpecular",R))}},{key:"_setPointUniforms",value:function(M){M.bindShader(),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(M,R,z,W,J){R=R||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(R,M),z!==void 0&&((M=z)instanceof i.default.DataArray?M=z.dataArray():M instanceof(W||Float32Array)||(M=new(W||Float32Array)(M)),this.GL.bufferData(R,M,J||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(M,R){return M.length===R.length&&M.every(function(z,W){return z===R[W]})}},{key:"_isTypedArray",value:function(M){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(R){return M instanceof R})}},{key:"_flatten",value:function(M){return M.flat()}},{key:"_vToNArray",value:function(M){return M.flatMap(function(R){return[R.x,R.y,R.z]})}},{key:"_bezierCoefficients",value:function(M){var R=M*M,z=1-M,W=z*z;return[W*z,3*W*M,3*z*R,R*M]}},{key:"_quadraticCoefficients",value:function(M){var R=1-M;return[R*R,2*R*M,M*M]}},{key:"_bezierToCatmull",value:function(M){return[M[1],M[1]+(M[2]-M[0])/this._curveTightness,M[2]-(M[3]-M[1])/this._curveTightness,M[2]]}},{key:"_initTessy",value:function(){var M=new m.default.GluTesselator;return M.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(R,z){var W=!0,J=!1,te=void 0;try{for(var ie,de=R[Symbol.iterator]();!(W=(ie=de.next()).done);W=!0){var oe=ie.value;z.push(oe)}}catch(he){J=!0,te=he}finally{try{W||de.return==null||de.return()}finally{if(J)throw te}}}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(R){R!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(R))}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(R){console.log("error callback"),console.log("error number: ".concat(R))}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(R,z,W){for(var J=new Array(i.default.RendererGL.prototype.tessyVertexSize).fill(0),te=0;te<W.length;te++)for(var ie=0;ie<J.length;ie++)W[te]!==0&&z[te]&&(J[ie]+=z[te][ie]*W[te]);return J}),M.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(R){}),M.gluTessProperty(m.default.gluEnum.GLU_TESS_WINDING_RULE,m.default.windingRule.GLU_TESS_WINDING_NONZERO),M}},{key:"_triangulate",value:function(M){var R=M[0]?M[0][2]:void 0,z=!0,W=!0,oe=!1,le=void 0;try{for(var J,te=M[Symbol.iterator]();!(W=(J=te.next()).done);W=!0)for(var ie=J.value,de=0;de<ie.length;de+=i.default.RendererGL.prototype.tessyVertexSize)if(ie[de+2]!==R){z=!1;break}}catch(Te){oe=!0,le=Te}finally{try{W||te.return==null||te.return()}finally{if(oe)throw le}}z?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var oe=[],he=(this._tessy.gluTessBeginPolygon(oe),!0),le=!1,ee=void 0;try{for(var pe,_e=M[Symbol.iterator]();!(he=(pe=_e.next()).done);he=!0){var De=pe.value;this._tessy.gluTessBeginContour();for(var xe=0;xe<De.length;xe+=i.default.RendererGL.prototype.tessyVertexSize){var je=De.slice(xe,xe+i.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(je,je)}this._tessy.gluTessEndContour()}}catch(Te){le=!0,ee=Te}finally{try{he||_e.return==null||_e.return()}finally{if(le)throw ee}}return this._tessy.gluTessEndPolygon(),oe}}])&&y(Y.prototype,G),se}(i.default.Renderer),i.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype.tessyVertexSize=12,O=i.default.RendererGL,l.default=O},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,a,l){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d,p){return function(m){if(Array.isArray(m))return m}(d)||function(m,c){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var h=[],v=!0,f=!1,y=void 0;try{for(var g,b=m[Symbol.iterator]();!(v=(g=b.next()).done)&&(h.push(g.value),!c||h.length!==c);v=!0);}catch(x){f=!0,y=x}finally{try{v||b.return==null||b.return()}finally{if(f)throw y}}return h}}(d,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(d,p){for(var m=0;m<p.length;m++){var c=p[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}o.default.Shader=function(){function d(c,h,v){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},y=this,g=d;if(!(y instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=c,this._vertSrc=h,this._fragSrc=v,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:f.uniforms||{},declarations:f.declarations,helpers:f.helpers||{},vertex:f.vertex||{},fragment:f.fragment||{},modified:{vertex:f.modified&&f.modified.vertex||{},fragment:f.modified&&f.modified.fragment||{}}}}var p,m;return p=d,(m=[{key:"shaderSrc",value:function(_,h){var v,f,y,g,b,_=u(_.split("void main"),2),x=_[0],_=_[1],j="";for(v in this.hooks.uniforms)j+="uniform ".concat(v,`;
`);for(f in this.hooks.declarations&&(j+=this.hooks.declarations+`
`),this.hooks[h].declarations&&(j+=this.hooks[h].declarations+`
`),this.hooks.helpers)j+="".concat(f).concat(this.hooks.helpers[f],`
`);for(y in this.hooks[h])y!=="declarations"&&(g=(b=u(y.split(" "),2))[0],b=b[1],this.hooks.modified[h][y]&&(j+="#define AUGMENTED_HOOK_"+b+`
`),j+=g+" HOOK_"+b+this.hooks[h][y]+`
`);return x+j+"void main"+_}},{key:"version",value:function(){var c=/#version (.+)$/.exec(this.vertSrc());return c?c[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var c in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[c]?"[MODIFIED] ":"")+c+this.hooks.vertex[c]);for(var h in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[h]?"[MODIFIED] ":"")+h+this.hooks.fragment[h]);for(var v in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(v+this.hooks.helpers[v])}},{key:"modify",value:function(c){o.default._validateParameters("p5.Shader.modify",arguments);var h,v={vertex:{},fragment:{},helpers:{}};for(h in c)h!=="declarations"&&h!=="uniforms"&&(h==="vertexDeclarations"?v.vertex.declarations=(v.vertex.declarations||"")+`
`+c[h]:h==="fragmentDeclarations"?v.fragment.declarations=(v.fragment.declarations||"")+`
`+c[h]:this.hooks.vertex[h]?v.vertex[h]=c[h]:this.hooks.fragment[h]?v.fragment[h]=c[h]:v.helpers[h]=c[h]);var f,y,g=Object.assign({},this.hooks.modified.vertex),b=Object.assign({},this.hooks.modified.fragment);for(f in v.vertex||{})f!=="declarations"&&(g[f]=!0);for(y in v.fragment||{})y!=="declarations"&&(b[y]=!0);return new o.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(c.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,c.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,v.fragment||{}),vertex:Object.assign({},this.hooks.vertex,v.vertex||{}),helpers:Object.assign({},this.hooks.helpers,v.helpers||{}),modified:{vertex:g,fragment:b}})}},{key:"init",value:function(){if(this._glProgram===0){var c,h=this._renderer.GL;if(this._vertShader=h.createShader(h.VERTEX_SHADER),h.shaderSource(this._vertShader,this.vertSrc()),h.compileShader(this._vertShader),!h.getShaderParameter(this._vertShader,h.COMPILE_STATUS))return c=h.getShaderInfoLog(this._vertShader),console.error(c),null;if(this._fragShader=h.createShader(h.FRAGMENT_SHADER),h.shaderSource(this._fragShader,this.fragSrc()),h.compileShader(this._fragShader),!h.getShaderParameter(this._fragShader,h.COMPILE_STATUS))return c=h.getShaderInfoLog(this._fragShader),console.error(c),null;this._glProgram=h.createProgram(),h.attachShader(this._glProgram,this._vertShader),h.attachShader(this._glProgram,this._fragShader),h.linkProgram(this._glProgram),h.getProgramParameter(this._glProgram,h.LINK_STATUS)||o.default._friendlyError("Snap! Error linking shader program: ".concat(h.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var c in this.hooks.uniforms){var h=u(c.split(" "),2)[1],c=this.hooks.uniforms[c],v=void 0;(v=c instanceof Function?c():c)!=null&&this.setUniform(h,v)}}},{key:"copyToContext",value:function(c){var h=new o.default.Shader(c._renderer,this._vertSrc,this._fragSrc);return h.ensureCompiledOnContext(c),h}},{key:"ensureCompiledOnContext",value:function(c){if(this._glProgram!==0&&this._renderer!==c._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=c._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var c=this._renderer.GL,h=c.getProgramParameter(this._glProgram,c.ACTIVE_ATTRIBUTES),v=0;v<h;++v){var f=c.getActiveAttrib(this._glProgram,v),y=f.name,g=c.getAttribLocation(this._glProgram,y),b={};b.name=y,b.location=g,b.index=v,b.type=f.type,b.size=f.size,this.attributes[y]=b}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var c=this._renderer.GL,h=c.getProgramParameter(this._glProgram,c.ACTIVE_UNIFORMS),v=0,f=0;f<h;++f){var y=c.getActiveUniform(this._glProgram,f),g={},b=(g.location=c.getUniformLocation(this._glProgram,y.name),g.size=y.size,y.name);1<y.size&&(b=b.substring(0,b.indexOf("[0]"))),g.name=b,g.type=y.type,g._cachedData=void 0,g.type===c.SAMPLER_2D&&(g.samplerIndex=v,v++,this.samplers.push(g)),g.isArray=1<y.size||g.type===c.FLOAT_MAT3||g.type===c.FLOAT_MAT4||g.type===c.FLOAT_VEC2||g.type===c.FLOAT_VEC3||g.type===c.FLOAT_VEC4||g.type===c.INT_VEC2||g.type===c.INT_VEC4||g.type===c.INT_VEC3,this.uniforms[b]=g}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var c=this._renderer.GL,h=!0,v=!1,f=void 0;try{for(var y,g=this.samplers[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var b=y.value,x=b.texture;x===void 0&&(x=this._renderer._getEmptyTexture()),c.activeTexture(c.TEXTURE0+b.samplerIndex),x.bindTexture(),x.update(),c.uniform1i(b.location,b.samplerIndex)}}catch(_){v=!0,f=_}finally{try{h||g.return==null||g.return()}finally{if(v)throw f}}}},{key:"updateTextures",value:function(){var c=!0,h=!1,v=void 0;try{for(var f,y=this.samplers[Symbol.iterator]();!(c=(f=y.next()).done);c=!0){var g=f.value.texture;g&&g.update()}}catch(b){h=!0,v=b}finally{try{c||y.return==null||y.return()}finally{if(h)throw v}}}},{key:"unbindTextures",value:function(){var c=!0,h=!1,v=void 0;try{for(var f,y=this.samplers[Symbol.iterator]();!(c=(f=y.next()).done);c=!0){var g=f.value;this.setUniform(g.name,this._renderer._getEmptyTexture())}}catch(b){h=!0,v=b}finally{try{c||y.return==null||y.return()}finally{if(h)throw v}}}},{key:"_setMatrixUniforms",value:function(){var c=this._renderer.uModelMatrix,h=this._renderer.uViewMatrix,v=this._renderer.uPMatrix,f=c.copy().mult(h),y=(this._renderer.uMVMatrix=f).copy();y.mult(v),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",h.mat4),this.setUniform("uProjectionMatrix",v.mat4),this.setUniform("uModelMatrix",c.mat4),this.setUniform("uModelViewMatrix",f.mat4),this.setUniform("uModelViewProjectionMatrix",y.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var c=this._renderer.GL;return this._renderer._curShader!==this&&(c.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(c,h){var v=this.uniforms[c];if(v){var f=this._renderer.GL;if(v.isArray){if(v._cachedData&&this._renderer._arraysEqual(v._cachedData,h))return;v._cachedData=h.slice(0)}else{if(v._cachedData&&v._cachedData===h)return;Array.isArray(h)?v._cachedData=h.slice(0):v._cachedData=h}var y=v.location;switch(this.useProgram(),v.type){case f.BOOL:h===!0?f.uniform1i(y,1):f.uniform1i(y,0);break;case f.INT:1<v.size?h.length&&f.uniform1iv(y,h):f.uniform1i(y,h);break;case f.FLOAT:1<v.size?h.length&&f.uniform1fv(y,h):f.uniform1f(y,h);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(y,!1,h);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(y,!1,h);break;case f.FLOAT_VEC2:1<v.size?h.length&&f.uniform2fv(y,h):f.uniform2f(y,h[0],h[1]);break;case f.FLOAT_VEC3:1<v.size?h.length&&f.uniform3fv(y,h):f.uniform3f(y,h[0],h[1],h[2]);break;case f.FLOAT_VEC4:1<v.size?h.length&&f.uniform4fv(y,h):f.uniform4f(y,h[0],h[1],h[2],h[3]);break;case f.INT_VEC2:1<v.size?h.length&&f.uniform2iv(y,h):f.uniform2i(y,h[0],h[1]);break;case f.INT_VEC3:1<v.size?h.length&&f.uniform3iv(y,h):f.uniform3i(y,h[0],h[1],h[2]);break;case f.INT_VEC4:1<v.size?h.length&&f.uniform4iv(y,h):f.uniform4i(y,h[0],h[1],h[2],h[3]);break;case f.SAMPLER_2D:if(typeof h=="number"){if(h<f.TEXTURE0||h>f.TEXTURE31||h!==Math.ceil(h))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;f.activeTexture(h),f.uniform1i(y,h)}else f.activeTexture(f.TEXTURE0+v.samplerIndex),v.texture=h instanceof o.default.Texture?h:this._renderer.getTexture(h),f.uniform1i(y,v.samplerIndex),v.texture.src.gifProperties&&v.texture.src._animateGif(this._renderer._pInst);break;case f.SAMPLER_CUBE:case f.SAMPLER_3D:case f.SAMPLER_2D_SHADOW:case f.SAMPLER_2D_ARRAY:case f.SAMPLER_2D_ARRAY_SHADOW:case f.SAMPLER_CUBE_SHADOW:case f.INT_SAMPLER_2D:case f.INT_SAMPLER_3D:case f.INT_SAMPLER_CUBE:case f.INT_SAMPLER_2D_ARRAY:case f.UNSIGNED_INT_SAMPLER_2D:case f.UNSIGNED_INT_SAMPLER_3D:case f.UNSIGNED_INT_SAMPLER_CUBE:case f.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof h=="number"&&(h<f.TEXTURE0||h>f.TEXTURE31||h!==Math.ceil(h)?console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(f.activeTexture(h),f.uniform1i(y,h)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(c){return c!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(c,h,v,f,y,g){var b;return c&&(c=c.location)!==-1&&(b=this._renderer.GL,this._renderer.registerEnabled.has(c)||(b.enableVertexAttribArray(c),this._renderer.registerEnabled.add(c)),this._renderer.GL.vertexAttribPointer(c,h,v||b.FLOAT,f||!1,y||0,g||0)),this}},{key:"disableRemainingAttributes",value:function(){var c=this,h=!0,v=!1,f=void 0;try{for(var y,g=this._renderer.registerEnabled.values()[Symbol.iterator]();!(h=(y=g.next()).done);h=!0)(function(){var b=y.value;Object.keys(c.attributes).some(function(x){return c.attributes[x].location===b})||(c._renderer.GL.disableVertexAttribArray(b),c._renderer.registerEnabled.delete(b))})()}catch(b){v=!0,f=b}finally{try{h||g.return==null||g.return()}finally{if(v)throw f}}}}])&&i(p.prototype,m),d}(),t=o.default.Shader,l.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,a,l){function o(x){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function u(x){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(_){return o(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":o(_)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(l,"__esModule",{value:!0}),l.checkWebGLCapabilities=b,l.default=l.MipmapTexture=void 0;var i=(g=t("../core/main"))&&g.__esModule?g:{default:g},d=function(x){if(x&&x.__esModule)return x;if(x===null||u(x)!=="object"&&typeof x!="function")return{default:x};var _=p();if(_&&_.has(x))return _.get(x);var j,S={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in x){var E;Object.prototype.hasOwnProperty.call(x,j)&&((E=D?Object.getOwnPropertyDescriptor(x,j):null)&&(E.get||E.set)?Object.defineProperty(S,j,E):S[j]=x[j])}return S.default=x,_&&_.set(x,S),S}(t("../core/constants"));function p(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,p=function(){return x},x)}function m(x,_){return(m=Object.setPrototypeOf||function(j,S){return j.__proto__=S,j})(x,_)}function c(x){return function(){var _,j=h(x),j=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=h(this).constructor,Reflect.construct(j,arguments,_)):j.apply(this,arguments),this);if(!_||u(_)!=="object"&&typeof _!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function h(x){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(x)}function v(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function f(x,_){for(var j=0;j<_.length;j++){var S=_[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}function y(x,_,j){_&&f(x.prototype,_)}i.default.Texture=function(){function x(T,j,E){v(this,x),this._renderer=T;var D=this._renderer.GL,E=(E=E||{},this.src=j,this.glTex=void 0,this.glTarget=D.TEXTURE_2D,this.glFormat=E.format||D.RGBA,this.mipmaps=!1,this.glMinFilter=E.minFilter||D.LINEAR,this.glMagFilter=E.magFilter||D.LINEAR,this.glWrapS=E.wrapS||D.CLAMP_TO_EDGE,this.glWrapT=E.wrapT||D.CLAMP_TO_EDGE,this.glDataType=E.dataType||D.UNSIGNED_BYTE,b(T)),T=(this.glFormat!==D.HALF_FLOAT||E.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=D.FLOAT),this.glFormat!==D.HALF_FLOAT||this.glMinFilter!==D.LINEAR&&this.glMagFilter!==D.LINEAR||E.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===D.LINEAR&&(this.glMinFilter=D.NEAREST),this.glMagFilter===D.LINEAR&&(this.glMagFilter=D.NEAREST)),this.glFormat!==D.FLOAT||E.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=D.UNSIGNED_BYTE),this.glFormat!==D.FLOAT||this.glMinFilter!==D.LINEAR&&this.glMagFilter!==D.LINEAR||E.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===D.LINEAR&&(this.glMinFilter=D.NEAREST),this.glMagFilter===D.LINEAR&&(this.glMagFilter=D.NEAREST)),this.isSrcMediaElement=i.default.MediaElement!==void 0&&j instanceof i.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=i.default.Element!==void 0&&j instanceof i.default.Element&&!(j instanceof i.default.Graphics)&&!(j instanceof i.default.Renderer),this.isSrcP5Image=j instanceof i.default.Image,this.isSrcP5Graphics=j instanceof i.default.Graphics,this.isSrcP5Renderer=j instanceof i.default.Renderer,this.isImageData=typeof ImageData<"u"&&j instanceof ImageData,this.isFramebufferTexture=j instanceof i.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=T.width,this.height=T.height,this.init(T),this}return y(x,[{key:"_getTextureDataFromSource",value:function(){var _;return this.isFramebufferTexture?_=this.src.rawTexture():this.isSrcP5Image?_=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),_=this.src.canvas||this.src.elt):this.isImageData&&(_=this.src),_}},{key:"init",value:function(_){var j,S=this._renderer.GL;this.isFramebufferTexture||(this.glTex=S.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,this.glMagFilter),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(j=new Uint8Array([1,1,1,1]),S.texImage2D(this.glTarget,0,S.RGBA,1,1,0,this.glFormat,this.glDataType,j)):S.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_))}},{key:"update",value:function(){var _,j,S,D=this.src;return D.width!==0&&D.height!==0&&!this.isFramebufferTexture&&(_=this._getTextureDataFromSource(),j=!1,S=this._renderer.GL,_.width!==this.width||_.height!==this.height?(j=!0,this.width=_.width||D.width,this.height=_.height||D.height,this.isSrcP5Image?D.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&D.setModified(!0)):this.isSrcP5Image?D.isModified()&&D.setModified(!(j=!0)):this.isSrcMediaElement?D.isModified()?D.setModified(!(j=!0)):D.loadedmetadata&&this._videoPrevUpdateTime!==D.time()&&(this._videoPrevUpdateTime=D.time(),j=!0):this.isImageData?D._dirty&&(j=!(D._dirty=!1)):j=!0,j&&(this.bindTexture(),S.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_)),j)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(_,j){var S=this._renderer.GL;this.glMinFilter=this.glFilter(_),this.glMagFilter=this.glFilter(j),this.bindTexture(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.glMinFilter),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(_){var j=this._renderer.GL;return _===d.NEAREST?j.NEAREST:j.LINEAR}},{key:"setWrapMode",value:function(_,j){function S(F){return(F&F-1)==0}var D=this._renderer.GL,T=this._getTextureDataFromSource(),T=T.naturalWidth&&T.naturalHeight?(E=T.naturalWidth,T.naturalHeight):(E=this.width,this.height),E=S(E),T=S(T);_===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||E&&T?this.glWrapS=D.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=D.CLAMP_TO_EDGE):_===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||E&&T?this.glWrapS=D.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=D.CLAMP_TO_EDGE):this.glWrapS=D.CLAMP_TO_EDGE,j===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||E&&T?this.glWrapT=D.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=D.CLAMP_TO_EDGE):j===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||E&&T?this.glWrapT=D.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=D.CLAMP_TO_EDGE):this.glWrapT=D.CLAMP_TO_EDGE,this.bindTexture(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,this.glWrapS),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),x}();var g=function(x){var _=S;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),x&&m(_,x);var j=c(S);function S(D,E,T){return v(this,S),E=(D=j.call(this,D,E,T))._renderer.GL,D.glMinFilter===E.LINEAR&&(D.glMinFilter=E.LINEAR_MIPMAP_LINEAR),D}return y(S,[{key:"glFilter",value:function(D){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(D){var E=this._renderer.GL;this.glTex=E.createTexture(),this.bindTexture();for(var T=0;T<D.length;T++)E.texImage2D(this.glTarget,T,this.glFormat,this.glFormat,this.glDataType,D[T]);this.glMinFilter=E.LINEAR_MIPMAP_LINEAR,E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),S}(i.default.Texture);function b(D){var _=D.GL,D=D.webglVersion,j=D===d.WEBGL2?_.getExtension("EXT_color_buffer_float")&&_.getExtension("EXT_float_blend"):_.getExtension("OES_texture_float"),S=j&&_.getExtension("OES_texture_float_linear"),D=D===d.WEBGL2?_.getExtension("EXT_color_buffer_float"):_.getExtension("OES_texture_half_float");return{float:j,floatLinear:S,halfFloat:D,halfFloatLinear:D&&_.getExtension("OES_texture_half_float_linear")}}l.MipmapTexture=g,t=i.default.Texture,l.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,a,l){function o(x){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function u(x){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(_){return o(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":o(_)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var i,d=(i=t("../core/main"))&&i.__esModule?i:{default:i},p=function(x){if(x&&x.__esModule)return x;if(x===null||u(x)!=="object"&&typeof x!="function")return{default:x};var _=m();if(_&&_.has(x))return _.get(x);var j,S={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in x){var E;Object.prototype.hasOwnProperty.call(x,j)&&((E=D?Object.getOwnPropertyDescriptor(x,j):null)&&(E.get||E.set)?Object.defineProperty(S,j,E):S[j]=x[j])}return S.default=x,_&&_.set(x,S),S}(t("../core/constants"));function m(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,m=function(){return x},x)}function c(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function h(x,_){for(var j=0;j<_.length;j++){var S=_[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}function v(x,_,j){_&&h(x.prototype,_)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},d.default.RendererGL.prototype.textWidth=function(x){return this._isOpenType()?this._textFont._textWidth(x,this._textSize):0};var f=function(){function x(_,j){c(this,x),this.width=_,this.height=j,this.infos=[]}return v(x,[{key:"findImage",value:function(_){var j,S,D=this.width*this.height;if(D<_)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var T=this.infos[E];if(T.index+_<D){S=(j=T).imageData;break}}if(!j){try{S=new ImageData(this.width,this.height)}catch{var F=document.getElementsByTagName("canvas")[0],A=!F,L=(F||((F=document.createElement("canvas")).style.display="none",document.body.appendChild(F)),F.getContext("2d"));L&&(S=L.createImageData(this.width,this.height)),A&&document.body.removeChild(F)}this.infos.push(j={index:0,imageData:S})}return L=j.index,j.index+=_,S._dirty=!0,{imageData:S,index:L}}}]),x}();function y(T,_,j,S,D){var E=T.imageData.data,T=4*T.index++;E[T++]=_,E[T++]=j,E[T++]=S,E[+T]=D}var g=Math.sqrt(3),b=function(){function x(_){c(this,x),this.font=_,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={}}return v(x,[{key:"getGlyphInfo",value:function(_){var j=this.glyphInfos[_.index];if(!j){var S=_.getBoundingBox(),D=S.x1,E=S.y1,T=S.x2-D,F=S.y2-E,A=_.path.commands;if(T==0||F==0||!A.length)return this.glyphInfos[_.index]={};for(var L=[],O=[],B=[],I=8;0<=I;--I)B.push([]);for(I=8;0<=I;--I)O.push([]);var N,H,V,G,Y=function(){function ge(we,Me,ke,ce){c(this,ge),this.p0=we,this.c0=Me,this.c1=ke,this.p1=ce}return v(ge,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ce){var Me=d.default.Vector.lerp(this.p0,this.c0,Ce),ce=d.default.Vector.lerp(this.c0,this.c1,Ce),ke=d.default.Vector.lerp(Me,ce,Ce),ce=(this.c1=d.default.Vector.lerp(this.c1,this.p1,Ce),this.c0=d.default.Vector.lerp(ce,this.c1,Ce),d.default.Vector.lerp(ke,this.c0,Ce)),Ce=new ge(this.p0,Me,ke,ce);return this.p0=ce,Ce}},{key:"splitInflections",value:function(){var we=d.default.Vector.sub(this.c0,this.p0),Me=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),we),ke=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),we),d.default.Vector.mult(Me,2)),ce=[],Ce=Me.x*ke.y-Me.y*ke.x;return Ce!==0&&0<=(we=(ke=we.x*ke.y-we.y*ke.x)*ke-4*Ce*(we.x*Me.y-we.y*Me.x))&&(Ce<0&&(Ce=-Ce,ke=-ke),we=(-ke+(Me=Math.sqrt(we)))/(2*Ce),0<(ke=(-ke-Me)/(2*Ce))&&ke<1&&(ce.push(this.split(ke)),we=1-(1-we)/(1-ke)),0<we&&we<1&&ce.push(this.split(we))),ce.push(this),ce}}]),ge}(),K=!0,se=!1,M=void 0;try{for(var R,z=A[Symbol.iterator]();!(K=(R=z.next()).done);K=!0){var W=R.value,J=(W.x-D)/T,te=(W.y-E)/F;if(!Oe(N,H,J,te)){switch(W.type){case"M":V=J,G=te;break;case"L":Ge(N,H,J,te);break;case"Q":var ie=(W.x1-D)/T,de=(W.y1-E)/F;je([N,J,ie],[H,te,de],{x:N,y:H,cx:ie,cy:de});break;case"Z":Oe(N,H,V,G)?L.push({x:N,y:H}):(Ge(N,H,V,G),L.push({x:V,y:G}));break;case"C":for(var oe=function(Q,Ee,Re,ke,ce,Ce,me,Z){var Q=new Y(new d.default.Vector(Q,Ee),new d.default.Vector(Re,ke),new d.default.Vector(ce,Ce),new d.default.Vector(me,Z)).splitInflections(),$=[],ne=30/g,be=!0,Ee=!1,Re=void 0;try{for(var Ve,Xe=Q[Symbol.iterator]();!(be=(Ve=Xe.next()).done);be=!0){for(var Ye=Ve.value,Ke=[],ft=void 0;!(.125<=(ft=ne/Ye.quadError()));){var ct=Math.pow(ft,.3333333333333333),tt=Ye.split(ct),dt=Ye.split(1-ct/(1-ct));$.push(tt),Ke.push(Ye),Ye=dt}ft<1&&$.push(Ye.split(.5)),$.push(Ye),Array.prototype.push.apply($,Ke.reverse())}}catch(at){Ee=!0,Re=at}finally{try{be||Xe.return==null||Xe.return()}finally{if(Ee)throw Re}}return $}(N,H,(W.x1-D)/T,(W.y1-E)/F,(W.x2-D)/T,(W.y2-E)/F,J,te),he=0;he<oe.length;he++){var le=oe[he].toQuadratic();je([le.x,le.x1,le.cx],[le.y,le.y1,le.cy],le)}break;default:throw new Error("unknown command type: ".concat(W.type))}N=J,H=te}}}catch(ge){se=!0,M=ge}finally{try{K||z.return==null||z.return()}finally{if(se)throw M}}for(var ee=L.length,pe=this.strokeImageInfos.findImage(ee),_e=pe.index,De=0;De<ee;++De){var xe=L[De];y(pe,Te(xe.x),Te(xe.y),Te(xe.cx),Te(xe.cy))}(j=this.glyphInfos[_.index]={glyph:_,uGlyphRect:[S.x1,-S.y1,S.x2,-S.y2],strokeImageInfo:pe,strokes:L,colInfo:ae(B,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ae(O,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[j.colInfo.dimOffset,j.rowInfo.dimOffset]}return j;function je(ge,we,Me){var ke=L.length;function ce($,ne,be){for(var Ee=$.length;0<Ee--;){var Re=$[Ee];Re<ne&&(ne=Re),be<Re&&(be=Re)}return{min:ne,max:be}}L.push(Me);for(var Me=ce(ge,1,0),ge=Math.max(Math.floor(9*Me.min-.5),0),Ce=Math.min(Math.ceil(9*Me.max+.5),9),me=ge;me<Ce;++me)B[me].push(ke);for(var Me=ce(we,1,0),ge=Math.max(Math.floor(9*Me.min-.5),0),Z=Math.min(Math.ceil(9*Me.max+.5),9),Q=ge;Q<Z;++Q)O[Q].push(ke)}function Te(ge){return(ge=(Me=255)*ge)<(we=0)?we:Me<ge?Me:ge;var we,Me}function Ge(ge,we,Me,ke){je([ge,Me],[we,ke],{x:ge,y:we,cx:(ge+Me)/2,cy:(we+ke)/2})}function Oe(ge,we,Me,ke){return Math.abs(Me-ge)<1e-5&&Math.abs(ke-we)<1e-5}function ae(ge,we,Me){for(var ke=ge.length,ce=we.findImage(ke),we=ce.index,Ce=0,me=0;me<ke;++me)Ce+=ge[me].length;for(var Z=Me.findImage(Ce),Q=0;Q<ke;++Q){var $=ge[Q],ne=$.length,be=Z.index;y(ce,be>>7,127&be,ne>>7,127&ne);for(var Ee=0;Ee<ne;++Ee){var Re=$[Ee]+_e;y(Z,Re>>7,127&Re,0,0)}}return{cellImageInfo:Z,dimOffset:we,dimImageInfo:ce}}}}]),x}();d.default.RendererGL.prototype._renderText=function(x,_,j,S,D){if(this._textFont&&typeof this._textFont!="string"){if(!(D<=S)&&this._doFill){if(this._isOpenType()){x.push();var D=this._doStroke,E=this.drawMode,T=(this._doStroke=!1,this.drawMode=p.TEXTURE,this._textFont.font),F=(F=this._textFont._fontInfo)||(this._textFont._fontInfo=new b(T)),j=this._textFont._handleAlignment(this,_,j,S),S=this._textSize/T.unitsPerEm,A=(this.translate(j.x,j.y,0),this.scale(S,S,1),this.GL),j=!this._defaultFontShader,L=this._getFontShader(),O=(L.init(),L.bindShader(),j&&(L.setUniform("uGridImageSize",[64,64]),L.setUniform("uCellsImageSize",[64,64]),L.setUniform("uStrokeImageSize",[64,64]),L.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),B=(O||((S=this._textGeom=new d.default.Geometry(1,1,function(){for(var he=0;he<=1;he++)for(var le=0;le<=1;le++)this.vertices.push(new d.default.Vector(le,he,0)),this.uvs.push(le,he)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",S)),!0),j=!1,S=void 0;try{for(var I,N=this.retainedMode.buffers.text[Symbol.iterator]();!(B=(I=N.next()).done);B=!0)I.value._prepareBuffer(O,L)}catch(he){j=!0,S=he}finally{try{B||N.return==null||N.return()}finally{if(j)throw S}}this._bindBuffer(O.indexBuffer,A.ELEMENT_ARRAY_BUFFER),L.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var H=0,V=null,G=T.stringToGlyphs(_),Y=!0,K=!1,se=void 0;try{for(var M,R=G[Symbol.iterator]();!(Y=(M=R.next()).done);Y=!0){var z,W,J=M.value,te=(V&&(H+=T.getKerningValue(V,J)),F.getGlyphInfo(J));te.uGlyphRect&&(z=te.rowInfo,W=te.colInfo,L.setUniform("uSamplerStrokes",te.strokeImageInfo.imageData),L.setUniform("uSamplerRowStrokes",z.cellImageInfo.imageData),L.setUniform("uSamplerRows",z.dimImageInfo.imageData),L.setUniform("uSamplerColStrokes",W.cellImageInfo.imageData),L.setUniform("uSamplerCols",W.dimImageInfo.imageData),L.setUniform("uGridOffset",te.uGridOffset),L.setUniform("uGlyphRect",te.uGlyphRect),L.setUniform("uGlyphOffset",H),L.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),H+=J.advanceWidth,V=J}}catch(he){K=!0,se=he}finally{try{Y||R.return==null||R.return()}finally{if(K)throw se}}}finally{L.unbindShader(),this._doStroke=D,this.drawMode=E,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),x.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return x}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}(Hi)),Hi.exports}var qb=Wb();const Xb=od(qb),Yb=()=>{new Xb(n=>{n.setup=()=>{n.createCanvas(800,380)},n.draw=()=>{n.background(67,70,95),n.stroke(26,27,37);const r=[50,100,150],s=[100,200],t=[185];r.forEach(a=>{s.forEach(l=>{n.line(250,a*2,400,l*1.25)})}),s.forEach(a=>{n.line(400,a*1.25,550,t[0])}),r.forEach(a=>{n.ellipse(250,a*2,30,30)}),s.forEach(a=>{n.ellipse(400,a*1.25,30,30)}),n.fill(135,182,255),n.ellipse(550,t[0],30,30)}},document.getElementById("perceptron-container"))},Wi=new jg(3,2,1);let hh;const fh=()=>{const n=document.querySelector(Ag).checked?1:0,r=document.querySelector(Tg).checked?1:0,s=document.querySelector(kg).checked?1:0;return[n,r,s]},$b=()=>{const n=fh(),r=parseFloat(document.querySelector(pd).value),s=parseInt(document.querySelector(md).value);if(!Wi.trained){const d=Sg({neuronNetwork:Wi,epochs:s,learningRate:r});d.length>0&&Hb(d,hh)}const t=Wi.predict(...n),a=d=>d>.5?"[ c ]":"[  ]",l=" : "+a(t.outputVector[0][0]),o=fd.find(d=>d.inputs.every((p,m)=>p===n[m])),u=(1-Math.abs(t.outputVector[0][0]-o.target))*100,i=document.querySelector(Cg);i.innerHTML=l,i.innerHTML+="<br/><br/> : "+o.target+" "+a(o.target),i.innerHTML+="<br/> : "+u.toFixed(3)+"%"};document.querySelector(Mg).addEventListener("click",$b);document.addEventListener("DOMContentLoaded",()=>{hh=Vb(),Yb(fh())});
